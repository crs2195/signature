       SecureBlackbox - version 16.0.327 - Released December 26, 2019
---------------------------------------------------------------------------

What's new:

                              [           Legend:          ]
                              [ ! Breaking change          ]
                              [ + Added feature            ]
                              [ * Improved/changed feature ]
                              [ - Bug fixed                ]


^^^^^^^^^^^^^^^^^^^^
^^^ Version 16.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

---
December 26, 2019
Version 16.0.327. Maintenance update

+ [VCL] Added Android64 support
+ [VCL] Added Embarcadero RAD Studio 10.3.3 support
+ [PHP] Added support for PHP 7.3 and 7.4
+ [All] (XML) Added support for async signing for CounterSignatures in XAdES.

* [All] (DAV) TElWebDAVServer enhanced with Win32FileAttributes, Win32CreationTime, Win32LastAccessTime and Win32LastModifiedTime properties support
* [All] (SSL) Min accepted DHE key size increased to 1024 bits
* [VCL] (SSL) Indy IO Handler components tuned up to increase stability
* [All] (SFTP) Heuristics enhancements to improve interoperability with sshlib and mod_sftp servers
* [All] (SSL) Improvements in session resumption when connecting to load-balanced endpoints such as Cloud services

- [All] (XML) Minor fix for 3DES wrapped keys
- [All] (MIME) Fixed bugs in Priority, RequestDeliveryReceipt and RequestReadReceipt properties in TElMessage class
- [All] (Cloud) Fixed a bug in Copy operation in Azure component

---
November 12, 2019
Version 16.0.326. Maintenance update

+ [All] (HTTP) Added OnGetUserDigestAuthInfo and OnVerifyUserAuthInfo events for better control over authorization

* [All] (SSL) A number of fixes in SSL server component to make it fail safer in case of issues
* [VCL] Improved lifetime handling of certificate/crl retrieivers and factories. NOTE: if you are using CleanupRegisteredGlobalObjects(), this change may affect you.
* [All] (Cloud) Extended Box components with Path and Parent properties
* [All] (WebDAV) TElWebDAVClient improved to accept status codes without reason phrase
* [.NET] A number of improvements and fixes in .NET Core targets
* [All] (Zip) Unified behaviour of OnUserActionNeeded in Tar with that in Zip
* [All] (PKI) Improved handling of system-based EC keypairs
* [All] (Cloud) Updated the REST version used by Azure components to 2015-04-05 as the previously used version has been gradually retiring
* [All] (SSH) A number of server detection heuristics improvements in SSH and SFTP components for better interoperability

- [All] (PDF) Fixed automatic signature naming when signing an encrypted PDF document.
- [All] Fixed an EOL issue in lower-level components which affected HTTP header formatting
- [.NET] (PKI) Fixed reading and writing of signature descriptions
- [VCL] (Mail) Fixed random hangups in TElIMAPClient.Close() method
- [All] (PKI) Fixed decryption of OAEP data in TElMessageDecryptor (sometimes OAEP parameters were read incorrectly)

---
October 4, 2019
Version 16.0.325. Maintenance update

+ [.NET] Added a set of assemblies for .NET Core 3
+ [.NET] Added PKCS#11 and Apple certificate storage components to .NET Core
+ [All] (MIME) Added support for remote signing mode to S/MIME components
+ [All] (PKI) Added OnRemoteDecrypt method to TElMessageDecryptor
+ [All] (Cloud) Added Path and Parents properties to Box component

* [C++] (ASiC) Added ASiC component to C++ edition
* [All] (ASiC) Switched manifests to forward slashes in paths
* [.NET] Fixed TElAppleCertStorage class for Xamarin.Mac.
* [All] (PKI) Added TElOCSPClient.HashAlgorithm property

- [All] (XML) Fixed detection of "here()" function in XPath Filter 2.0
- [All] (XML) Fixed exclusive canonicalization transform when transforming a document element
- [.NET] (Base) Re-worked socket shutdown and disposal on .NET core for better memory efficiency
- [.NET] (PKI) Got rid of several minor issues in certificate validator

---
August 29, 2019
Version 16.0.324. Maintenance update

! [.NET] PKCS#11 proxy driver updated for all platforms

+ [VCL] Added support for MacOS x64 target for Delphi 10.3.2

* [All] (SFTP) Another bunch of speed improvements
* [.NET] (PKI) Compatibility improvements in PKCS#11 on MacOS
* [All] (SFTP, FTP) Added an option to intercept creation of internal server engine in 'simple' components
* [All] (Cloud) Improved tolerance of S3 List() and BucketExists() routines to specific AC configurations

- [All] (MIME) Repaired a couple of broken compatibility issues
- [All] (Mail) Fixed propagation of SupplErrorCode from Login() method
- [All] (XML) Fixed a [legitimate] AV in TElXMLXPathFilter2Transform.TransformData()
- [.NET] (Misc) A number of minor glitches in .NET Core revision fixed
- [All] (PKI) A number of minor (not security critical) fixes in cryptography components

---
June 18, 2019
Version 16.0.323. Maintenance update

+ [All] (DC) Extended CMS handler with remote signing capability 

* [All] (HTTP) Improved HTTPS/SOAP clients to support multipart server responses
* [All] (XML) Improved XPath Filter 2.0 transform to work for cases when it was added after Enveloped Signature transform
* [Java] Internal memory manager turned off for Android
* [All] Added support for CryptoAPI-driven OAEP and PSS to Win32 cryptoprovider
* [All] (ZIP) Added an option to open local files in non-exclusive mode
* [All] (SFTP) A number of buffer tune-ups to increase the throughput
* [All] (SSH) Improved EarlyIDString mode 

- [Java] (SSL) TElMemoryCertStorage.Remove() fixed to solve NPE problem on Android
- [All] (MIME) Fixed a reassembly issue of parsed MIME header fields (the field body was encoded twice)
- [All] (XML) Fixed a typo in the naming of ExplicitText property (was ExplicitTex with no trailing 't')
- [All] (ZIP) Fixed a header generation issue for files with compressed size > 4GB
- [All] (HTTP) Fixed processing of compressed responses in 100-continue mode
- [All] (FTP) Improved fault tolerance to blocked files downloads

---
April 26, 2019
Version 16.0.322. Maintenance update

+ [All] (SSL) Added OnRemoteSign to SSL client components to allow for client auth with external signing engine
+ [VCL] Added support for x64 targets on C++ Builder 10.x

* [All] (SFTP) Upload speed increased by handling packet fragmentation more intelligently
* [All] (SFTP) Improved file transfer interoperability
* [All] (LDAP) A number of small-to-medium enhancements in LDAP components
* [All] (Base) DNS resolving improved for cases where specified DNS servers can't be reached
* [All] (PDF) Made components tolerant to LF-LF EOLs and BOMs in PDF documents
* [All] (ASiC) Better access is now provided to created manifests, allowing fine-grained tune-ups
* [All] (PKI) Added support for constrained content tags in TimestampedData
* [All] (PKI) Added support for OpenSSL-compatible EC private key format
* [All] (SSH) Now sending UNRECOGNIZED message in response to unsupported/early requests
* [All] (PGP) Added support for IssuerFPR signature subpackets to process signatures containing them right
* [All] (PKI) A couple of improvements in PKCS#11 to make it more tolerant to malfunctioning tokens
* [All] (XML) Added support for #xpointer(/) URIs in references

- [All] (ZIP) Removed occasional AV in ZIP compression
- [Java] (SSL) Got rid of double-free issue on Android platform

---
March 12, 2019
Version 16.0.321. Maintenance update

+ [.NET] Added experimental support for simple FTP, SFTP, and SSH server components on .NET Core 2
+ [All] (PKI) Added support for PBKDF2/HMAC-SHA256 algorithm

* [.NET] Improved handling of system name servers on mobile targets
* [All] (FTP) Added AutoAdjustPortAddress to simple SFTP server
* [All] (XML) Added an option to choose between SigAndRefs and RefsOnly kinds of validation timestamps for XAdES-X level
* [All] (XML) Added better support for Unicode surrogate characters
* [All] (SSH) Implemented special handling for 'ssh2js0.1.20srv' server which returns bad directory listings
* [All] (SSH) Added workaround for buggy Cisco servers reporting '2.99' as their version

- [All] (XML) Fixed XPath processing of the multiple fragmented Text nodes (the text that consists of text nodes, CDATA sections and entity references)
- [All] (PDF) Fixed NRE for documents with missing trailers
- [All] (SSL) A few minor fixes in TLS ciphersuite negotiation
- [All] (XML) Fixed processing of CDATA tags containing ']]' sequences
- [All] (ZIP) Fixed a recently added issue which resulted in 'flattening' of the archive structure

---
January 29, 2019
Version 16.0.320. Maintenance update
 
+ [All] (XML) Added overloaded TElXMLDOMElement/TElXMLDOMDocument.GetElementsByTagName() and GetElementsByTagNameNS() methods with "Deep" parameter that allows to search for all descendants of the specified element/document (not only immediate child).
+ [All] (PKI) Added support for X9.62 elliptic curves

* [All] (XML) Improved TElXMLDOMNode.AppendChild() and TElXMLDOMNode.InsertBefore() methods to move a node from its current position to the new position if the node was appended before (under the same document). Previous behavior: if the node had a parent node then an exception was thrown.
* [All] (FTP) Introduced FTPTextBufferSize, FTPWriteBufferSize, CtlPollInterval for better control over data channel throughput
* [All] (FTP) Transmission parameters tuned up to provide for better transfer speeds in default configuration (client and server)
* [All] (FTP) Improved transfer resumes interoperability with some third-party servers
* [All] (FTP) Improvements in LIST command processing ('LIST -l' command is now handled gracefully)
* [All] (HTTP) Added support for path-only (not full URL) redirection requests in OAuth2
* [All] (SFTP) Added EarlyIDString property for better compatibility with AWS SFTP servers
* [All] (SSH) Some internal changes made to PKCS#11 SSH key storage to make it better support some HSMs
* [All] (PKI) Increased speed for most of supported symmetric algorithms by optimizing internal performance

- [Java/VCL] (HTTPS) TElCookieManager has been throwing StringIndexOutOfBoundsException in some circumstances. Fixed.
- [All] (FTP) Fixed an issue in the FTP server which led to truncation of uploaded files if TLS resume mode was used

---
December 12, 2018
Version 16.0.319. Maintenance update

! [All] (DNS) Added automatic fallback to system DNS if SecureBlackbox-own DNS failed to resolve a name and the settings allow insecure resolution. This is mainly applicable to local network name resolutions.

+ [VCL] Added support for Embarcadero RAD Studio 10.3 Rio

* [All] (ASiC) Added an option to avoid generation of 'META-INF' directory entry, which erroneously confuses ETSI conformance checker.
* [All] (PKI) Improved handling of buggy third-party PFX files encrypted with empty password.
* [All] (PDF) Made TElPDFDocument tolerant to badly formatted (too long) integers.
* [All] (FTPS) Improved performance of downloads in ASCII (text) mode.

- [All] (PKI) Fixed support for ChaCha20 in stream-based methods in TElMessageEncryptor and TElMessageDecryptor.
- [All] (FTPS) Removed erroneous reset of restart position in internal FileRetrieveRequest handler in TElSimpleFTPSServer
- [All] (PKI) Fixed handling of OAEP and PSS modes where non-default hash algorithms were to be applied (affects PKCS#7, PKCS#10, SSH key exchange)
- [All] (XML) Fixed processing of normalize-space() function in XPath expression.
- [All] (XML) Fixed canonicalization of specific entity references, such as: "&#34;", "&#x22;", "&#38;", "&#x26;", "&#60;", "&#x3C;", "&#62;" and "&#x3E;"
- [All] (SSL) Fixed an issue in EC setting propagation to the internal TLS engine, which resulted in ECDHE suites being switched off in 'simple server' components.
- [Java] (PKI) Fixed occasional AV in PKCS#11 that may occur over garbage collection.
- [Java] (PKI) Fixed occasional UnsatisfiedLinkError exception when working with PKCS#11.

---
November 6, 2018
Version 16.0.318. Maintenance update (.NET and Java editions only)

- [All] (FTPS) DNS settings were not passed to the data socket in TElSimleFTPSClient. Fixed.
- [Java] (PKI) "Storage is ReadOnly" exception occured during disposal of TElX509CertificateValidator with UseSystemStorages property set to true in Android. Fixed.
- [All] (PDF) Fixed signature deletion in PDF documents which in some cases could lead to AV/NullPointerException.
- [Java, .NET] (PKI) Fixed RSA key generation functionality broken in build 317

---
October 25, 2018
Version 16.0.317. Maintenance update

+ [All] (ZIP) Added GetUseUTCTimeInNewEntries and SetUseUTCTimeInNewEntries global functions to SBArcBase. They specify whether new entries are created with time fields set to local current time or to UTC current time. In this version, the value is false by default (local time is used). In the next release the default value will be changed to true (UTC time).
+ [All] (PKI) Added CMSSignHashAlgorithm property to TElTSPClient class. It specifies the algorithm, used to sign the request in CMS format.
+ [All] (PKI) Added vrUserEnforced validity reason flag

+ [.NET] Added XML documentation for code completion (IntelliSense)
+ [PHP] Added PHP stubs for IDEs
+ [PHP] Added support for PHP 7.2

+ [All] Added an option to disable system PRNG (for whatever reason that may be needed)

* [All] (SSH/SFTP) Improved security setting compatibility with mod_sftp servers
* [All] (SSH/SFTP) Added detection and a workaround for the bug in Serv-U SSH/SFTP server.
* [All] (SSH/SFTP) Changed the error code being reported in the exception that is thrown when the socket state is not "connected" in the call to DoSend internal method (in other words, when we observe the preliminary disconnection of the socket).
* [All] (ASiC) Improved detection of invalid hashes in border cases. 
* [All] (ASiC) Added validation of the manifest file when validating timestamps or CAdES signatures for ASiC-E documents.
* [All] (PKI) Tuned up RSA key encoding to better satisfy Android JVMs (primarily relevant for PKCS#12 certificate import)

- [All] (ASiC) If the signature was discovered to be invalid when the container was opened, the invalid status was overriden by the call to Validate(CheckHashes = true). Fixed.
- [All] (ASiC) Fixed memory leak in TElASiCManifest class.
- [All] (FTPS) TElSimpleFTPSServer didn't handle REST command properly. Fixed.
- [All] (HTTP) The overload of Put method, which accepted the string Content parameter, was losing part of the data in the cases, when conversion to UTF-8 made the string longer than the value of Conent in characters. Fixed.
- [.NET, Java] (Base) GB-18030 charset didn't work right for some characters due to the compiler glitches. Workaround added.

---
August 27, 2018
Version 16.0.316. Maintenance update.

+ [All] (Base) Added TestRuleString method to the port knock component.
+ [All] (Base) Added TElDNSSettings.UseSocketTimeout property, which controls if TElDNSSettings' own settings of timeouts are used, or TElSocket.SocketTimeout is used. 
+ [All] (SSL) Added UseLocalPortForwarding and LocalPortForwardingPort properties to TElCustomSimpleSSL component and its descendants.
+ [All] (SAML) Added CurrentSession property to both TElSAMLServiceProvider and TElSAMLIdentityProvider. The property allows to read logged in user information.
+ [All] (XML) Added TElXMLDOMDocument.InnerXML property.
+ [All] (ASiC) Added support for updating existing signature containers with new signatures and timestamps.

* [All] (XML) Improved UTF-16 encoding detection on XML document loading.
* [All] (ZIP) Improved handling of ZIP archives with malformed Info64 extension.
* [All] (PKI) Improved the way key usage is checked in certificates in TElX509CertificateValidator.ValidateForSSL() method to make it more relaxed yet conformant to the specifications.
* [All] (PKI) Optimized memory usage of TElChunkedEncryptingStream class.
* [All] (SSL) Completely removed all opportunities for ROBOT attack.
* [All] (SSL) Re-arranged default cipher suite priorities to better match SSLLabs validator expectations (no effect on security).
* [VCL] (Charsets) Charset units were initialized in the reverse order. 
* [.NET, Java] (Base) Minor speed optimizations in TElStringList.
* [.NET] (Base) Improved StringToCoTaskMemUni function in SBUtils to not use unmanaged memmove - such use prevented SBB from being used in .NET CE 8.

- [All] (Base) Fixed broken DateTimeUtcNow() method implementation on iOS. This could have led to various timeout-related issues with build 315 (but no evidence).
- [All] (PKI) Fixed the infinite loop in JWCrypto taking place when validating invalid signatures with a standalone key (not a keyset). 
- [All] (PKI) Fixed an issue in certificate validation cache which in some cases could lead to false negatives and false positive results for the cached certificates.
- [All] (PDF) Fixed processing of documents encrypted with 40 bit RC4 in V=2 mode (a mode that was predominantly used by very old PDF implementations)
- [VCL] (Base) Fixed a glitch in the socket class with resolving an IPv6 address when UseIPv6 is not set.
- [.NET] (PKI) Fixed TElCAdESSignatureProcessor.CompatibilityErrors property getter, which was throwing an exception in some cases.
- [.NET] (XML) Fixed loading of SignedDataObjectProperties element in XAdES when Turkish locale is used in a system.

---
July 1, 2018
Version 16.0.315. Maintenance update.

+ [All] (PDF) Added TElPDFSignature.LockAllowedChanges property that allows to set access permissions granted for this document in the locking signature.
+ [All] (XML) Added TElXMLDOMDocument.Clone() method.
+ [All] (ZIP) Added Comment property to TElZipArchiveDirectoryEntry. Now it is possible to add comments to files in ZIP archive and to read existing comments.

* [All] (PDF) Moved DSS Revocation Info loading from TElPDFAdvancedPublicKeySecurityHandler to TElPDFDocument class.
* [All] (PDF) Optimized PDF document parsing.
* [All] (PDF) Added workaround for multiline PDF string objects that don't have ")" character that closes a string.
* [All] (PDF) Improved support for non-standard crypt filter (CF) dictionary. Minor improvement in handling EncryptMetadata flag for AES-encrypted documents.
* [C++] Improved handling of out object parameters.

- [All] (PKI) TElJWKey.Generate() didn't set Bits property, and this didn't let one use the key to validate the data after signing it immediately after generation (border case). Fixed.
- [All] (Cloud) TElAWS3Storage.ReadBlock method returned wrong read bytes count on some circumstances. Fixed.
- [VCL, C++, PHP] (HTTPS) Fixed memory leak in WebSockets client.
- [Java] (Base) Fixed OutOfMemoryError in TElPublicKeyCrypto.verifyDetached() method.
- [C++] Fixed THandleStream class for 64-bit platforms.

---
June 1, 2018    
Version 16.0.314. Maintenance update.

* [All] (Cloud) Improved server error reporting in the OneDrive component to provide a detailed error code instead of a general one.
* [All] (PKI) TElASiCContainer XAdES signatures validation procedure improved to use correct hash algorithm.
* [All] (PKI) Improved TElMessageVerifier component to take into account algorithm parameters for RSA-PSS algorithm on signature validation.
* [All] (SAML) TElSAMLPOSTBinding parser improved to decode incorrectly encoded HTML attributes produced by Shibboleth IdP server. 

- [All] (Base) Fixed errors in NULL values handling in ExpressionEvaluator. 
- [All] (Cloud) Fixed attempt to destroy(dispose of) an already destroyed/disposed object in the OneDrive component, and changed other similar issues in Google Drive and Box clients.
- [All] (OpenPGP) OnRequestOutputFile event erroneously set OutputFile property to the returned value. Fixed. 
- [All] (SFTP) TElSimpleSFTPServer didn't report EOF correctly on file read operations, and this could cause "Received incomplete data packet" error in WinSCP client. Fixed.

- [Java] (Office) Fixed signing of OpenXML documents.
- [Java] (Office) Fixed decryption of OpenXML documents on Android target.
- [Java] (Mail) Explicit SSL/TLS mode fixed.

---
April 1, 2018
Version 16.0.313. Easter Rabbit edition

* [All] (Base) Timeout values of the DNS resolver are now changed only when the socket timeout is not 0 (because the value of 0 in the DNS resolver has different meaning). 
* [All] (PKI) Improved TElCMSSignature component to take into account algorithm parameters for RSA-PSS algorithm on signature validation.
* [All] (PDF) Added workaround to not to show "Form Fields with Property Changes" message when signing existing signature field for secondary, n-ary signatures.

- [All] (Base) Error code in timeout exception thrown by the DNS resolved fixed (it was hard-coded to Windows value, now it's correct for other platforms)
- [All] (Base) CA certificates, retrieved for the certificate, could not be found when verifying CRL signatures. Fixed.
- [All] (HTTP) TElHTTPSClient.SetupHeaders method was chosing wrong Connection header value when KeepAlivePolicy was set to kapStandardDefined. Fixed.
- [All] (PKI) Fixed handling of algorithm parameters for RSA-PSS algorithm for OCSP client and server components.
- [.NET] In .NET Core 2.0, due to unreadable charset resources, various components could fail to perform certain functions. The resources have been fixed.
- [VCL] (SSL) 75778 error occured on some conditions on mobile targets. Fixed.
- [Java] (ZIP) Files extracted to wrong output directory on non-Windows systems. Fixed.

---
February 28, 2018
Version 16.0.312. Maintenance update

* [All] (All) A number of low-level performance optimizations
* [All] (PKI) Added the workaround for non-standard hash algorithms in CertIDv2 for a signing certificate.
* [All] (Mail) Added the option to control, how the username is split in the SMTP client when authenticating over NTLM
* [All] (SAML) Added idcoGoogleNoLogout option to IdP component to work with Google logout correctly.
* [All] (PDF) Fixed and improved PDF signature deletion in a case when the signature field should be kept.
* [All] (PDF) Added possibility to sign existing signature fields that have the signature widget annotation separated from the field.
* [All] (SFTP) Fixed an issue in RequestFileHash() methods and added a couple of overloads for more comfortable use
* [All] (SSH) Removed 'Internet Server SSHD' from the list of known legacy servers, in response to changes in the server's behaviour

- [All] (DC) Fixed passing PKCS#7 InsertSigningTime property to Java Applet
- [All] (PKI) Fixed memory leak in TElCMSRevocationValues class.
- [All] (SSL) Fixed a Join()/Resume() issue in TElSimpleSSLClient (failure by Join() to pick old session info from another client object resulted in use of full handshake)
- [All] (SSL) Fixed an issue in ChaCha20/Poly1305-based cipher suites resulting in negotiation failures
- [VCL, C++, PHP] (Base) Fixed TElRelativeDistinguishedName.SaveToDNString() method to correctly save UTF-8 strings.

---
January 16, 2018
Version 16.0.311. Maintenance update

* [Java] (Base) Added workaround for simultaneous multithreaded JNI.initialize() call.

- [VCL] (Base) Poly1305, Chacha20 and GOST are now disabled in BDS 2006 (their presence caused problem with compilation in C++Builder 2006)
- [VCL] (Base) when the library was using the randomizer extensively, the /dev/urandom device was not closed, and that could cause insufficient socket handles error on iOS
- [.NET] (Base) Fixed [SecurityCritical] and [SecuritySafeCritical] attributes of SCard, HID and GSSAPI components
- [.NET] (Base) Fixed the PKCS#11 proxy DLL, which didn't export GetLastErrorInfo function. 

---
December 24, 2017
Version 16.0.310. Busy Rudolf edition

! TElExpressionEvaluator.OnVarNeeded event replaced with OnGetVariable (type has been changed to TElExprGetVariableEvent as well), which now supports indexed variables.
! [VCL] The precompiled versions are built with FreePascal 3.0.4 (upgrade from 3.0.2) and RAD Studio 10.2.2 (upgrade from 10.2.1).

+ [All] (SAML) TElSAMLRedirectBinding now supports signatures made with SHA2, RipeMD160 and Whirlpool algorithms.

* [All] (Base) Built-in DNS resolver always used default 3-second timeout when waiting for a single response. Now the value specified in TElSocket.SocketTimeout is used.
* [All] (PKI) Implemented the read-only mode in CMS/PKCS#7 components, which significantly improves memory efficiency when processing large enveloping signatures
* [All] (DC) Updated the DC ActiveX control to be built with SecureBlackbox 16; fixed response parsing error if the control is built with Delphi 10.1 and later.
* [VCL] (All) A number of fixes and improvements for Delphi/Linux and Delphi/Android platforms
* [VCL] (DC) Updated DC ISAPI samples to sign DC requests and to use JNLP files for the Java applet
* [VCL, .NET] (Samples) Updated XML AdvancedSigner and SecureSOAP samples to show internal certificates validation log (not only a custom event-based log).

- [All] (ASiC) Access Violation occured in TElASiCContainer in some rare sequences of events. Fixed.
- [All] (PKI) A loop could happen in TElX509CertificateValidator when validating the certificate and an OCSP Response was signed with the same certificate for which OCSP Response was retrieved, if CacheValidationResults option was disabled. Fixed.
- [VCL] (Base) ASN.1 BMPString data type in TElRelativeDistinguishedName class (ASN1ReadString function) was not always working correctly. Fixed.
- [VCL] (Base) TElSocket.Bind didn't work when compiled by Delphi for macOS. Workaround added.

---
November 24, 2017
Version 16.0.309. Stuffed Turkey edition

+ [All] (ZIP) Added support of ZIP_EXTENSION_NTFS extension
+ [All] (Base) Implement KMIP protocol
+ [All] (Base) Added new TElSymmetricKeyMaterial.DeriveKey* overloads that allows to change HMAC algorithm for PKCS5v2 derivation function.
+ [All] (Office) Added AES-128/192/256 and SHA-256 algorithms support for OpenOffice encryption handler. 
+ [All] (Office) Added TElOpenOfficeEncryptionHandler.StartKeyGenerationAlgorithm property that allow to specify the algorithm used to generate a start key from the user password.
+ [Java] (SolFS) TElSolidFileSystemAdapter added to Java edition.
+ [.NET] (SolFS) TElSolidFileSystemAdapter added to .NET 4.6 and all Xamarin versions.

* [All] (HTTP) Improved handling of incoming streams with both content and transfer encodings applied
* [All] (Cloud) Updated the OneDrive component to not require 'directory.read.all' permission if groups' drives are not used
* [All] (SolFS) TElSolidFileSystemAdapter updated according to the latest changes in CBFS Storage. 
* [.NET] Fixed license validation issue in service and ASP.NET applications running in selected (very few) restricted trust environments (.NET framework bug)
* [.NET] (Base) Updated the socket class to use TryParse instead of calling Parse and catching an exception
* [VCL] If the system encoding was not ANSI but UTF-8 on Windows, GetFileTimes function of the FileSystemAdapter didn't work. Charset conversion added.
* [VCL] (ZIP) When compiled with Lazarus on Windows, the encoding of the file names, passed between TElZIPReader/TElZipWriter and the application, is now UTF-8.

- [All] (Base) TElSocket improved to work with proxies that return chunked data.
- [All] (Base) TElSocket: fixed possible infinite loop inside proxy related code.
- [All] (PAdES) Fixed remote signing of PDF documents with EC certificate.
- [All] (Cloud) Fixed calling of replaced OnPreparedHeaders event handler in the AWS S3 component
- [All] (Cloud) Changed the default Redirect URL in the Dropbox component (and samples)
- [All] (Cloud) Fixed an AV/NullPointerException in the OneDrive component if StartAuthorization/CompleteAuthorization are called after CloseSession
- [.NET] (SSH) Repaired data processing functionality in TElSimpleSSHClient


---
October 27, 2017
Version 16.0.308. Maintenance update

+ [.NET] Experimental assemblies for .NET Core 2.0.
+ [All] (SFTP) Added a method to check for server-side initiated requests (keep-alive, for example)

* [All] (SSL) Improved tolerance to TLS servers requiring the use of specific hash algorithms in the client certificate verify message
* [PHP] Removed warnings that were shown on PHP startup.
* [C++] Improved handling of var/out buffer parameters in events.

- [All] (PKI) Fixed AV in EC key generation routine when accessed through the universal key storage component or PKCS#11 crypto provider
- [All] (PKI) Fixed abstract CRL error in CMS components
- [All] (Base) Fixed AV in socket connection for Linux 32-bit (fixed retrieving system name servers).
- [All] (HTTP) Fixed GetHeader(s)ByName and SetHeaderByName routines
- [.NET] Assemblies for some targets (ARM-based devices) contained the compiler-produced error that caused failures in SetLicenseKey() call (and maybe some others). 
- [PHP] Fixed a license check issue, all non-working license keys should be working fine now
- [PHP] Fixed returning data for var/out buffer parameters in events.
- [VCL] (Mail) Fixed small memory leak in TElIMAPClient class.

---
September 18, 2017
Version 16.0.307. Maintenance update 

+ [All] (PKI) Added support for EdDSA algorithms (Ed25519 and Ed448) to built-in cryptoprovider.
+ [All] (PKI) Added support for SHAKE-128/256 extendable output functions (XOF) to TElHashFunction class.
+ [All] (SSH) Added new OpenSSH private keys format support.

* [All] (Base) TElDNSResolver improved to interpret zero TotalTimeout property value as infinity.
* [All] (SSH) TElSSHServer now reports environment variables tune-up requested by the client
* [All] (PKI) Made changes to SBB PKCS#12 implementation to improve PFX compatibility with Java 1.8.0_144
* [All] (SAML) TElSAMLIdentityProvider component improved to simplify Microsoft services (Office 365 etc.) integration.
* [.NET] (Base) Improved the code so that FormatException is not thrown and caught immediately when trying to convert the string to Int32 or Int64. TryParse method is used instead.
* [VCL] Code improved to work on Linux target.

- [All] (Cloud) Fixed a bug in uploading files with non-ASCII names to OneDrive
- [All] (Cloud) Fixed a bug in uploading files with non-ASCII names to Dropbox
- [.NET] (PKI) Fixed a few issues in PKCS#11 which restore compatibility with certain PKCS#11 drivers

---
August 24, 2017
Version 16.0.306. Maintenance update

+ [All] (Base) Added overloaded constructors to TElStringList and TElStringTokenizer that let you pass the source string as a parameter.
+ [All] (ZIP) Added new TElZipWriter.Add method overload that allows to check if archive entry was added, updated etc. depending on TElZipWriter options.
+ [All] (PDF) Added TElPDFFileAttachment.AssociatedFilePDFObject, AssociatedFileRelationship and AssociatedFileRelationshipName properties that may be needed to keep PDF/A compliance for a document when new attachment is added.

* [All] (Base) DNS resolving mechanism improved to use the system function in the case when builtin DNS client fails.
* [All] (Base) Improved randomizer functionality by seeding from more points in code and leveraging secure system PRNGs
* [All] (PKI) Made TElX509CertificateValidator more tolerant to loops in certificate chains
* [All] (PKI) Improved processing of CRLs with certain informational fields omitted
* [All] (ZIP) Added support for custom timestamps in ZIP archive entries, hereby improving interoperability
* [All] (SSH) Improved tolerance to padding attacks

- [All] (FTPS) in ASCII mode with streaming, some CRLFs could be lost. Fixed.
- [All] (PKI) Fixed processing of empty-parameterised RSASSA-PSS algorithm identifiers.
- [All] (SSH) Fixed an issue with remote port forwarding functionality in TElSimpleSSHServer component (other components not affected)
- [VCL] Linux/x64 units were missing from the precompiled package. Fixed.
- [VCL] (SMIME) Fixed memory leaks

- [Java] (Base) TElSocket improved to eliminate redundant connections to localhost.

---
June 30, 2017
Version 16.0.305. Official release

+ [All] (SSH) Added FingerprintSHA256 property to TElSSHKey class.
+ [All] (Cloud) New API of OneDrive, including OneDrive for Business, is now supported. The old componet and several supplementary classes have been renamed to TElOneDriveDataStorageV1, etc.
+ [All] (Office) Added support for encryption of OpenOffice documents.
+ [All] (SOAP) Added attributes support for SOAP client.
+ [All] (Base) Added support of ECDSA keys in DNSSEC classes

+ [Java] (PKI) FIDO U2F (Universal 2nd Factor) support is now available in Java edition on Windows.

* [All] (PDF) A bunch of minor compatibility improvements
* [All] (HTTP) Parameter type of TElHTTPSServer.ParseMultipartFormData method has been changed to string (you need to pass the value of the ContentType header string now) 

- [All] (SSH) Fixed public key algorithm processing in the server component
- [All] (Base) Fixed validation of DNS record non-existence using NSEC records
- [.NET] (Base) Exceptions could happen on Windows CE (and maybe other platforms which don't support the Current Directory concept) if a relative path is used in a file operation (like file downloads and similar). Added proper handling of those exceptions.
- [VCL/.NET] (Base) TElAppleCertStorage improved to work with keychains that have non-latin characters in their names.
- [Java] (Cloud) New Dropbox API 2.0 component was not submitting some requests correctly. Fixed.

---
May 22, 2017
Version 16.0.303. Beta version

! SecureBlackbox 16 incorporates changes in its license key scheme. While we aimed to make the change as seamless as possible, 
! any version 16 license keys issued before May the 22nd will be invalidated and should be re-issued. Please contact our support team
! to get your new version 16 key.

+ [All] (Base) Added HAProxy support for TElSocket class.
+ [All] (Mail) Added support for UIDPLUS IMPAv4 extention: UIDNotSticky property in MailBoxState class, result parameter in COPY and APPEND commands in TElIMAPClient class
+ [All] (Mail) Added support for APPEND command in TElIMAPClient class
+ [All] (PKI) Added AES-CCM, AES-GCM and ChaCha20-Poly1305 authenticated encryption support in CMS (RFC 5084 and RFC 8103).
+ [All] (PKI) Added CMS authenticated-enveloped-data content type support (RFC 5083).
+ [All] (SFTP/SSH/FTPS) Added HandshakeTimeout property to all TElSimple*Server components to control automatic inactive sockets closure. 

* [All] (PDF) Extended remote signing mode in PAdES to allow to set custom PKCS#7/CMS signature.
* [All] (XML) Newline normalization enabled for TElXMLDOMElement.InnerXML property setter and correspondent helper functions.
* [All] (XML) Improved certificate selection for XAdES validation.
* [All] (PKI) Improved handling of NextUpdate parameter in CRLs, when the NextUpdate is before ValidationMoment. 
* [All] (PKI) Added an option to keep SubjectRDN of the certificate instead of taking the DN from the CertificateRequest when generating the certificate from request. 

- [All] (FTPS) Fixed the text transfer mode, in which there could be small data losses or extra CRLF inserted in streaming text mode
- [All] (Mail) Fixed loading of small messages from some IMAP4 servers.
- [.NET] (PKI) Fixed decryption using ChaCha20-Poly1305 authenticated encryption method.
- [VCL] (XML) Fixed RDN parsing of unicode values in non-unicode Delphi.

---
April 23, 2017
Version 16.0.302. Beta version

! TSBCertificateValidateEvent moved from SBSSLCommon to SBX509 unit/namespace. 
! Parameters of TSBCertificateValidateEvent have been changed. This affects any use of TLS-enabled components.
! TSBRawKeyValidateEvent moved from SBSSLCommon to SBPublicKeyCrypto unit/namespace. 
! TElSocket.ListenAddress and TElSocket.ListenPort* properties have been removed, as they were obsolete. Use TElSocket.ListenBinding property instead.
! TElDropboxDataStorage and the supplementary classes have been completely rewritten to work via Dropbox v2 API.
! We are sorry to say that EDIBlackbox package has now been discontinued.

! CRL handling has been reworked, with TElRawCRL class introduced as an ancestor of TElCertificateRevocationList. Use TElRawCRL when you need to check the status of a single certificate - it's faster and less resource-consuming. 

+ [All] (Base) TElSocket.Init method made public to let application code prepare the socket for datagram transfer
+ [All] (Base) Added new TElSymmetricKeyMaterial.DeriveKey overload that allows to choose key derivation algorithm.
+ [All] (Base) Added TElX509Certificate.GetHashSHA256 and GetKeyHashSHA256 methods.
+ [All] (SSH) Added RFC 6187 support (X.509v3 Certificates for Secure Shell Authentication).
+ [All] (SSH) Added TElSSHKey.Load*Key and TElSSHKey.Save*Key method overloads, which work with streams.
+ [All] (PKI) TElOCSPServer got OnSigningCertificatesNeeded event, which lets one dynamically provide certificates to sign with and include in a response
+ [All] (PKI) Added FIDO U2F (Universal 2nd Factor) support.
+ [All] (PDF) Added TElPDFSignatureWidgetProps.PagesToPlaceOn[] property that allows to specify pages on which signature widget would be placed. This property extends existing functionality of TElPDFSignatureWidgetProps.ShowOnAllPages and TElPDFSignature.Page properties.
+ [All] (Office) Added TElOfficeOpenXMLDocument.WorkbookCalculationMode property. This property should be set to manual mode before signing to prevent MS Excel to auto-recalculate spreadsheet.
+ [All] (XML) Added support for ConcatKDF and PBKDF2 key derivation functions.
+ [All] (XML) Added TElXMLDOMDocument.WriteBOM property that tells SaveToStream() and SaveToFile() methods to write a BOM.

+ [.NET] (HTTP) Added classes to replace standard HttpWebRequest with SecureBlackbox transport.

* [All] (ZIP) Changed the type of the Entry parameter from pointer/Object to TElZipArchiveDirectoryEntry.


^^^^^^^^^^^^^^^^^^^^
^^^ Version 15.1 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

---
March 28, 2017
Version 15.1.301. Maintenance update

! [All] (SSH) SSH and SFTP components now use UTF8 by default for authentication (when passing the username and passwords) and in SendText/SendExtText methods. 

+ [All] (PKI) Implemented remote signing functionality in TElCAdESSignatureProcessor

* [All] (PDF) Added workaround for documents with chunked cross-reference table

- [All] (PKI) Fixed a minor issue with export of EC keys originating from Win32 cryptoprovider
- [All] (PKI) Got rid of access exception in TElWinCertStorage ('security critical' attribute was not set properly)
- [All] (HTTPS) if the server sent "100 Continue" response and compressed data after the second response, the stream was not decompressed. Fixed. 
- [All] (PDF) Creation of comment textbox in Adobe Reader failed after signing the document. Fixed.

- [Java] (LDAP) LDAP filter parser used to hang indefinitely when processing some conditions. Fixed.

---
February 7, 2017
Version 15.1.300. Maintenance update

+ [All] (SOAP) Added setter for TElXMLSOAPClient.ExpectedResponseType property.
+ [All] (DC) Added support for user data turnaround in async signing functionality

* [All] (PDF) Improved "endstream" keyword detection on PDF document recovery.
* [All] (PDF} Added workaround for PDF documents generated by Oracle Business Suite. Improved parsing of literal strings.
* [All] (SAML) Minor fixes in metadata parser and generator.
* [VCL] (BCB) (Base) Fixed $ExternalSym declaration for USHORT type
* [All] (PKI) Improved compatibility with SafeNet Luna SA device when accessed through Windows system store

- [.NET] (Base) Fixed creation of JSON object and array values.
- [VCL] (PDF) Fixed writting the comment line that used to classify the file as containing binary data. (For unicode VCL)
- [All] (SSH) Fixed a minor issue in TElSSHKey component preventing certain ECDSA keys from loading

---
December 12, 2016
Version 15.1.299. Maintenance update

! [All] (PKI) TElOCSPServer.ProcessRequest now throws exceptions instead of suppressing them and returning the barely relevant error code. 
! [All] (PKI) TElPKCS11CertStorage.Add() method now throws exception, if the certificate must be added to the device with the private key (optionally exportable), and the certificate include no private key or the source private key is not extractable.
! [Java] ESecureBlackboxError and all descendands are now unckecked runtime exceptions.

+ [All] (Base) Added "No Revocation Check" extension support to TElX509CertificateValidator.
+ [All] (DC) Added provisions for DC users to supply custom (state) data with DC requests and read it back from the DC responses (PDF, Office, XML).

* [All] (FTPS) TElSimpleFTPSClient.GetFileSize improved to send TYPE command before SIZE.
* [All] (XML) Made TElXAdESVerifier component more relaxed when parsing PKIData element with invalid Encoding attribute.
* [.NET] (Base) TElRandom constructor failed on some (but not all) Intel-based Android devices due to Xamarin internal error. Workaround added. 
* [.NET] (PKI) PKCS#11 is now available on Xamarin.Android (the proxy module added as well)
* [C++, PHP] Excluded wrappers for internal units (e.g. SBSHA2, SBZlib...)
* [VCL, C++, NG, PHP] (MIME) TElSimpleMIMEMessage class was missing GetMessage method. The method has been made available. 

- [All] (Base) ValidateFor***() methods in TElX509CertificateValidator returned junk in Reason method, if they were to return before calling the main Validate() method (i.e. if method-specific check failed).
- [All] (XML) Fixed loading of small XML document with invalid characters.

---
November 9, 2016
Version 15.1.298. Maintenance update

* [All] (DAV) Ranges support improved for both client and server side components.
* [All] (LDAP) TElLDAPCertStorage improved to work with different attribute names that are used to store user certificate.

- [All] (Base) Fixed Reason and Validity parameters that returned by certificate validator's Validate() method when CompleteChainValidation parameter is enabled and more than one certificate are invalid in the chain.
- [All] (XML)  Fixed XML-DSig signature load in case when reference doesn't have URI attribute.
- [All] (ZIP) TElZipWriter produced corrupted archives in case of > 4GB input files and strong ZIP encryption usage. Fixed. 
- [C++] Fixed small memory leak when class events are set.
- [.NET] (Base) Fixed crashes in Xamarin for Android assembly on Intel powered devices

---
October 21, 2016
Version 15.1.297. Official release

* [All] (XML) Added TElXMLDOMDocument.SaveToFile() overloaded methods that support charset name as parameter.
* [All] (XML) Improvements in RDN encoding/decoding (BER encoding when attribute type doesn't have a short name)
* [All] (Cloud) Added a new property for OneDrive component which allows to limit file list requests and as such, prevent a timeout and a 'connection lost' issues when listing folders containing many files
* [All] (PKI) Switched on pcsoAutoDetectStructAlignment flag (PKCS#11) for all non-Windows platforms

- [All] (MIME) Fixed a bug in decoding RFC 2231-encoded header field parameters.
- [Java] A minor fix in date/time conversion routines
- [C++] Fixed passing wide string parameters if compiled with GCC 5.x on Ubuntu.

---
September 26, 2016
Version 15.1.296. Beta version

+ [All] (PKI) Added workaround for buggy PKCS#11 drivers that use misaligned structures.

* [All] (Office) Improved use of DigestMethod property for Office signature handlers.
* [All] (PKI) Improved processing of PE Image Data structure.
* [All] (DC) Improved creation of PKCS#7 signatures in ActiveX control.
* [All] (PKI) Improved PKCS#11 driver API processing.
* [All] (SSH) A few changes in SSH server buffer management to improve speed and memory consumption indicators.
* [All] (SSL) Added declaration for a few new extension error codes.
* [All] (SSL) Improved tolerance of higher-level client-side TLS components to mid-session TLS alerts.

* [C++] Improved error reporting for TElCallbackStream class and added file resize support.
* [PHP] Added a workaround to deal with compilation issues of the php extension with some versions of GCC compiler.

- [All] (Base) Removed a memory leak (TElX509ChainEntryValidationResultList entry) in TElX509CertificateValidator class.
- [All] (SSH) Improved handling of disconnection codes to provide more accurate session closure reasons.
- [All] (MIME) Fixed mail address string processing to work correctly with quoted local part of the address.
- [All] (Office) Fixed async signing of ODF (OpenDocument format) documents.
- [All] (PKI) Removed an AV which might have sometimes been thrown when loading invalid signatures.

- [.NET] (HTTP) Fixed the memory leak in TElWebSocketClient component.
- [.NET] (FTPS) TElSimpleFTPSServer.Stop method used to freeze in certain conditions. Fixed.
- [Java] (Base) Overwrite mode was not properly handled in DiskFileSystemAdapter for Java. Fixed.
- [All] (XML) Fixed exclusive canonicalization transform for external xml documents that contains processing instruction nodes.



^^^^^^^^^^^^^^^^^^^^
^^^ Version 15.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

---
July 30, 2016
Version 15.0.295. Maintenance update

+ [All] (PDF) Added a flag psoAddAnnotationForInvisibleSignature for TElPDFSignature.Options property.

* [All] (Cloud) Added checking for empty account name in the Azure access component
* [All] (PDF) Added a workaround to ignore "Bad document trailer" error that tries to rebuild pdf document.
* [All] (PKI) Added acvFileChanged value as a result of authenticode signature validation.
* [All] (XML) Improved detached signature type detection in TElXMLVerifier class.
* [All] (ASiC) Added workaround for latest standard non-compliant files with extended XAdES signatures.
* [All] (MIME) Several changes to let developers control how text parts are processed
* [All] (SSL) Improved server compatibility with regard to EC points extension processing
* [VCL] (DAV) TElWebDAVClient improved to decode extended Unicode characters in URLs and file names correctly.

- [All] (Base) Fixed compatibility issue in SHA-3.
- [All] (Cloud) Fixed a bug in the Google Drive access component which caused "conditionNotMet" exception after certain operations performed
- [All] (Cloud) Fixed Clone and Assign operations in OneDrive access component
- [All] (Cloud) Fixed support for prefixes containing '&' character in the Azure access component
- [All] (Mail) Fixed SMTP client to use current host name for the HELO/EHLO commands if no custom domain name specified
- [All] (PKI) Authenticode manager sometimes produced invalid signed files depending on the unsigned file length. Fixed.
- [All] (PKI) Authenticode manager didn't compare the real file digest and the signed one. Fixed.
- [PHP] (XML) Fixed the issue with automatic freeing of TElXAdESSigner and TElXMLSigner classes.

---

June 27, 2016
Version 15.0.294. Official release

! [All] Further changes in DC. Support for authenticated requests added.

+ [All] (ZIP) Added Info-ZIP Unicode Path Extra extension support.
+ [VCL] Added SBRIO unit that allows to use our HTTPS client and SOAP signing components with THTTPRIO class

* [All] (SSL, Base) Support for persistent DH group parameters added
* [All] (SSL) Several pre-defined TLS configurations added, making it easier to tune-up server side components properly
* [All] (PDF) Added workaround for signing pdf documents that were already signed and doesn't contain newline character at the end of document.
* [All] (PKI) Minor thread safety improvements in PKCS#11 (not really affecting anything)
* [All] (PKI) Validator cache re-worked to make cached certificates independent of their origin (HSMs or CSPs)
* [.NET] Windows Phone 8 assembly set: Windows Store compatibility issues resolved 

- [All] (SFTP) A bug in RemoveFiles() method resulted in a controlled AV in case of deletion issue. Fixed.
- [VCL] (PKI) Signing binaries with non-empty signature description provided failed (Delphi 2007 and earlier only). Fixed.
- [VCL] (PKI) A bug in SHA3 implementation fixed (Delphi 5-7 only)
- [All] (XML) Fixed enveloping signature type detection in TElXMLVerifier class.
- [FPC, C++, PHP] Fixed HTTP and Windows System Storage components for 64-bit Windows.

---
June 15, 2016
Version 15.0.293. Release candidate

! [All] Major changes in DC technology. Numerous new features added, existing features improved.

+ [All] (HTTP) Added support of custom parameters to client-side OAuth 2.0 components
+ [All] (PKI) Added support for Attribute Certificates as defined in RFC3281
+ [All] (SSL) Implemented automated handling of SNI (server name indication) extension in server-side SSL components
+ [All] (DAV) Added quota and size properties support for TElWebDAVServer component.
+ [PHP] Added support for PHP 7

* [All] (ASiC) Improved XAdES signature support: Added TElASiCXAdESSignatureEntry.XAdESProcessor property, Replaced TElASiCContainer.OnBeforeXAdESSigning and OnAfterXAdESSigning events with OnPrepareXAdESSignature, OnBeforeXAdESSign, OnAfterXAdESSign
* [All] (Cloud) OneDrive component updated to use new applications registered in the Application Registration Portal
* [All] (EDI) Added handling of 'x-pkcs7-mime' and 'x-pkcs7-signature' subtypes

* [All] (PDF) Added workaround for reading incorrect empty stream objects with non-zero length.
* [All] (PDF) Improved signing an empty signature field and adding signature on all pages to not to show "Miscellaneous Change(s)" warning on Signatures panel in Adobe in case of secondary,... n-ary signature.
* [All] (PKI) Simplified access to internal CAdES and XAdES signatures within ASiC signatures
* [All] (PKI) Added OAEPHashAlgorithm property to TElMessageEncryptor component
* [All] (SOAP) Added TElXMLSOAPClient.ExpectedResponseType property. Minor improvements in parsing compound parameter.
* [All] (XML) Improved Base64 transform to process text nodes as input.
* [All] (SSH) Improved X11 forwarding interoperability with third party server implementations
* [.NET] (SSH) Component performance improved as a result of sound optimizations in memory management routines
* [VCL] Made SocketSettings property published in SSL-based client components. 
* [All] (PKI) Improved interoperation with ECDSA keys stored on PKCS#11 devices

- [All] (Cloud) Disabled automatic file renaming on attempt to create a file with a name that already exists on the Dropbox server
- [All] (Cloud) Fixed processing of special characters (like &) in object names in Azure component
- [All] (PGPMIME) Removed an ambiguous requirement for a keyring to be provided if passphrase-only encryption mode is used
- [All] (PGPMIME) Fixed a bug that caused passphrases to be included in the message
- [All] (Base) TElUsers component didn't save entries containing Unicode characters correctly. Fixed.
- [All] (HTTP) TElHTTPSClient decoded Transfer-Encoding entry incorrectly under certain conditions. Fixed.
- [All] (Base) A minor bug fix in Blake implementation
- [All] (SSH) Fixed forward-kexinit mode in SSH client component
- [All] (PDF) For cross-reference stream an entry for itself wasn't added. Fixed.
- [All] (PKI) TElCMSSignature.LastValidationResult property wasn't set when Validate() method is called. Fixed.
- [All] (SSH) Bundles of non-SHA1 key exchange methods (e.g. SSH_KEX_DH_GROUP_EXCHANGE256) with SSH_PK_RSA signature algorithm were mishandled by TElSSHServer, resulting in interoperability problems with third party clients. Fixed.
- [.NET] (SSH) PageAnt authentication didn't work in .NET 4.x due to security restrictions. Fixed.
- [VCL] (FTPS) Fixed memory leaks in the simple FTP server class.

---
April 20, 2016
Version 15.0.291. Beta version

! [All] (Base) Removed global functions NewValue, Read and Write from SBJSON unit. Use constructors of TElJsonValue class, TElJsonEntity.Read class/static methods and TElJsonEntity.Write methods instead
! [All] (PKI) Authenticode support have been completely rewritten; TElAuthenticodeSigner and TElAuthenticodeVerifier components are no longer available, use TElAuthenticodeManager instead
! [All] (Mail) Removed the parameter of TElSMTPClient.Login method, set the value to TElSMTPClient.Domain property before calling TElSMTPClient.Open method
! [All] (Mail) Changed prefixes for internal IMAP4 classes from TSB to TEl
! [All] (Cloud) Removed RedirectURL parameter of TElBoxDataStorage.StartAuthorization method. Now this value has to be set to TElBoxDataStorage.RedirectURL property
! [All] (Cloud) QuotaBytesUsed property moved from TElGoogleDriveDataStorageObject to TElGoogleDriveFile class
! [All] (Cloud) Changed behavior of TElGoogleDriveDataStorage.List method; now, if no Parent folder is specified, the method lists all the non-trashed objects for the entire storage, not only for the root folder
! [All] (WebDAV) Changed case in certain class names from TElWebDav to TElWebDAV
! [All] (PKI) ATSHashIndex attribute of CMS signatures is now automatically validated

! [C++, PHP] (LDAP) LDAP certificate and CRL retriever factories must be explicitly registered now, as they are not registered automatically anymore. Use RegisterLDAPCertificateRetrieverFactory() and RegisterLDAPCRLRetrieverFactory() functions to register them.

+ [All] (DC) DC can now be used for in-browser certificate-based user authentication
+ [All] (DC) Added DC state authentication (helps prevent state substitution and replay attacks)
+ [All] (PKI) Implemented support for Blake2
+ [All] (PKI) Implemented support for SHA3
+ [All] (PKI) Added ECIES cryptography support
+ [All] (PKI) Added support of several Authenticode signatures
+ [All] (PKI) Added support for validation of cross-certified chains
+ [All] (Cloud) Added ability to request an object for deleted files and folder in the Box access component
+ [All] (Cloud) Added ability to restore deleted files and folders in the Box access component
+ [All] (Cloud) Added methods to list only folders and to list only deleted objects in the Google Drive access component
+ [All] (Cloud) Added RedirectURL property to the OneDrive access component
+ [All] (Cloud) Added Release method to TElGoogleDriveDataStorageObject, TElBoxDataStorageObject, TElOneDriveDataStorage classes to simplify deletion (free/dispose) of unnecessary objects
+ [All] (Cloud) Added AccessTokenExpiration property to TElGoogleDriveDataStorageObject, TElBoxDataStorageObject, TElOneDriveDataStorage and TElDropboxDataStorage components which returns the date and time of the access token expiration
+ [All] (HTTP) TElHTTPSServer component enhanced with sessions support.
+ [All] (HTTP) TElHTTPSServer component enhanced with OAuth2 support.
+ [All] (SAML) TElSAMLSignatureHandler.SignatureMethod/DigestMethod properties for signature and digest algorithms adjustment.
+ [All] (SOAP) Added TElXMLSOAPClient.ExpectedResponseType property.
+ [All] (XML) Added extended XAdES (XAdES-E) support.
+ [All] (Mail) Added SASL authentication to IMAP

+ [.NET] Added assemblies for Universal Windows Platform

* [NET] [Java] Changed the DCWeb samples in order to use Java applet via JNLP file (allows to run the applet separately outside of the browser)

- [All] (Base) ECDSA signatures didn't work with SHA2 hashes. Fixed.
- [All] (Base) Improved TElX509CertificateValidator to properly handle "recursive" OCSP and CRL requests within one transport. 
- [All] (Base) AV occured whem empty password was passed to TElAppleCertStorage.ExportWithPrivateKey method. Fixed.

^^^^^^^^^^^^^^^^^^^^
^^^ Version 14.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^


---
March 19, 2016
Version 14.0.290. Maintenance update.

+ [All] (XML) Added TElXMLEncryptor.IncludeKeyEncryptionKey property.

* [All] (PDF) Optimized adding of embedded fonts.

- [All] (PDF) Fixed decryption of documents that contain usage rights signature.
- [All] (PDF) Fixed signature updating for encrypted documents. 
- [All] (FTPS) Use of the FTP proxy with custom destination server port didn't work.

---
February 29, 2016
Version 14.0.289. Critical hotfix.

- [VCL,NG,CPP,Mac] (Base) Fixed critical error in DateTimeAddYears function which caused an exception in constructor of TElHTTPSClient component

---
February 26, 2016
Version 14.0.288. Maintenance update.

! [All] (Mail) Changed prefixes for internal IMAP4 classes from TSB to TEl
+ [All] (Mail) Added OnLog event and a few overloads for existing methods in the POP3 client component
+ [All] (EDI) Added access for verification result as Signature.VerificationResult property in message and receipt classes

* [All] (Base) You can control the use of Nagle mode on a TCP socket now
* [All] (ASiC) Code improved to generate a manifest file for XAdES signatures. 
* [All] (DC) Fixed async state collection processing in the applet. Added DC PDF samples that shows how to sign several documents at the same time.
* [All] (PDF) Added workaround for documents with invalid header
* [All] (PDF) Full OCSP responses are now always put to adbeRevInfoArchival and DSS, even if the responder provides 'basic' responses. This improves compatibility with Adobe Reader.
* [All] (SSH) A custom text for SSH_MSG_IGNORE message can now be supplied
* [All] (SSH) Simple forwarding components are now capable of reading channel exit statuses and messages
* [All] (PKI) ATSHashIndex elements are now always checked to have the corresponding entries in the signature if csoCheckATSHashIndexElements option is switched on.
* [All] (SFTP) A lot of compatibility improvements in TElSimpleSFTPServer component
* [All] (Cloud) Added support for Seoul endpoint to S3 components

- [All] (MIME) Removed unnecessary empty lines in internal "multipart" parts
- [All] (Cloud) Fixed incorrect S3 V4 signature composition for objects having '/' in their names

- [Java] CAdES, PAdES, XAdES handler fixed to disable Windows stores usage on non-Windows OS. Previously UnsatisfiedLinkError exception occured.

---
January 16, 2016
Version 14.0.287. Maintenance update.

+ [All] (Zip) Added AddDirContents method overload that accepts file masks as parameter
+ [All] (PGP) Added support for unseekable input streams (those with indefinite lengths and/or positions)

+ [.NET] (Base) Implemented native cryptoprovider for Xamarin/Android that uses system-provided cryptography library. This gives certain speed increase with some protocols.

* [All] (Base) Digest-MD5 implementation improved to add quotes for response parameter during HTTP authentication for better compatibility with some servers
* [All] (ASiC) TElASiCContainer.OnBeforeXAdESSigning/OnAfterXAdESSigning events added to control XAdES signatures generation
* [All] (ASiC) Minor improvements made to conform to the standard
* [All] (SOAP) Added TElXMLWSSEUsernameToken.Created property
* [All] (PKI) Added a possibility to edit existing timestamps, particularly by including new revocation elements to them
* [All] (PKI) Added built-in support for extended key usages: SmartCardLogon, KeyPurposeClientAuth, KeyPurposeKDC
* [All] (SSL) Added MaxCount property to SSLMemoryManager, allowing to provide a cap for the number of cached buffers
* [.NET] Corrected the DCWeb samples to use Java applet via JNLP technique, allowing to run the applet separately outside the browser

- [All] (Base) Punycode encoding didn't work properly for some IPv6 address subformats. Fixed.
- [All] (FTPS) SocketSettings property was not taken into account for underlying sockets in both client and server side components. Fixed.
- [All] (FTPS) TElSimpleFTPSServer server processed download/upload resumption incorrectly in certain conditions. Fixed.
- [All] (PKI) Fixed authenticode verifier to accept EXE-files with empty spcPEImageData content
- [All] (XML) Fixed the use of TElXMLEncryptor.OnFormatElement/OnFormatText events when key is encrypted
- [All] (Cloud) Several fixes in AWS S3 functionality (region support, large lists, PUT requests)
- [.NET] (SSL) Fixed UseIPv6 property in TElSimpleSSLClient and its descendants
- [Java] (PDF) Fixed TElPDFReal class to correctly write big integers (this issue could cause creation of invalid signatures for large pdf documents).
- [All] (SMIME) Fixed IgnoreCertAddress property in TElSimpleSMIMEMessage class
- [All] (MIME) Removed unnecessary MIME prefix in internal multipart parts in signed messages

---
December 12, 2015
Version 14.0.286. Maintenance update.

+ [All] (SMIME) Added the option to bypass searching for certificates by message sender address and to sign the message with all the certificates (with private keys) available in the signing certificate storage.

* [All] (Base) Added AlignEncryptedDataToKeyLength option to built-in cryptoprovider to control alignment of RSA operation results to the length of the public key.
* [All] (PKI) Added a couple of overloads of TElX509CertificateEx.Generate() method that simplify certificate generation in certain environments
* [All] (SSL) Added an option to switch SSL memory manager off for better memory control in environments where TLS components are not released with Dispose() calls
* [All] (HTTP) Upload speed (POST, PUT) increased, particularly for chunked upload mode
* [All] (PDF) Improved adding secondary,... n-ary visible signatures without "Miscellaneous Change(s)" warning on Signatures panel in Adobe
* [All] (PDF) Optimised revocation information collection in PAdES handler, resulting in faster signing
* [All] (Cloud) Removed an issue of excessive memory consumption during S3 object upload

- [All] (FTPS) TElFTPSServer skipped the last line of text files in some cases during downloads in ASCII mode. Fixed.
- [All] (HTTP) "Cannot inflate compressed data" exception occured during response parsing for some servers. Fixed.
- [All] (HTTP) Fixed an occasional AV in web tunneling functionality

- [.NET/Java] (Base) NullReferenceException occured inside TElX509CertificateValidator during validation process in some scenarios. Fixed.

---
November 23, 2015
Version 14.0.285. Maintenance update.

+ [All] (SSH) Support for curve25519-sha256@libssh.org curve was added

* [All] (Base) Improved the interface of TElJsonArray class, fixed several possible issues in other classes.
* [All] (Base) Minor improvements in IPv6 to IPv4 fallback
* [All] (Mail) TElSMTPClient.Login method improved to report exceptions correctly.
* [All] (SSH) OnKexInitReceived event added, allowing to access lists of algorithms supported by the remote party
* [All] (SSH) Improvements in AutoAdjustCiphers with regard to servers identifying themselves as mod_sftp/0.9.8 and later
* [All] (HTTP) Chunked upload didn't work properly. Fixed.
* [All] (PKI, PDF) Remote signing mode enhanced by adding a possibility to work with data to be signed itself (instead of its hash)

- [All] (XML) Fixed RSA-PSS signing and verification
- [All] (PEM) Fixed returned result if there is no PEM data available in buffer
- [All] (PDF) Attachment filename shown as Unknown in Adobe Reader DC when TElPDFFileAttachment.Filename property is set and UnicodeFilename property is empty - fixed.
- [NET, Java] (EDI) Fixed invalid writing of received content digest in receipts

---
Halloween '2015
Version 14.0.284. Official release. 

+ [All] (SSH) Implemented support for curve25519-sha256@libssh.org
+ [All] (PKI) Added ECIES cryptography support
+ [All] (Cloud) Added ability to change redirect URL in Google Drive access component

* [All] (HTTP/DAV) A few "Connection" header handling related improvements on server side.

- [All] (Cloud) Fixed an upload issue in OneDrive component (protected objects were uploaded with zero size)
- [All] (PDF) The processed document was not re-assembled if its last signature was removed. Fixed.
- [All] (SSL) Fixed a bug in certificate status extension copying
- [All] (Mail) Fixed a bug in DSN requests in the SMTP client component (invalid characters were not encoded)

- [.NET] (SSL) Fixed bug with ChaCha20/Poly1305 authentication mode
- [Java] (Base) fixed AV in JNI modules for Windows.
- [VCL] (HTTP) WebSocket client didn't work in latest Delphi XE versions - fixed.

---
October 9, 2015
Version 14.0.283. Release Candidate

+ [All] (PKI) TElX509CertificateValidator.ClearOutdatedCacheRecords method added that allows to clear outdated validation results cache records.
+ [All] (HTTP) Added support for custom charset in PostWebForm()
+ [VCL, .NET] (SSH) TElShellSSHSubsystemHandler.SendCharactersBack property added that allows to send entered characters to a client to make the input visible.
+ [C++] Added Visual Studio 2015 compiler support.

* [All] (PKI) Some tune-ups implemented in PKCS11 components to be more tolerant with non-fully-compliant tokens
* [All] (SSH) Improved interoperability with Chase HP/OpenSSH server

- [All] (Base) Chacha algorithm was not included due to the mistake in compilation directives. Fixed.
- [All] (HTTP) Cookie manager fixed to eliminate double quotes for Netscape cookie format.

- [.NET] (FTPS) Removed a memory leak in TLS-driven data channel setup
- [VCL] (Base, FPC on Linux) Fixed GetTickCount implementation for Linux platform (the value was improperly truncated, leading to various side effects, mainly concerning TickDiff calls)

---
September 20, 2015
Version 14.0.281. Beta version

+ [All] (Base) Added TElUsers class.
+ [All] (Mail) Added support for SEARCH and IDLE commands in TElIMAPClient class
+ [All] (FTPS) The non-compliant "bytes" suffix in responses to SIZE command is now tolerated 
+ [All] (SSL) Add Chacha20 and Poly1305 support to TLS components
+ [All] (SSL) Implemented support for extended master secret extension to TLS components
+ [All] (SSL) Added support for raw public keys for TLS authentication
+ [All] (SSH) Add ChaCha20/Poly1305 authentication mode to SSH components
+ [All] (SSH) Added TElSSHUser class
+ [All] (DAV) Added client and server side ACL support
+ [All] (DAV) Added client and server side CardDAV support
+ [All] (SOAP) Added TElXMLSOAPClient.LoadMessage methods
+ [All] (PKI) Implemented support for new ETSI CAdES profiles (ETSI EN 319 122)
+ [All] (PDF) Implemented support for new ETSI PAdES profiles (ETSI EN 319 142)
+ [All] (SFTP, FTPS) New modes added to upload and download routines
+ [All] (SFTP, FTPS) Added PreserveExistingFileTimes property to TElSimpleSFTPClient and TElSimpleFTPSClient
+ [All] (SFTP, FTPS) Implemented different options for directory structure creation with a multi-file transfer procedure
+ [Java] (Base) JNI.setInitialized added that allows to load JNI modules manually

* [All] (All) Added a built-in countermeasure against RSA-CRT attack
* [All] (PKI) Improved handling of TLS certificates issued for non-ASCII domain names
* [All] (PDF) Improved support for non-ascii characters in a signature widget when standard Type 1 fonts are used
* [All] (HTTP) TElHTTPSClient now uses persistent connections with NTLM and Digest authentication methods
* [All] (HTTP) TElHTTPSClient now only attempts to decompress the server response only if compression was explicitly requested
* [All] (HTTP) Processing of *-Encoding headers reworked in TElHTTPSClient
* [All] (SSH) Improved tunnel error handling in 'exec' mode
* [All] (SSL) Improved support for EC curve selection; users provided with more flexible control over the procedure.
* [.NET] (All) Implemented on-demand initialization of certain components to work around .NET native compiler issues

- [All] (MIME) Fixed the combining of broken encoded words when they follow each other in the header field with quoted-printable encoding used
- [All] (DAV) TElWebDAVClient.ReadProperties fixed to read XML properties values correctly


^^^^^^^^^^^^^^^^^^^^
^^^ Version 13.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

October 7, 2015
Version 13.0.282. Maintenance update

* [PHP] Fixed compatibility issue with extension compiled using phpize utility and php compiled using a different compiler on Linux.
* [All] (PKI) Made PKCS11 components tolerant to CKR_GENERAL_ERROR illicitly returned for C_GetTokenInfo() calls by some drivers 

- [All] (HTTP) Cookie manager fixed to eliminate double quotes for Netscape cookie format.
- [.NET] (FTPS) Removed a memory leak in TLS-driven data channel setup

- [FPC] Fixed GetTickCount implementation for Linux platform (the value was improperly truncated, leading to various side effects, mainly concerning TickDiff calls)


September 20, 2015
Version 13.0.280. Maintenance update

+ [All] (DAV) TElWebDAVClient.GetResourceType added to check resource types quickly.

* [All] (All) New RSA signatures are now automatically validated upon creation to make them immune to CRT attack
* [All] (SSL) Elliptic curve support significantly reworked, allowing higher flexibility and control
* [All] (SSL) Added OnExtensionsPrepared event to SSL components to allow users modify extension sets on the fly
* [PHP] Added workaround for empty()/isset() internal functions that works incorrectly when class property is passed as parameter.

- [All] (DAV) TElWebDAVClient.ReadProperties fixed to read XML properties values correctly.
- [All] (DAV) TElWebDAVServer: fixed rename command processing to work correctly with Windows Client. 
- [All] (XML) Fixed parsing documents without xml declaration header and with processing instructions.
- [All] (XML) Fixed writting KeyName property for encryption component.
- [FPC] (PGPMIME) Fixed bug in decryption.
- [All] (MIME) Fixed a bug in boundary search function which caused invalid processing of multipart parts

---
August 30, 2015
Version 13.0.279. Maintenance update

* [All] (PKI) Improved handling of TLS certificates issued for non-ASCII domain names
* [All] (PDF) Improved support for non-ascii characters in a signature widget when standard Type 1 fonts are used
* [All] (HTTP) TElHTTPSClient now uses persistent connections with NTLM and Digest authentication methods
* [All] (HTTP) TElHTTPSClient now only attempts to decompress the server response only if compression was explicitly requested

- [All] (MIME) Fixed the combining of broken encoded words when they follow each other in the header field with quoted-printable encoding used
- [C++, PHP] (Base) Fixed hang on dynamic loading of SBB library for Unix systems.
- [PHP] (Base) Fixed methods/functions that returns NULL object value.
- [VCL] (Base) Fixed datetime functions for 64-bit Unix/Mac OS X (FreePascal).

---
August 5, 2015
Version 13.0.278. Maintenance update

+ [.NET] Added .NET 4.6 assemblies and Visual Studio 2015 integration

- [All] (SSL) Several memory leaks eliminated from the client-side components
- [non-Unicode VCL, C++, PHP] International characters could be lost in SubjectName and IssuerName properties of TElX509Certificate objects, causing side effects in higher-level components using them. Fixed.
- [Java] (PDF) Signing documents containing cross-reference streams resulted in invalid output documents. Fixed.

---
July 27, 2015
Version 13.0.277. Maintenance update

+ [Java] (Base) JNI.setInitialized added that allows to load JNI modules manually.
+ [All] (MIME) Added parsing of header field parameters encoded according to RFC 2231, including splitted parameter values

* [All] (Base) Improved ParseRFC822TimeString function to accept date&time strings produced by Outlook
* [All] (SSH) Command channel rejection by the server is now handled and reported more correctly

- [VCL, C++, PHP] (SSL) Fresh memory leak in TElCertificateStatusSSLExtension has been fixed.
- [.NET] (Base) Fixed a glitch in EC key processing procedure which prevented certain EC keys from being loaded correctly

---
July 15, 2015
Version 13.0.276. Security update

* [All] (XML) Added workaround for XPath Filter 2.0 transform if XPath expression contains prefixes that are not explicitly defined.
* [Java] (Base) TElOCSPResponse.SaveBasic/Save improved to be used from Java code.

- [All] (Base) If the invalid certificate was checked several times without flushing the cache, it was treated as a valid one. Fixed.
- [All] (Base) The certificate which contained non-empty chain was treated as a valid one. Fixed.
- [All] (PKI) The signature of the certificate request with 2048-bit DSA key could not be validated. Fixed.
- [All] (HTTPS) The cookies were added to TElCookieManager only if their Expires was not set (broken in build 274). Fixed. 
- [Java] (Base) OCSP response validation in certificate validator has been fixed.
- [.NET] (Base) Fixed ArgumentNullException in TElJKS.GetSaveBufferSize() method.

- [.NET] (ZIP) NullReferenceException inside TElZipReader.Close which occured with WinRT/WinStore assemblies has been fixed.
- [.NET] (SAML) An exception inside TElSAMLRedirectBinding has been fixed.

---
July 6, 2015
Version 13.0.274. Official release

! [All] (HTTPS) PreferKeepAlive and ForceKeepAliveIfNoConnectionHeaderIsPresent properties have been replaced with smart KeepAlivePolicy property. This property can be kept in its default value unless you need to achieve some special behavior (such as disable keep-alives completely). 
! [All] (HTTPS) Now the cookies received from the server by default get RFC6265 format.

+ [All] (PGP) Added overloads to FindPublicKeyByID and FindSecretKeyByID methods of TElPGPKeyring to allow search using short text IDs (like 0xAB12CD56)
+ [All] (SSH) Added socket-based TElSimpleSSHServer component
+ [All] (SFTP) Added socket-based TElSimpleSFTPServer component
+ [All] (XML) Added support of ECDSAKeyValue element that is used for encoding ECDSA public keys according to RFC 4050.
+ [All] (XML) Added xvrInconsistentSigningCertificate reason flag for TElXAdESVerifier.Validate() method

* [All] (MIME) Fixed several parsing and assembling bugs in mail headers
* [All] (PDF, XML) Added RemoteSigningParams property for TElXMLSigner and TElPDFAdvancedPublicKeySecurityHandler classes.
* [All] (HTTPS) Cookies were handled according to local time, not UTC as required in the latest version of the standard. Now UTC is used everywhere. 
* [All] (XML) Added TElXAdESSigner/TElXAdESVerifier.OnAfterCertificateValidate event.
* [All] (XML) Added workaround for XPath Filter 2.0 transform if XPath expression contains prefixes that are not explicitly defined.

* [C++] Disabled the use of copy constructors and assignment operators for SecureBlackbox classes.

- [All] (XML) Fixed remote signing (using OnRemoteSign event) for DSA and ECDSA signature methods.
- [All] (HTTPS) A bug in GetDirStr() internal function, which stripped the ending slash, lead to errors in cookie handling. Fixed (now the slash is kept).

- [C++] Fixed static library compilation for 64-bit target using Visual Studio compiler

---
June 14, 2015
Version 13.0.273. Release Candidate 2

+ [All] (PKI) Implement support of DSA-SHA2 algorithms 
+ [All] (PKI) Certificate validator component extended with internal validation process logging facility
+ [All] (PKI) Added support for Brainpool elliptic curves
+ [.NET] PKCS#11 support for Mono assemblies has been added

* [All] (PKI) TElCertificateRevocationList.DetectCRLFileFormat method added
* [All] (HTTPS) TElHTTPSClient.OnBeforeWebSocketClientUsed declaration changed to allow internal client adjustments (setting authorization credentials etc.) before WebSocket connection is established
* [All] (SFTP) Renamed TElSimpleSFTPClient.CreateRemoteFolder to CreateDirectoryPath and made it public
* [All] (Mail) TElSMTPClient: added workaround for AUTH PLAIN for correct work with Apple mailserver
* [All] (Cloud) Added automatic renewal of access token to OneDrive data storage component
* [All] (SSH) Simple forwarding classes extended with internal buffer size control properties

- [All] (DC) Fixed creation of PKCS#7 signatures in the Java applet and ActiveX control
- [.NET] (Base) Fixed work with 2048 bit system certificates on WinRT


---
May 21, 2015
Version 13.0.271. Release Candidate 1

! [All] (SSL) Change of TElSSLServer.OnCloseConnection event declaration reflecting unification of the OnCloseConnection declaration in the client-side and server-side components
! [All] (SSL) Change of TElSSLClient.OnCertificateStatus event declaration reflecting added support for multiple OCSP stapling (the last parameter is now TElList and not ByteArray)
! [Java] (All) Changed all event declarations with parameters of types TSBBoolean and TSBInteger

+ [All] (SSH) Added support for private keys in PKCS#8 format
+ [All] (Base) Added support for XOAUTH2 SASL mechanism
+ [All] (Mail) Added support for OAuth 2 authentication protocol in TElSMTPClient component
+ [All] (SFTP) Added support for statvfs@openssh.com extension
+ [All] (PDF) Added support for missing PNG predictors for more flexible and tolerant stream decompression
+ [All] (Cloud) Added support for version 4 signatures in AWS S3

+ [C++] Added support for MinGW compiler
+ [.NET] Mono 4.0 assemblies have been added.

* [All] (Base) TElX509CertificateValidator can now use system certificates on Mac OS X (if TElX509CertificateValidator.UseSystemStorages is on)
* [All] (Cloud) Geographic locations support in AWS S3 improved
* [All] (SSL) Significantly decreased memory consumption by SSL derivative components by implementing effective internal memory manager
* [All] (Base) PKCS#7 parser improved to load a type of CMS messages where issuerAndSerialNumber and subjectKeyIdentifier structures are mixed.

* [Java] (Base) TElX509CertificateValidator can now use system certificates on Android (if TElX509CertificateValidator.UseSystemStorages is on)
* [Java] (Base) TElJCECryptoProvider: added workaround for SunMSCAPI provider bug that doesn't allow to generate signatures correctly.

- [All] (PDF) Fixed SignatureName encryption while signing an empty signature field in encrypted documents

- [.NET] (Base) Fixed charset initialization
- [C++] Minor fix for std::vector handling in Visual Studio 2008


---
April 21, 2015
Version 13.0.270. Beta version

! [C++] (PKI) PKCS#11 OnSlotEvent event is now always called in the context of the worker thread to avoid thread synchronization issues
! [All] (SSL) Changes in the set of cipher suites enabled by default following a review of secure/insecure ciphers. Sole SSL 2.0 support now requires the corresponding cipher suites to be explicitly enabled, other versions are not affected.

+ [All] (Base) TElAppleCertStorage component supporting Mac OS and iOS key chains added
+ [All] (Base) Added support for ANSI X.923 padding to symmetric block ciphers
+ [All] (SSL) Implemented multi-certificate stapling
+ [All] (SAML) SAML 2.0 components (supporting IdP, SP and client roles) added
+ [All] (ZIP) Added support for self-extracting ZIP archives
+ [All] (MIME) S/MIME components now support CAdES signatures (a separate license for PKI package is required)
+ [All] (SSH/SFTP) Implemented Elliptic Curve Cryptography modes for secure key exchange (ECDH) and authentication (ECDSA) 
+ [All] (SSH/SFTP) Added support for AES-GCM symmetric algorithms
+ [All] (SFTP, FTPS) Expressions are now supported in file masks in group file operations (UploadFiles, DownloadFiles, ListDirectory, RemoveFiles)
+ [All] (HTTP) Large multipart form data can now be accessed as a stream in server side components
+ [All] (Mail) Added support for delivery status notifications (DSN) to TElSMTPClient
+ [All] (PDF) Added poCompressDSS option to TElPDFAdvancedPublicKeySecurityHandler.PAdESOptions to control compression of DSS streams
+ [All] (PDF) Added TElPDFSignatureWidget.ShowVisualStatus and CustomVisualStatusMatrix properties for tuning appearance of the signature validity icon
+ [All] (PDF) Added TElPDFFileAttachment.UnicodeFilename property allowing to provide a Unicode alternative for the attachment filename
+ [All] (PDF) Added GetSignerCertificate() method to PAdES and standard security handlers
+ [All] (PGP) SBPGPUtils.OpenPGPPasswordCharset variable added that allows to specify the charset to use when generating encryption keys from passwords. The default value is 'utf-8'.
+ [All] (PGP) TElPGPWriter extended with PreserveFilePaths property that directs the component to preserve complete file paths when packing files to a TAR archive in EncryptFiles() and similar methods
+ [All] (FTPS) TElSimpleFTPSServer.OnFileAllocate event added
+ [All] (Cloud) Added support for chunked uploads to OneDrive component
+ [All] (SSL) Added support for new Camellia and PSK cipher suites, as per RFC 5489, 5932 and 6367
+ [All] (SSL) Added ConnectionInfo property to SSL/TLS components that provides access to security parameters of the connection
+ [All] (SFTP) TElSimpleSFTPClient enhanced with new DownloadStream, DownloadFile, UploadStream and UploadFile overloads with SuppressAdditionalOperations parameter that allows to work around some buggy servers

+ [C++] Added overloaded bitwise operators for flags
+ [VCL] Added support for RAD Studio XE8
+ [.NET] Added a separate set of assemblies targeting Windows Phone 8.1 platform
+ [.NET] Certificates stored in system stores of mobile devices (and accessible via Windows.Security.Cryptography class) can now be used with SecureBlackbox components

* [All] (PKI) Added pcsoUseSystemProcAddresses flag to TSBPKCS11StorageOptions set, which is merely a workaround for certain buggy PKCS11 drivers
* [All] (PKI) TElX509CertificateValidator certificate and CRL caching algorithm significantly improved, leading to better performance
* [All] (SFTP, FTPS) Added an option for recursive file listings via a new overloaded ListDirectory method
* [All] (SFTP) An option for transferring empty folders was added
* [All] (SSH) Custom rejection codes and messages are now supported in TElSSHServer class
* [All] (PKI) A lot of improvements in chain validation routines, primarily concerning revocation checking and better profile compatibility checks

- [All] (Base) TElX509CertificateValidator performed redundant revocation checks for already checked certificates. Fixed.
- [All] (FTPS) The size parameter of the ALLO command was limited to maximum integer value in the server component. Fixed to allow correct support for larger file sizes.
- [All] (SSH) Simple port forwarding components closed socket connections in non graceful way. Fixed.
- [All] (FTPS) Fixed a bug with processing IPv6 EPSV command reply

- [Java] (Base) TElFileStream created empty files even if read-only flags were used. Fixed.


^^^^^^^^^^^^^^^^^^^^
^^^ Version 12.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

---
June 4, 2015
Version 12.0.272. Maintenance update
                
+ [All] (PDF) Added support for missing PNG predictors, they are used in decompression of streams.

* [Java] (Base) TElJCECryptoProvider: added workaround for SunMSCAPI provider bug that doesn't allow to generate signatures correctly.

- [All] (PDF) Fixed SignatureName encryption while signing an empty signature field in the encrypted document.
- [C++] Minor fix for std::vector handling in Visual Studio 2008

---
April 9, 2015
Version 12.0.269. Maintenance update

+ [All] (PDF) Added TElPDFDocument.RemoveEmptySignatureField method

* [.NET] (All) IPv6 support is now always turned on in WinRT revision of the components.
* [All] (PKI) Several improvements in certificate chain validation routine

- [All] (HTTPS) Post(string, string) overload sent truncated data. Fixed.
- [All] (EDI) Suppressed quoting of Disposition-Notification-To field parameters.
- [All] (PKI) Fixed an issue with loading PKCS#11 drivers introduced in build 268

- [VCL] (SSL) fixed memory leak inside TElIdSFTPClient.MakeDir method.
- [Java] (SSH/SFTP) fixed UMAC algorithm that didn't work correctly.
- [.NET] (FTPS) Fixed EPSV command processing for IPv6 connections
- [.NET] (Base) Fixed possible NullReferenceException that occured in TElSocket based components under specific circumstances.


---
March 18, 2015
Version 12.0.268. Maintenance update

+ [VCL, .NET] (SSH) TElShellSSHSubsystemHandler.OutputLines property added that forces the handler to write data to underlying console per line, but not per character as by default. This may be useful when remote scripts are executed and require user input.

- [All] (PKI) TElX509CertificateValidator may freeze during validation if a server with revocation data is not available or doesn't exist. Fixed.
- [All] (SSL) Fixed possible endless loop inside TElCustomSSLClient that may occur during data sending operation.

---
March 5, 2015
Version 12.0.267. Maintenance update

! [All] Major rework to the way exceptions are handled in the internals of the product. While this should not affect any code using SecureBlackbox components, please note that 'crash' exceptions (such as EOutOfMemory, EAccessViolation, EStackOverflow etc.) are now propagated up to the calling code and never suppressed.

+ [All] (Base) Added partial support for Elliptic Curve (EC) keys stored in Windows key storages and accessed via e.g. TElWinCertStorage. Further support to follow soon.
+ [All] (SFTP, FTPS) SB_*_ERROR_OPERATION_CRITERIA_NOT_MET error code is now reported in OnFileOperationResult to check if a file was skipped in ftmSkip or ftmOverwriteIfDiffSize transfer modes. 

* [All] (Base) Added loading certificates from a pem-file when the private key is before the certificate
* [All] (ZIP) Code improved to work with archives that have multiple entities with the same name.
* [ALL] (Cloud) Improved Amazon S3 errors output
* [All] (HTTPS) SSL session resumption is now automatically switched off in TElHTTPSClient if server address changes during redirection 
* [All] (SSH) Added RaiseExceptionOnCommandTimeout property to TElSimpleSSHClient.ExecuteCommand method
* [All] (SSL) Server environment (DHE keypairs) can now be pre-generated as well as generated on demand on first connection attempt

* [C++] (Base) Added TBits wrapper class.
* [C++] Improved C++11 codecvt feature detection for GNU C++ compiler.

- [All] (Cloud) Fixed Box files uploading
- [All] (Office) Fixed signing ODP documents that contains space characters in entry names.
- [All] (FTPS) GetFileTime in TElSimpleFTPSClient didn't return correct value when the server supported MDTM command. Fixed.
- [All] (HTTPS) NTLM authentication didn't work for custom HTTP methods in case when server sends *large* response body with authentication challenge. Fixed.
- [All] (SSH) RequestTerminal property was not taken into account for shell tunnel mode in TElSimpleSSHClient. Fixed.
- [All] (Base) Fixed an issue in SHA512 where incorrect digests were produced for inputs longer than 512Mbs
- [All] (PKI) Fixed archival timestamp calculation issue in TElCMSSignature class after recent breakdown.
- [All] (Cloud) Fixed SAS calculation issue in Windows Azure component which caused about 1/3 of SAS-authenticated requests to fail.

- [Java] (XML) Fixed "Could not find method SecureBlackbox.Base.TElCustomTSPClient.processReply" error.
- [C++] (Cloud) Fixed calculation of Windows Azure authorization header <signature>
- [C++] (Base) Fixed working with std::vector for a static library compiled with MS VC++ if _ITERATOR_DEBUG_LEVEL set more than zero.
- [VCL] (SSH) Channel Close message was not sent correctly by the SSH server. Fixed. 

---
February 4, 2015
Version 12.0.266. Maintenance update

+ [All] (SOAP) Added X509PKIPathv1 token type support for WS-Security signature handler.
+ [All] (SSH) Added AES-GCM to SSH 

* [VCL] (Base) Improved DirectoryExists function to correctly check root directories of UNC paths. 
* [VCL, C++] (PDF) Improved DecodeTextString function to accept non-encoded 8-bit data with high order bit set (in non-Unicode versions of Delphi and in C++).

- [VCL, C++] (Charsets) In non-Unicode versions of Delphi and in C++ conversion between ANSI and Unicode in some cases was not concurrent, which could cause side-effects in heavily multithreaded environments. Fixed.
- [All] (MIME) Fixed mail address lists parsing
- [All] (PDF) Fixed processing signatures with bad contents (they were skipped).

---
January 6, 2015
Version 12.0.265. Maintenance update

* [All] (Mail) TElSMTPClient improved to use fixed DIGEST-MD5 authentication algorithm correctly.
* [All] (SOAP) TElXMLSOAPClient.ClearResponse method improved to clear underlying TElHTTPSClient.OutputStream to eliminate possible AV.

- [All] (Base) Unicode normalization has been fixed. The issue could cause unpredictable side effects when working with X.509 certificates.
- [All] (Base) DIGEST-MD5 authentication fixed for MD5-sess algorithm.

---
December 31, 2014
Version 12.0.264. Maintenance update


! [C++] (PKI) PKCS#11 OnSlotEvent event is now always called in context of the worker thread in order to address the thread synchronization problem

+ [C++] (Samples) Added Office sample.

+ [All] (DAV) TElWebDAVServer.OnBeforeUpload/OnBeforeDownload/OnTransferFinished events added
+ [All] (HTTPS) Added TElHTTPSClient.PostMultipart() method.
+ [All] (SOAP) Added TElXMLSOAPClient.SendMessageWithAttachment(s) methods.
+ [All] (PKI) Added TElRelativeDistinguishedName.GetStringValuesByOID/GetFirstStringValueByOID methods.
+ [All] (XML) Added xoUseHexSerialNumber option to TElXAdESSigner/TElXAdESVerifier.XAdESOptions property.

* [All] (Base) Improved RDN comparison according to RFC 5280
* [All] (Base) TElCustomFileSystemAdapter improved to handle UNC paths set as BasePath.
* [All] (HTTPS) TElHTTPSServer improved to parse If-Match/If-None-Match headers.
* [All] (SSH) TElSSHKey.LoadPrivateKey improved to load Putty public keys even in case of SB_ERROR_SSH_KEYS_INVALID_PASSPHRASE return code.
* [All] (HTTP) TElHTTPSClient.PostWebForm improved to encode empty POST parameter values correctly.
* [C++] (PKI) Added workaround for finalization issue with some PKCS#11 libraries.

* [.NET] (PKI) TElX509Certificate.Load*FromFileAuto methods improved not to lock the file.

- [Java] (Base) ArrayIndexOutOfBoundsException fixed in TElPublicKeyCrypto.signDetached method.

---
November 25, 2014
Version 12.0.263. Maintenance update

! [All] (PKI) TElX509CertificateEx.SerialNumber property can be set to a value no longer than 20 bytes in order to ensure compatibility with certain third-party readers. This doesn't apply to TElX509Certificate.SerialNumber property.

+ [All] (Cloud) Added support for resumable and chunked uploads for Google Drive. NOTE: an upload cannot be resumed if the access token valid on the upload start expires, even if a new access token received before the previous has expired
+ [All] (Cloud) Added SolFS+CloudBlackBox samples on C#, Java, VB.Net and update sample on VCL
+ [All] (PKI) Added TElCertificateRevocationListEx.PreferredHashAlgorithm property that allows to set CRL signing hash algorithm.

+ [C++] (PKI) Added Windows and PKCS#11 storage samples.

* [All] (DAV) TElWebDAVServer improved to process chunked requests correctly.
* [All] (PKI) HTTP and LDAP CRL retrievers now support CRLs provided in PEM format.
* [All] (SFTP) Added proper support for fmOpenOrCreate mode on SFTP versions 3 and 4

* [C++] Minor improvement in C++11 feature detection.
* [.NET] (Base) Re-worked socket wrapper implementation that should result in improved connectivity on WinRT platforms, in FTPS components in particular.

- [All] (MIME) Fixed hang up when parsing a multipart message and no boundary found in the part body
- [All] (XML) Fixed thread-safety problem in InitializeXMLCharProps method (XML initialization).
- [All] (XML) Fixed handling of here() function for XPath tranform and XPath Filter 2.0 transform.
- [All] (XML) Fixed handling XPath expression when comparing with an empty string. Improved handling of id() function.

- [VCL, .NET] (PDF) Fixed DecodeTextString() function.
- [.NET] (SSH) Fixed a glitch where SB_ERROR_SSH_KEYS_INVALID_PASSPHRASE error was returned on attempt to load Putty private keys with comments in them.
- [.NET] (Cloud) Fixed authorization failure in Dropbox if OAuth 2 used
- [Java] (FTPS) Fixed a glitch in TElSimpleFTPSClient component where an exception was thrown at the end of file transfer process.

---
October 28, 2014
Version 12.0.262. Emergency update (POODLE attack countermeasures implemented)

! [All] (SSL) Principal changes in SSL/TLS component configurations aiming to counteract POODLE attack. Please read the article on our web site for the details.

+ [All] (Cloud) Added Search method to TElOneDriveDataStorage component

* [All] (MIME) Angle brackets from Content-ID header field value are removed now (to behave the same way as Message-ID)
* [All] (PDF) Added a workaround for documents generated by Canon iR2022 which didn't have completely valid structure

* [Java] (Base) The breaking change in implementation of Collection.Sort in Java 8 could lead to Stack Overflow error in SecureBlackbox. Workaround has been added.

- [All] (PKI) Certificate Validator sometimes wrongly disposed of the CRL which could lead to Access Violation
- [All] (FTPS) FTPS server components improved to handle REST with parameter larger than 32-bit integer.
- [All] (Cloud) Fixed a mistake in signature calculation routine which resulted in access denied errors when using CopyObject() method
- [All] (SSL) In TLS 1.x DH cipher suite was negotiated without proper DH data in some cases. fixed. 

- [Java] (Base) Fixed StackOverflowError that occured on JRE 8u20 and higher due to changes in java.util.ArrayList class.
- [Java] (Office) Fixed TElOfficeOpenXMLRelationshipTransform processing (used in signing OOXML documents).

---
October 14, 2014
Version 12.0.261. Maintenance update

+ [All] (Base) Added TElX509CertificateValidator.SkipSubjectNameIfAltNameExists property that forces the validation to be performed according to RFC6125.
+ [All] (PKI) Added support for buggy TSP servers that provide responses under "application/timestamp-result" content type.
+ [All] (XML) Added XPath Filter 2.0 transform support.
+ [All] (Cloud) Added support for OAuth 2.0 for Dropbox

* [All] (PKI) Added pcsoUseSystemProcAddresses to TSBPKCS11StorageOption. Allows to work with some buggy PKCS11 tokens.
* [All] (PKI) Improved searching for CA certificate for OCSP signer certificate in the TElX509CertificateValidator.
* [All] (XML) Optimized XPath query processing.

- [All] (PKI) Fixed AV in certificate validator when ValidateInvalidCertificates property is true.
- [All] (PDF) Fixed writing of array objects after appending a new object.
- [All] (XML) Fixed exclusive canonicalization transform processing.
- [All] (Cloud) Fixed folders creation for Google Drive
- [All] (Cloud) Fixed several minor issues in Dropbox component

- [VCL] (Base) Fixed parsing of numbers with decimal separator other than dot in JSON
- [VCL] (Base) Fixed memory leak in TElX509CertificateValidator (CRL object was not disposed of in some cases).
- [VCL] (HTTP) TElHTTPUtils.HTTPTimeToDateTime method didn't parse dates with Sunday as a weekday. Fixed.
- [VCL] (Base) Global validation element retriever factory objects were not freed with CleanupRegisteredGlobalObjects(). Fixed.
- [.NET] (Base) NullReferenceException was occasionally thrown in response to socket closure on WinRT platform. Fixed.

---
September 15, 2014
Version 12.0.260. Maintenance update

+ [All] (FTPS) TElSimpleFTPSServer.OnFileAllocate event added.
+ [All] (SFTP) TElSimpleSFTPClient enhanced with new DownloadStream/DownloadFile/UploadStream/UploadFile overloads with SuppressAdditionalOperations parameter that allows to suppress additional checks. Allows to work with some buggy servers.
+ [All] (Base) Added ability to reuse binding address in outgoing sockets

* [All] (Mail) TElSMTPClient: DIGEST-MD5, CRAM-MD5 and NTLM SASL authentication mechanisms are now enabled by default.
* [All] (SSH) Added DefaultWindowSize and MinWindowSize properties to the server-side SSH component
* [All] (PKI) Certificate Policies extension are now saved in more 3rd party software friendly way
* [All] (SSL) Improved compatibility of DTLS components with Chrome and Firefox implementations
* [All] (PDF) Improved clearing of TElPDFDocument instance (make it reusable).

- [All] (Base) TElX509CertificateValidator performed redundant revocation checks for already checked certificates. Fixed.
- [All] (Base) TElSocket hanged during proxy authentication on some conditions. Fixed.
- [All] (FTPS) ALLO size parameter was limited to maximum 32 bit integer value. TElFTPSServer/TElSimpleFTPSServer fixed to allow larger sizes.
- [All] (Mail) Fixed a bug which caused incorrect time parsing in mail messages.
- [All] (SSL) Fixed an issue in custom TLS extension processing (the extension type field was not promoted to the user)

- [.NET] (Base) Fixed a minor string processing bug in product core that was unintentionally added in the previous update and resulted in various side effects.

---
August 31, 2014
Version 12.0.259. Maintenance update

+ [All] (FTPS) TElSimpleFTPSClient enhanced with parametrized MLSD/MLST commands support.
+ [All] (MIME) Added ability to set a custom MIME prefix text; see the TElMessage.MIMEPrefix property

+ [Java] (XML) Added SOAP samples.

* [All] (Mail) SMTP client changed to report command replies with OnReceived event line-by-line, not a complete reply at once
* [All] (MIME) Changed declaration of TElDKRSAPublicKey.Generate method; now it takes only Bits parameter and returns generated private key as a byte array

* [VCL] (MIME) Changed type of TElDKRSAPublicKey.Exponent and TElDKRSAPublicKey.Modulus properties; ExponentSize and ModulusSize properties were removed
* [Java] (PDF) Signing process took a lot of time in some conditions (when large data blocks were to be encoded to BASE16).

- [All] (FTPS) Fixed a bug when it was impossible to change outgoing data inside TElSimpleFTPSServer/TElFTPSServer.OnBeforeSendReply event handler.
- [All] (FTPS) It was impossible to change outgoing data inside TElSimpleFTPSServer/TElFTPSServer.OnBeforeSendReply event handler.

- [All] (MIME) Fixed several bugs in DKIM signatures verification

- [VCL] (MIME) The first character of default MIME prefix text was missed. Fixed.
- [VCL] (MIME) Fixed a bug with missing the first character of default MIME prefix text


---
August 15, 2014
Version 12.0.258. Maintenance update

+ [All] (FTPS) TElSimpleFTPSServer now supports wildcards for NLST command. This allows "mget *.*" command to work. 

+ [Java] (PDF) TinySignerPKCS11 sample added.

- [All] (Base) TElCustomCertStorage.LoadFromBufferJKS method fixed to report error if wrong password provided.
- [All] (Base) FileSystemAdapter incorrectly processed UNC paths. Fixed.
- [All] (PKI) TElMessageTimestamper.Timestamp produced invalid timestamps. Fixed.

- [VCL] (LDAP) Fixed a bug when search operation failed. The bug was introduced in first 12th version builds.
- [.NET] (Base) ParseURL method failed if the URL contained a port number. Fixed. 

---
August 2, 2014
Version 12.0.257. Maintenance update

- [All] (Base) PEM decoding fixed.
- [All] (DC) Fixed URL composing which is used to post back signature results in ActiveX control
- [All] (HTTP) Digest authentication fixed.
- [All] (SSL) Server was incorrectly choosing a session certificate in certain ciphersuite configurations, leading to handshake failures. Fixed.
- [All] (SSL) Fixed occasional GCM cipher failures in SSL/TLS client

- [VCL] Due to a bug in C++Builder compiler certain parts of SecureBlackbox code were unusable. Workaround has been added.
- [.NET, Java] (FTPS) foPreallocateStorage in TElSimpleFTPSClient didn't work due a typo error. Fixed. 
- [.NET] (Base) When using a workaround in UNC path handling, the error code was not reset. Fixed.

---
July 23, 2014
Version 12.0.256. Maintenance update

* [All] Documentation updated to reflect the replacement of BufferType with ByteArray.

* [.NET] (Base) The mechanism to open files behind a UNC path has been improved.

- [All] (HTTPS) URL with parameters (the part after ?) were passed by TElHTTPSClient to the server with an extra question mark. The issue appeared in build 255 due to last-minute changes. Fixed.

---
July 19, 2014
Version 12.0.255. Official release

! [All]	BufferType type has been replaced with ByteArray.
! [VCL] Delphi 5 (yes, that old one) support dropped

+ [VCL] RAD Studio XE6 support added

+ [All] (PKI) Added support for trusted timestamps (TSP protocol) to Authenticode
+ [All] (HTTPS) Added handling of response code 308 as per RFC 7238
+ [All] (FTPS) TElSimpleFTPSServer.OnBeforeSendReply event added.
+ [All] (SSH) InactivityPeriod property added for forwarding classes that tells the component to close the forward if there were no activity for some time.
+ [All] (SSL) Added support for signaling ciphersuite value (SCSV), a compatible method for indicating support for renegotiation info extension.
+ [All] (PKI) Added SHA2 support to PKCS#5
+ [All] (MIME) Added AlignEncryptedKey property that allows to fix a compatibility issue with old software in encrypted mail messages

* [All] (Base) TElMessageEncryptor/TElMessageDecryptor improved to support RSA-OAEP with non SHA-1 MGF1 functions.
* [All] (Base) TElMessageEncryptor and .NET EnvelopedCms compatibility improved.
* [All] (Base) Processing of X.509 CRL Distribution Points and Name Constraints extensions significantly reworked and improved.
* [All] (Base) TElDSAKeyMaterial.LoadPublic improved to load PEM-encoded keys in OpenSSL format.
* [All] (PKI) TElCertificatePoliciesExtension improved to handle policies with multiple qualifiers correctly.
* [All] (XML) Added workaround for parsing TSP info if a data contains TSP reply.
* [All] (FTPS) TElSimpleFTPSServer changed to return 550 code in case of file absence on DELE request.
* [All] (SFTP) Improved upload speed with Bitvise WinSSHD server.
* [All] (PKI) TElTSPServer class improved to clear AuthenticatedAttributes on subsequent requests.
* [All] (MIME) Removed the Offset parameter in the TElMessageHeader.Parse method
* [All] (Base) TElMessageEncryptor/TElMessageDecryptor improved to support RSA-OAEP with non SHA-1 MGF1 functions.
* [All] (Base) TElMessageEncryptor and .NET EnvelopedCms compatibility improved.
* [All] (Base) Processing of X.509 CRL Distribution Points and Name Constraints extensions significantly reworked and improved.

* [All] (SSL) Server name extension is now automatically sent on TLS 1.0-1.2, which aims to improve compatibility with newer SSL and HTTPS servers.

* [.NET] (Base) Improved cryptographic code efficiency with regard to garbage collection

* [.NET, C++, VCL] (Base) Improved error reporting in DiskFileSystemAdapter - now the error code is [attempted to be] returned more precisely and not just "Access Denied" as before.
* [Java] (XML) Optimized xml canonicalization and saving.

- [All] (XML) Fixed NullPointerException in TElXAdESVerifier.ExtractAllCertificates method.
- [All] (Cloud) A minor fix to shared access signatures calculation in debug mode
- [All] (HTTPS) When sending the request using the inherited methods of TElRESTClient, output stream was not cleared before the second request.
- [All] (HTTPS) Multiple cookies put to HTTPClient.RequestParameters.Cookies were sent not correctly. Fixed.
- [All] (HTTPS) 204, 205 and 304 response codes were not handled right  if connection was kept and not closed by the server. Fixed.
- [All] (PKI) Fixed CompleteChainValidation parameter in TElX509CertificateValidator.Validate method.
- [All] (PDF) Fixed extra newline in signature widget for numeric OID values generated by TElPDFPublicKeySecurityHandler.GetSignatureInfo method.
- [All] (Charsets) Fixed charset conversion.
- [All] (XML) Fixed XPath processing.
- [All] (SOAP) Ensures that a Header element is always created before Body element.
- [All] (SSL) The TLSv1.2-only client did not reject servers rolling back to TLSv1.0 or TLSv1.1. Fixed.
- [All] (MIME) Fixed a bug in parsing mail headers with empty field bodies

- [VCL] (Base) Fixed TElRandom.Randomize implementation.
- [VCL] (Base) Fixed import and export of keys to Windows system stores, broken in one of SBBv12 betas.
- [VCL] (PDF) Fixed decryption with TElPDFPublicKeySecurityHandler.
- [.NET] (SSL) Fixed broken SSLv2 implementation.
- [.NET, Java] (SSL) TElSSLServer didn't work with some TLS1.2 ciphersuites. Fixed.
- [.NET] (Office) Fixed constructor visibility for some encryption handlers.
- [Java] (Base) Fixed JNI.java not to include the JNI native library extension - Java doesn't expect the extension by default and doens't work in some cases when the extension is specified.

- [All] (Office) Fixed RC4 decryption for binary documents.
- [C++] (Office) Fixed signing of .docx, .xps documents for Mac/iOS

---
May 28, 2014
Version 12.0.253. Release candidate 2

! [All] (PKI) PKCS#11 constants and types have been renamed from CK?_ (eg. CK_LONG, CK_RV) to SB_CK?_ (SB_CK_LONG etc.) 
! [All] (HTTPS) NewURL parameter in OnRedirection event of TElHTTPSClient can now be changed by the event handler. 

+ [All] (FTPS) TElSimpleFTPSServer.OutgoingLocalBinding property added that allows to set outgoing address and port for active transfer mode.
+ [All] (FTPS) Added support for EPRT and EPSV commands to FTPS server.
+ [All] (FTPS) Added support for SITE command in FTPS server.

+ [All] (SSH) Added port knocking functionality to SSH forwarding components.

+ [.NET] (PKI) PKCS#11 is now available for Windows CE
+ [C++] (PKI) PKCS#11 is now available for static PKCS#11 libraries on iOS.
+ [Java] (PKI) PKCS#11 via JNI is now available for Android.

* [All] (FTPS) FTPS server now reports error code to a client in case of exception inside OnTransferCompleted event handler.

- [Java] (Base) Fixed a bug in JCE cryptoprovider that caused invalid signatures generation.
- [Java] (Office) Fixed signing/verification using CryptoAPI signature handler for some binary documents.


---
May 4, 2014
Version 12.0.251. Release candidate 1

! [All] (Cloud) SkyDrive component has been renamed to OneDrive
! [C++] Static libraries for iOS and MacOS requires compiler and library support for the ISO C++ 2011 standard.

! [.NET] (FTPS) RemoteCharset property has been removed from TElSimpleFTPSClient

+ [All] (PKI) Added HMAC-Based One-Time Password and Time-based One Time Password
+ [All] (Cloud) Added support for Box.com cloud storage
+ [All] (FTPS) Added support for HOST command.
+ [All] (FTPS) Added QuoteParameters property to the client component which specifies, when to wrap the parameter of the FTP command with QuoteParamChar property
+ [All] (FTPS) TElSimpleFTPSServer.OnCommandUnhandled event added.
+ [All] (XML) Added TElXMLSOAPClient component.

+ [Java] (PKI) JNI module and code improved to allow usage of PKCS#11 devices on Linux x86/x64/Mac OS X. 


* [All] (OpenPGP) Code improved to use the latest keys expiration date for malformed keys with wrong packets sequence.
* [All] (SSH) Added support for global (non-channel-wise) keep-alive signals.
* [All] (PKI) Added csoUseGenericSigAlgorithmOIDs flag for better control over signature algorithm written down to the CMS structure.
* [All] (PDF) Improved invisible signature to conform to PDF/A requirements.
* [All] (SSL) Added support for client-side authentication with EC certificates.
* [All] (FTPS) FTP server improved to accept "MODE S" command.

* [NG] (iOS, MacOS) Fixed a memory management issue caused by a revised implementation of core TList class on NG platform. The problem led to occasional memory access errors (AV's etc.) on iOS and MacOS platforms. 
* [VCL, .NET] (SSH) TElSSHServer closed connection after EOF packet was received from a client. Now this behaviour can be controled using TElSSHTunnelConnection.OnEOF event. 
* [VCL, .NET] (SSH) TElShellSSHSubsystemHandler worked incorrectly when input data was sent from a client using pipe. Improved.
* [VCL] (Base) Optimized UTF-16 to UTF-8 conversion for non-Win32 platforms.
* [C++] Improved/fixed wide char/wide string handling for Linux, MacOS and iOS platforms.
* [VCL] (SSH) GSS-API can now be used under Linux and MacOS X.

- [All] (Base) Fixed a bug when certificate policies extension of TElX509Certificate was read incorrectly.
- [All] (SSL) Fixed a bug in TElSessionPool.Remove that may cause a deadlock.
- [All] (ZIP) Fixed bugs with adding a directory into the archive for non Windows systems and with uncleaned list of directory signatures after archive has been closed
- [All] (Office) Fixed loading of xml signatures if ManifestHashAlgorithm element is not present in the signature info.
- [All] (PKI) Fixed occasional 'Invalid key length' exception thrown by TElMessageEncryptor and Cloud components.
- [All] (SSH) TElSSHServer.OnAuthFailed was not fired. Fixed.
- [All] (XML) Minor fix in decryption transform.
- [All] (FTPS) FTP server errroneously returned 225 code instead of 226 for ABOR command. Fixed.

- [VCL, C++] (Charsets) Fixed charsets initialization on POSIX systems, if cwstring unit initialized after charsets.

- [Java] (XML) Possible "[B cannot be cast to..." exceptions fixed in XAdES classes.
- [Java] (XML) Fixed saving of serial number in IssuerSerial element, if zero is present in decimal representation at position multiple of 9.
- [Java] (ZIP) Fixed StringIndexOutOfBoundsException exception on file open.

- [NG] (Base) Calling wrong iOS pthread library fixed. Fixed incrementing of GlobalLockCSFlag.

---
March 10, 2014
Version 12.0.247. Beta version.

+ [All] (PKI) RSA computations involving private keys are now protected from timing attacks
+ [All] (XML) Added support for AES-GCM authenticated encryption algorithm in XML encryption.

+ [Java] (Base) Added DNSSEC support for Android target.
+ [Java] (PKI) TElJavaCertStorage added that allows to manage certificates in MY and ROOT stores on Windows and AndroidKeyStore on Android.
+ [Java] (PKI) TElCustomCertStorage enhanced with LoadFrom*BKS methods that allow to load certificates from BKS storages.

* [All] (Base) Socket shutdown sequence changed from proper to compatible with buggy servers which don't handle partial socket shutdown properly.
* [All] (FTPS) Some servers respond to Delete command with wrong response code 200 (while 250 is required by specification). The client component now accepts such response.
* [All] (FTPS) TElSimpleFTPSClient.ParseFileListEntry parsed time in Windows file listings incorrectly. Fixed.
* [All] (Mail) SMTP client changed to use the most secure authentication scheme first on login.
* [All] (SOAP) Added TElXMLSOAPBaseSignatureHandler.ReferencesDigestMethod property that specifies default digest method for newly added references.
* [All] (PDF) Added workaround that fix error in the document structure when 'endstream' keyword is absent.

* [Java] (Base) TElX509Certificate.FromX509Certificate/GetPrivateKey improved to work with non-exportable keys.

- [All] (FTPS) TElSimpleFTPSServer didn't take into account return codes of underlying file system adapter on file open operations. Fixed.
- [All] (PDF) An empty signature field widget was overridden incorrectly when signing the field in IgnoreExistingAppearance mode, causing the old widget to be prioritized over the new one by some readers.
- [All] (SSH) Fixed a bug in TElSimpleSSHClient.ExecuteCommand() which erroneously made the component discard STDERR output.

- [.NET] (HTTPS) A bug in TElCookieManager resulted in NullReferenceException's in TElHTTPSClient. Fixed.
- [.NET] (PKI) Fixed a recently introduced glitch in TElPKCS11CertStorage that was 'hiding' the contents of the device from the user (x64 platforms only).
- [VCL, .NET] (Mail) NTLM authentication for SMTP fixed.
- [VCL] (Charsets) Fixed memory leak in ASCII charset.

---
January 31, 2014
Version 12.0.245. Alpha Version

![All] All code has been reworked for more efficient memory management and better speed.

! [All] (HTTPS) TElHTTPSClient.Post overload for web forms renamed to PostWebForm.
! [Java] Methods names changed to lowerCamelCase.

+ [All] (PKI) Added support for CAdES baseline profiles and Archival Timestamp V3
+ [All] (SSH) TElSSHServer.SSHAuthOrder/AuthTypePriorities properties added to control authentication types priority.


^^^^^^^^^^^^^^^^^^^^
^^^ Version 11.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

---
June 3, 2014
Version 11.0.252. Maintenance update

- [.NET] (Cloud) A minor fix to shared access signatures calculation in debug mode
- [.NET] An issue in charset initialization routine indirectly led to a variety of string conversion problems on .NET CF platform. Fixed.
- [.NET] Fixed a charset resource processing issue on WP8 platform

---
April 26, 2014
Version 11.0.250. Maintenance update

+ [All] (EDI) Added support for SHA-2 (SHA-224, SHA-256, SHA-384, SHA-512) digests in AS2/AS3 signed messages and signed receipts
+ [All] (PKI) An external CAdES signer (e.g. TElCAdESSignatureProcessor) can now be attached to ASiC signatures for automated creation of compliant ASiC/CAdES signatures

* [All] (FTPS) FTP server errroneously returned 225 code instead of 226 for ABOR command. Fixed.
* [All] (FTPS) FTP server improved to accept "MODE S" command.
* [All] (MIME) Removed checking for "micalg" parameter in multipart/signed messages. Now this parameter is optional.

- [All] (Base) Fixed a bug when certificate policies extension of TElX509Certificate was read incorrectly.
- [All] (Cloud) Shared access signatures were calculated incorrectly after a change in Amazon's algorithms. Fixed.

---
March 30, 2014
Version 11.0.248. Maintenance update

! [C++] Static libraries for iOS and MacOS requires compiler and library support for the ISO C++ 2011 standard.

+ [All] (EDI) Added ability to turn on/off usage of indefinite lengths in encrypted and signed AS2/AS3 messages.
+ [All] (MIME) Added ability for each mail message part to have its own charset specified on message assembling.
+ [All] (SSH) Added TElShellSSHSubsystemHandler.SendEOF/IgnoreClientSessionClosure properties.

* [All] (SSH) Added support for global (non-channel-wise) keep-alive signals.
* [All] (PKI) Added csoUseGenericSigAlgorithmOIDs flag for better control over signature algorithm written down to the CMS structure.
* [All] (PDF) Improved invisible signature to conform to PDF/A requirements.
* [All] (SSL) Added support for client-side authentication with EC certificates.
* [VCL, .NET] TElSSHServer closed connection after EOF packet was received from a client. Now this behaviour can be controled using TElSSHTunnelConnection.OnEOF event. 
* [VCL, .NET] TElShellSSHSubsystemHandler worked incorrectly when input data was sent from a client using pipe. Improved.
* [VCL] (Base) Optimized UTF-16 to UTF-8 conversion for non-Win32 platforms.
* [C++] Improved/fixed wide char/wide string handling for Linux, MacOS and iOS platforms.


- [All] (MIME) Fixed quoting of header fields parameters in e-mail messages
- [All] (SSL) Fixed a bug in TElSessionPool.Remove that could cause a deadlock.
- [All] (ZIP) Fixed bugs with adding a directory into the archive for non Windows systems and with uncleaned list of directory signatures after archive has been closed.
- [All] (MIME) Fixed quoting of header fields parameters in e-mail messages.
- [All] (Office) Fixed loading of xml signatures if ManifestHashAlgorithm element is not present in the signature info.
- [All] (PKI) Fixed occasional 'Invalid key length' exception thrown by TElMessageEncryptor and Cloud components.
- [All] (SSH) TElSSHServer.OnAuthFailed was not fired. Fixed.
- [All] (XML) Minor fix in decryption transform.
- [FPC] (Charsets) Fixed charsets initialization on POSIX systems, if cwstring unit initialized after charsets.
- [Java] (XML) Possible "[B cannot be cast to..." exceptions fixed in XAdES classes.
- [Java] (XML) Fixed saving of serial number in IssuerSerial element, if zero is present in decimal representation at position multiple of 9.

---
March 1, 2014
Version 11.0.246. Maintenance update

! [C++] (Base, SFTP) Renamed SBSftpCommon.fmCreate constant to sfmCreate and SBSystem.fmCreate to filemodeCreate

+ [All] (PKI) RSA computations involving private keys are now protected from timing attacks
+ [All] (XML) Added support for AES-GCM authenticated encryption algorithm in XML encryption.

+ [Java] (Base) Added DNSSEC support for Android target.

* [All] (FTPS) Some servers respond to Delete command with wrong response code 200 (while 250 is required by specification). The client component now accepts such response.
* [All] (FTPS) TElSimpleFTPSClient.ParseFileListEntry parsed time in Windows file listings incorrectly. Fixed.
* [All] (Mail) SMTP client changed to use the most secure authentication scheme first on login.
* [All] (SOAP) Added TElXMLSOAPBaseSignatureHandler.ReferencesDigestMethod property that specifies default digest method for newly added references.
* [All] (PDF) Added workaround that fix error in the document structure when 'endstream' keyword is absent.

* [C++] (Base) Fixed string values for some constants in sbconstants header.

- [All] (PDF) An empty signature field widget was overridden incorrectly when signing the field in IgnoreExistingAppearance mode, causing the old widget to be prioritized over the new one by some readers.
- [All] (SSH) Fixed a bug in TElSimpleSSHClient.ExecuteCommand() which erroneously made the component discard STDERR output.
- [.NET] (HTTPS) A bug in TElCookieManager resulted in NullReferenceException's in TElHTTPSClient. Fixed.
- [.NET] (PKI) Fixed a recently introduced glitch in TElPKCS11CertStorage that was 'hiding' the contents of the device from the user (x64 platforms only).
- [VCL, .NET] (Mail) NTLM authentication for SMTP fixed.
- [VCL] (Charsets) Fixed memory leak in ASCII charset.

---
February 15, 2014
Version 11.0.245. Maintenance update

+ [All] (MIME) Added TElMessageHeader.ParseAddresses property which allows to disable message addresses parsing in order to process them as other header fields.

* [.NET] (Base) Changed TElDiskFileSystemAdapter to be able to use UNC path as a base path.

- [All] (EDI) Fixed the bug with disabled receipt request in loaded AS2/AS3 messages even if a receipt is actually requested.
- [Java] (Base) Fixed a bug with uninitialized parameters in TElX509CertificateValidator.OnAfterCertificateValidation event.
- [.NET] (HTTP) Exception was thrown inside TElCookieManager.ValidateCookie on some conditions. Fixed.


---
January 27, 2014
Version 11.0.244. Maintenance update

+ [All] (Mail) Added AllowAuthentication property to the SMTP component.
+ [All] (PDF} Added TElPDFSignatureInfo.FieldFlags property that returns field flags common to all field types.

* [All] (Base) SB_OID_SHA1_RSAENCRYPTION2 was not taken into account in some places. Fixed.
* [All] (FTPS) TElSimpleFTPSClient.ListDirectory improved to skip CWD command if its Path parameter is empty.
* [All] (OpenPGP) Decryption and signing operations by a particular key are now thread safe, allowing the same key to be used for several concurrent decryption/signing operations
* [All] (PKI) TElPKCS11CertStorage.OnSlotEvent can now return Slot=nil/null/Nothing to map reports from drivers that indicate card reader removal in this way
* [All] (PKI) TElCRLManager.UseCache property is enabled by default now (as it was before build 243). 
* [All] (PDF) Page number for newly created signature is set based on empty signature field page number.
* [All] (PAdES) On load all certificates from CMS signature added into TElPDFAdvancedPublicKeySecurityHandler.Certificates property.

* [.NET] (Base) Minor improvement to FromX509Certificate2 method that eliminates the need to manually attach the win32 cryptoprovider to the certificate object

- [All] (Base) TElPublicKeyCrypto.VerifyDetached() incorrectly tried to decode the plaintext from base64 when InputEncoding was set to pkeBase64
- [All] (FTPS) TElSimpleFTPSServer fixed to process multiple files downloads with resumption correctly.
- [All] (PDF) Fixed adding of attachments for specifically formatted pdf documents.
- [All] (XML) Fixed detecting of TElXMLVerifier.SignatureType property when reference URI is empty string.
- [All] (XML) Fixed enveloped signature transform of the document element when the xml document contains processing instructions.
- [All] (SSH) TElSSHServer improved to work with buggy JSch client.
- [All] (MIME) Added equal sign to the specials list that require a string to be enclosed in double quotes.
- [All] (Mail) Changed behavior of authentication in SMTP component to not use SASL if no mechnism is configured.

- [.NET] (FTPS) TElSimpleFTPSClient.GetFileSize didn't work correctly in some conditions. Fixed.

- [VCL] (Base) Fixed UnixTimeToDateTime method in FreePascal. 
- [VCL] (Office) Fixed signing/verifying using CryptoAPI signature handler for some binary documents.

- [C++] (Base) Fixed setting datetime properties for non Win32 platforms.

---
December 31, 2013
Version 11.0.243. Maintenance update

+ [All] (PKI) Added possibility to turn off the cache in CRLManager. Disabling the cache can be used if you want to implement your own cache based on CRL locations (URLs) rather than on Issuer property.

+ [All] (XML) Added ExclusiveCanonicalizationPrefix property for TElXMLC14NTransform and TElXMLSignedInfo classes.

* [All] (Base) TElMessageEncryptor used default key lengths for symmetric algorithms. Now variable key length can be set using its BitsInKey property.
* [All] (Base) EElSocketError exception instances didn't include error code is some cases. Fixed.
* [All] (Base) Improved loading of EC private keys to conform to recent RFCs

* [All] (HTTPS) TElHTTPSClient: improved DELETE response handling.

* [All] (PKI) Minor compatibility enhancements in CAdES signature processing
* [All] (PKI) Added TElX509CertificateEx.PreferredHashAlgorithm property to allow the user choose the desired certificate signature hash algorithm

- [All] (PKI) Fixed a bug when distribution point reason flags in CRLDistributionPoints extension were written and read incorrectly.  

- [All] (HTTPS) Fixed a bug when incoming data was not decompressed when TElHTTPSClient.Use100Continue property was on.
- [All] (HTTPS) Subsequent requests with one instance of TElHTTPSClient failed on some conditions. Fixed.

- [All] (LDAP) LDAP CRL retriever fixed to work correctly with URLs that contain slash character in DN part.

- [All] (XML) Fixed AV in enveloped signature transform when binary data is passed.

- [All] (FTPS) TElSimpleFTPSClient.UploadStream fixed to work in ftmAppendToEnd mode.

- [All] (Mail) Fixed a bug in SMTP with sending an invalid message end mark if a message is not ended with CRLF
- [All] (Mail) Fixed a bug in SMTP with sending lines with leading dots
- [All] (Mail) Fixed usage of TElSimpleMIMEMessage class with SMTP component; address aliases have been sending to SMTP servers in MAIL FROM and RCPT TO commands

- [VCL] (Base) TElClientIndySSLIOHandlerSocket didn't work with Socks proxies. Fixed.
- [VCL] (Base) TElX509Certificate.LoadFromBuffer freezed on some specific conditions. Fixed.
- [VCL] (Base) TElDiskFileSystemAdapter.DirectoryExists did't work correctly for root directories on Windows XP. Fixed.

- [MacOS] (Base) Fixed setting socket timeout on Mac OS.
- [iOS] (Base) Fixed to not loose accuracy in timestamp conversion on iOS/arm


---
November 22, 2013
Version 11.0.242. Maintenance update

! [.NET] Assemblies for different platforms are now signed with different strong name keys

+ [All] (Mail) Added support for Sender message field. Now if a message contains Sender field, the address from this field will be used in MAIL FROM command.

* [.NET] (Base) Socket.Listen backlog value was set to 1 which could cause some connections to be refused in TElSimpleFTPSServer class. 
* [Java] (Base) Improved TElCustomFSAdapter to detect path separators correctly.

* [All] (XML) Improved exclusive canonicalization. Added TElXMLSigner/TElXMLVerifier.InclusiveNamespacesPrefixList property.
* [All] (PDF) Workaround that fix error in the document structure when indirect object 'obj' keyword not followed by an EOL marker.
* [All] (SSL) TElSessionPool is now capable of storing user session-related information

* [VCL] (PKI) Added workaround for PKCS#11 drivers that return invalid procedure addresses via C_GetFunctionList.

- [All] (Base) X.509 certificates reading procedure went into infinite loop in some conditions. Fixed.
- [All] (Base) Fixed a bug when Digest WebTunnel proxy authentication didn't work in some conditions.
- [All] (Cloud) Fixed TElGoogleDriveDataStorage.List method with one parameter.
- [All] (MIME) Fixed mail addresses corruption on message reassembly.
- [All] (MIME) Fixed bug in quoting and unquoting strings in e-mail addresses.
- [All] (HTTPS) Cookies without specified path are accepted correctly now
- [All] (PKI) OtherExtensions were not written in PKCS#10 request if there were no "known" extensions set. Fixed.
- [All] (PKI) Fixed generation of X.509 certificates carrying EC keys in PreserveKeyMaterial mode

- [.NET] (Base) Fixed a build issue in Windows Phone 8 assemblies that caused occasional field access exceptions
- [.NET] (HTTPS) TElHTTPSClient didn't work correctly with longer TLS buffers in Windows Phone 8 , which resulted in connectivity problems with certain HTTPS servers. Fixed.

- [Java] (Base) TElSymmetricCrypto.Encrypt/Decrypt methods could throw ArrayIndexOutOfBoundsException in some cases. Fixed.

- [C++] Compilation fixes for Visual Studio 6.0 (1998) 

---
October 25, 2013
Version 11.0.241. Maintenance update
                                   
+ [All] (PKI) TElX509CertificateValidator got new event (OnOCSPResponseSignerValid) related to check of the signer of an OCSP response
+ [All] (FTPS) TElFTPSServer/TElSimpleFTPSServer now reports upload progress correctly if a client sends ALLO command before file transfer.

* [All] (Base) TElX509CertificateValidator improved to report vrCRLNotVerified validity reason in all cases.
* [All] (Base) 3DES keys are now generated with parity bit set (this bit is checked by certain outdated hardware)

* [All] (PKI) TElX509CertificateValidator improved to follow new wording of RFC 6960 (paragraph 4.2.2.2,  related to check of applicability of OCSP signing certificate)
* [All] (FTPS) Data socket is now properly disposed of in Active mode if an error happens. 
* [All] (FTPS, SFTP) Improved cleanup of RegexProcessor variable.
* [All] (Mail) TElSMTPClient.Send speed optimized.

* [CPP] Fixed threading support for unix systems

- [All] (Base) Fixed a bug when TElMessageVerifier.Verify processed detached signatures as valid.
- [All] (Cloud) Fixed several security-related bugs.
- [All] (Mail) Fixed a bug in TElPOP3Client.GetMessageSize method.
- [All] (PKI) Fixed memory leaks in TElFullPKIRequest.GetControlAttribute and TElFullPKIResponse.GetControlAttribute methods.

- [All] (Office) Fixed distributed signing of a secondary,... n-ary signatures using binary xml signature handler.
- [All] (XML) Fixed issue with not flushing data in TElXMLDOMDocument.SaveToStream overloaded method that accept TElXMLCodec as parameter.

- [.NET] (PKI) TElPKCS11CertStorage destructor threw exception in .NET 4.5 due to security attribute missing. Fixed.
- [.NET] (SSH) AuthAgent authentication type didn't work in .NET 4.0 and 4.5 due to security attribute missing. Fixed.
- [.NET] (HTTP) TSP and OCSP clients didn't work correctly when Turkish locale was set on Windows. Fixed.

- [VCL] (FTPS) Use of the regular expression in ListDirectory caused an AV due to unnatural design of RegularExpressions RTL unit. Fixed.

---
October 6, 2013
Version 11.0.240. Official Release

+ [All] (Cloud) Certificate-based signing is now available for embedded metadata mode.

+ [All] (EDI) Added overloaded Save methods in TElASMessage and TElASReceipt to allow to store headers and bodies of  messages and receipts to separate streams.
+ [All] (SSH) Added a set of overloads of TElSimpleSSHClient.ExecuteCommand() methods that allow to re-use the established SSH connection
+ [All] (XML) TElXMLSigner now supports easy-to-use external signing with OnRemoteSign event

+ [CPP] Added auto detection of platform/OS

* [CPP] Fixed name collision in C headers with zlib library and others.
* [.NET] Updated the set of WinRT samples 

- [All] (ZIP) Fixed a bug that caused 'Invalid type cast' exception for some kind of archives.
- [All] (Cloud) A couple of minor bug fixes 

- [All] (Charsets) Fixed UTF-7 encoding (when special character '-' is a last character in the buffer).
- [All] (SOAP) Fixed reference Id generation for WSS signature handler.

- [VCL] (Base) Fixed memory leak in SBRSA, SBASN1, EUC charset.
- [VCL] (HTTP) Fixed memory leak in TElHTTPCompressedProcessor.
- [Java] (Base, SSL) TElX509Certificate.Chain was not assigned correctly in some conditions. Fixed.
- [.NET] (FTPS) Fixed a bug when TElSimpleFTPSClient.RemoteCharset/RemoteCodepage properties didn't work correctly when set in design time.

---
September 17, 2013
Version 11.0.239. Release Candidate 2

+ [VCL] Added RAD Studio XE5 support.

+ [All] (Cloud) Added data storage components for SkyDrive and Google Drive
+ [All] (Cloud) Added support for in-object metadata storing. Dropbox component now uses this mode by default. SkyDrive and GoogleDrive components use only this mode.

* [All] (Base) TElWin32CryptoProvider improved to process ERROR_CANCELLED correctly.
* [All] (Office) Added workaround for binary and encrypted OOXML documents with invalid root directory entry's name.

- [All] (Mail) Separator space between RCPT TO command and parameters was missing. Fixed.

- [.NET] (Base) Fixed a bug when TElWinCertStorage worked incorrectly on Windows 8 x64 with .NET 4.5.

- [.NET, Java] (PKI) TElX509Certificate could lose a character of Issuer ID and Subject ID in some rare cases. Fixed.

- [Java] (Base) Fixed Access Violation error in JNI module that occured during signing operations using CNG keys from Windows stores.

- [VCL] (PDF) Fixed compliance with the PDF/A standard if a document was reassembled.

- [.NET, Java] (SSH) Some types of requests didn't work in SSH 1 (obsolete and not recommended for use). Fixed.
- [.NET, Java] (SSH) Window Change request didn't work in SSH 2. Fixed.

- [Java] (SSH) Publickey-Agent authentication didn't work in SSH2.


---
August 24, 2013
Version 11.0.238. Release Candidate 1

! [All] (All) We are moving to new evaluation restrictions mechanisms. Evaluation delays are no longer in force. Instead, limited numbers of operations for each component are allowed (with exceptions thrown once a particular limit is exceeded).

! [.NET] .NET CF support has been returned. 

+ [All] Added support for ASiC (Associated Signature Container, ETSI TS 102 918). ASiC support requires SecureBlackbox Data Security or SecureBlackbox Professional package. 
+ [All] (XML) Added ECDSA and RSASSA-PSS signature algorithms support in XMLDSig (see RFC 6931)
+ [All] (PKI) Added support for multipart ASN.1 content in PKCS#7 SignedData
+ [All] (FTPS) Added keep-alive to prevent command channel from being closed by NATs during long data transfer. Keep-alive is enabled by setting new TransferKeepAliveInterval property to non-zero value (300 000 is a great value for keep-alives). Note, that not all servers handle keep-alives correctly.

+ [.NET] Added Xamarin.iOS assemblies

* [All] (SSH) Added workaround for server that identifies it-self as "f7u12".
* [All] Socket-based components are now more tolerant to extra spaces in addresses and URLs. Previously an extra typed space caused an error to happen, now those spaces are trimmed.
* [All] (FTPS, SFTP, WebDAV, OpenPGP, ZIP) When filesystem error happens in components that access local filesystem via FileSystemAdapter, error message now contains the path (file name or directory path) for which the error happened.
* [All] (SSH) AuthenticationTypes property value changed in all components to a combination of SSH_AUTH_TYPE_PUBLICKEY, SSH_AUTH_TYPE_KEYBOARD and SSH_AUTH_TYPE_PASSWORD.
* [All] (DAV) Added TElWebDAVClient.List method overload that allows to specify depth parameter.
* [All] (Office) Added UpdateSignature method that allows to extend XAdES info after signing.
* [All] (XML) Optimized memory usage of TElXMLDOMNode class on 20-30%
* [All] (EDI) Improved usage of UseFolding property value when composing AS2/AS3 receipts (MDNs) bodies

* [Java] (Base) ESecureBlackboxError parent class changed from java.lang.Throwable to java.lang.Exception. 
* [Java] (Base) TElSocket incoming connections backlog increased to improve server behavior under heavy load.
* [Java] (Base) Minor performance optimizations.

* [.NET] .NET CF assemblies are now compiled with Constrained Device option enabled, thus consuming less memory for various buffers.

- [All] (Base) Fixed a bug when WebTunnel proxy authentication failed if server sent responses longer than 2KB.
- [All] (SSH) Updated SimpleSSHClient to correctly send keepalives during command execution
- [All] (Office) Fixed signing issues with some kind OOXML and ODF documents.
- [All] (PDF) Fixed document decryption with owner password for AES/128 bits encryption algorithm.

- [Java] (Base) TElJCECryptoProvider generated invalid signatures in some cases (e.g. when used with PDFBlackbox). Fixed.
- [Java] (FTPS) Some fixes in FTPSServer code and sample
- [Java] (SSL) Fixed a bug when TElSimpleSSLClient.SetUseInternalSocket caused stack overflow.

- [.NET] (Base) Fixed a bug when turning Nagle algorithm on for UDP sockets (mainly for DNS client) resulted in exception.
- [.NET] (SSH) The components behaved incorrectly with servers offering different sets of ciphers for inbound and outbound directions (NET 4.5 only). Fixed.


---
July 4, 2013
Version 11.0.237. Beta version

! [All] (FTPS) OnFileOperation and OnFileOperationResult events (types and parameters) of TElSimpleFTPSClient class have been changed to include operation type (Upload, Download, Deletion). 

+ [All] (Base) Added OnTSPError event to TElTSPClient class. The event is triggered by Timestamp method when the result is non-zero. 
+ [All] (Base) Added Whirlpool hash algorithm implementation and RSA-Whirlpool signature scheme
+ [All] (XML) Added DSA-SHA256 signature algorithm (see XMLDSIG-CORE-11)
+ [All] (FTPS, SFTP) Added CopyMode parameter to DownloadFiles and UploadFiles methods. This parameter tells the component to delete the source files after they have been successfully transferred. 
+ [All] (FTPS, SFTP) Added ftmOverwriteIfDiffSize transfer mode for DownloadFile/UploadFile and DownloadFiles/UploadFiles method. This mode is a conditional overwrite which is performed only when size is different. NOTE: file size is determined using chosen transfer type (ascii/binary). If you are using ASCII mode, file size can be determined not correctly and you should not use conditional overwrite then.
+ [All] (FTPS) Added RemoveFiles method for recursive deletion of files and directories
+ [All] (PKI) Added OnBeforeSign, OnBeforeAddTimestamp, OnBeforeAddValidationTimestamp events to TElCAdESSignatureProcessor to allow more flexible tune-up.
+ [All] (PKI) Added RevocationCheckPreference property to TElX509CertificateValidator, allowing to choose between revocation source types to use.

+ [Java] (Base) TElJCECryptoProvider implemented that uses native JCE crypto for certificates and keys which can not be imported.
+ [.NET] (Office) Added distributed signing sample.

* [All] (HTTP) TElHTTPSServer improved to write GZip footer for compressed responses.
* [All] (PKI) TElPKCS11Manager improved to work with PKCS#11 drivers that require initialized template parameter for C_FindObjectsInit.
* [All] (Office) Improved distributed signing (automatically embed signing certificate and XAdES changes).
* [All] (XML) Improved distributed signing for XAdES.
* [All] (Cloud) Added MultipartUploadThreshold property to TElAWSS3DataStorage
* [All] (SSL) Implemented proper countermeasures for Lucky Thirteen and, more generally, Oracle padding attacks.

* [VCL] (Base) DirectoryMake function of DiskVirtualFileSystemAdapter didn't create parent directories in the path (i.e. for the path of c:\d1\d2\d3\d4, if you wanted to create it. d1..d3 were required to exist). Now it does. 

- [All] (Base) SplitPath function of VirtualFileSystem adapter didn't work (though was never used). Fixed.
- [All] (Base) Fixed loading of ISO-8859-9 charset.
- [All] (SSL) Handshake was not completed right when SSL2 was enabled (issue introduced in build 236). Fixed.
- [All] (FTPS, SFTP) Fixed some minor mistakes related to use of FileSystemAdapter in UploadFile*() and DownloadFile*() methods.
- [All] (HTTP) 307 redirection code was not returning data streams (for POST, PUT, custom commands) to the outgoing queue to be sent, so redirected resource was called with no data. Fixed.
- [All] (PDF) Fixed loading of document timestamp signature for encrypted documents.
- [All] (XML) Fixed CounterSignature loading for further processing
- [All] (XML) Fixed issue with timestamping in XAdES.

- [.NET] (SSL) Fixed a bug when "aObject is nil in call to SetLength" exception occurred in TElSSLServer and components based on it.


---
June 10, 2013
Version 11.0.236. Beta version


! [All] (SSL) The default set of enabled versions was extended with TLS1.1 and TLS1.2 (except TElSimpleFTPSClient that still defaults to SSL3.0 + TLS1.0)

+ [All] (Base) Added support for IPv6 addresses in Subject Alternative Name extension for X.509 certificates
+ [All] (Base) Added support for IPv6 addresses in certificate validator when checking on SSL handshake
+ [All] (Base) TElX509Certificate.SaveKeyTo*PKCS8 methods implemented.
+ [All] (EDI) Added Features property in AS2/AS3 message classes which represents EDIINT-Features header field according to RFC 6017
+ [All] (FTPS) Added foPreallocateStorage option to TElSimpleFTPSClient.Options property that makes the client announce the size of the data being uploaded to the server before upload takes place.
+ [All] (FTPS) Added TElSimpleFTPSClient.ExtOPTSUTF8Supported property which can be used to check whether server supports OPTS UTF8 ON command
+ [All] (SSH) Added TElSSHKey.FingerprintMD5String and TElSSHKey.FingerprintSHA1String properties that return a fingerprint formatted into a string. 
+ [All] (HTTP) TElRESTClient component added that implements a standard REST client.
+ [All] (Office) Added OnBeforeSign, OnAfterSign and OnPrepareSignature events for XML signature handlers of binary, OOXML, XPS and ODF documents.
+ [All] (XML) Added TElXMLWSUTimestamp class.

+ [Java] (Base) TElX509Certificate.FromX509Certificate/ToX509Certificate/GetPrivateKey methods added to simplify certificates import and export.

* [All] (EDI) Improved handling of version 1.2 for AS2/AS3 protocols
* [All] (FTPS) Some servers report that they don't support ASCII mode even for listings. Workaround has been added for such servers. 
* [All] (FTPS) Improved parsers for Unix and Windows listings to better handle listings with mistakes (eg. TAB instead of spaces as separator).
* [All] (SSL) Improved SSL/TLS compatibility with GnuTLS
* [All] (DAV) TElWebDAVServer fixed to process XML special characters in file names correctly.
* [All] (DAV) TElWebDAVClient improved to accept 'creationdate' attribute in RFC1123 format. E.g. this format is erroneously used by SabreDAV.
* [All] (PKI) Improved compatibility with Italian DigitPA DSS CAdES service
* [All] (PDF) Added a collection of properties for better control over signature widget appearance
* [All] (PDF) Improved decryption of documents that contains encrypted object streams.
* [All] (Office) Workaround that ignores an empty encrypted summary stream. Such documents are created by MS Office 2003 when RC4 encryption handler is used.

* [VCL, .NET] (SSH) TElShellSSHSubsystemHandler improved to allow to use CurrentDirectory and Command together.

- [All] (HTTPS) Cookies without specified domain are accepted correctly now
- [All] (MIME) Fixed Base64 decoding; when the last decoding block contained only padding symbols, the data was truncated to the last fully decoded part.
- [All] (PKI) Fixed a bug when exception was thrown if a PKCS#11 compliant token doesn't support C_GetObjectSize() function.
- [All] (PDF) Fixed SignerInfo value auto-generation in signature widget appearance for non-common RDNs.
- [All] (Office) Fixed reading info (like: suggested signer) from a signature line for OOXML documents.

- [.NET] (Base) Fixed a socket issue that was causing [fairly rare] 'Internal Error' errors during SSL communications
- [.NET] (Office) Fixed Reset method for Agile encryption handler.

---
May 21, 2013
Version 11.0.235. Beta version

! [All] All code has been reworked for more efficient memory management. 

! [VCL] VCL edition is now compiled with FPC 2.6.2 (previously FPC 2.6.0 was used). FPC 2.6.2 includes certain minor changes in syntax parser. 

! [.NET] .NET CF support has been dropped. Use SecureBlackbox 10 if you need .NET CF. 


+ [All] (Base) Added TElPortKnock component which can be used together with socket-based client components to "knock" to the server before connection and after disconnection. For more information about port knocking see http://www.zeroflux.org/projects/knock/

+ [All] (HTTP) WebSockets (RFC 6455) support added. Both client and server components for WebSockets are available.

+ [All] (SSH) Added support for SSH key exchange obfuscation, as defined in https://github.com/brl/obfuscated-openssh

+ [All] (EDI) Added UseFolding properties to AS2/AS3 message and receipt classes. By default, folding is not used anymore.
+ [All] (EDI) Added content digests calculation on AS2/AS3 message saving. See GetContentDigest(Algorithm) method.

+ [All] (ZIP) Added property ElZipReader.CaseSensitiveFilenames and overloads for ElZipArchiveDirectoryEntry.EntryWithName/EntryWithPath/RemoveEntry to allow case-insensitive operations

+ [All] (PDF) Added support of 256-bit AES encryption revision 6 (Acrobat X) for password encryption handler.
+ [All] (PDF) Added possibility to add images into the signature widget.
+ [All] (PDF) Added possibility to lock signature fields on signing.
+ [All] (PDF) Added FontResourceName property to TElPDFSignatureWidgetText class.

+ [All] (Office) Added support of hardened encryption key generation for binary RC4 CryptoAPI encryption handler.

+ [VCL] VCL edition of SecureBlackbox can now be used with FreePascal for Android. Precompiled units are included.

+ [Java] Trusted-Library attribute is now added to JAR manifests to be compatible with the latest Java 7 version.

* [All] (Base) TElPKCS7Message improved to parse malformed messages generated by Comodo timestamp server.
* [All] Added smExplicitManual SSL/TLS mode in TElSimpleFTPSClient, TElPOP3Client and TElSMTPClient. In new mode TLS is not activated by Login automatically and your code needs to do this by calling EstablishSSLSession method which is to be called before Login method. You can catch SSL/TLS exceptions that happen during execution of EstablishSSLSession method and handle them as needed.
* [All] (EDI) Messages and receipts classes now do not convert time from local to universal.
* [All] (Mail) Changed TElSMTPClient.OnProgress event to show message transfer progress in bytes, not in lines.
* [All] (Cloud) File data storage functionality significantly extended and optimized
* [All] (Cloud) WinAzure data storage now supports locking and awaitable copying
* [All] (SSH) Simple forwarding components are now capable of opening shell tunnel before setting up the forwarding (needed by certain server implementations)

* [Java] (Base) JNI.initialize() methods improved to load JNI library from applets correctly.
* [Java] (SSL) Code optimized to speed-up SSL handshake on Android.

- [All] (Base) Fixed charsets initialization issue in mutithreaded environments.
- [All] (EDI) Fixed hanging up if encrypted data does not contain a MIME-header.
- [All] (HTTP) Fixed a bug when response content was supressed in some conditions when TElHTTPSClient.UseDigestAuth was on.
- [All] (SMIME) Fixed TElMessagePartHandlerSMime.EncoderSignRootHeader property.
- [All] (Cloud) Fixed handling of non-ascii names of folders and files in Dropbox data storage.
- [All] (Cloud) Fixed handling of spaces in folder and file names in Dropbox data storage.
- [All] (SSH, SFTP) When Close(Silent = true) was called and internal socket was used, socket shutdown was still performed (which could close delay in closing a socket with some buggy servers). Fixed - now Silent flag is respected when the underlying socket is closed.
- [All] (XML) Minor fix in canonicalization (when XPath element dsig prefix differs from the Signature element prefix).

- [Java] (Base) TElSocket.Close() method fixed to close listening socket correctly.
- [Java] (Base) Fixed a bug in TElSocket that caused SSH dynamic port forwarding to work incorrectly.
- [Java] (PDF) Fixed a bug when PDF document version was parsed incorrectly.

- [VCL] (Base) Punycode ToASCII routine worked incorrectly when the user specified the domain with unicode characters not of current system charset (eg. Cyrillic characters on Chinese Windows) in non-Unicode Delphi only. Fixed. 
- [VCL] (HTTP) TElCookieManager could not be placed on the form in designer. Fixed. 

- [NET] (DAV) Fixed a bug when paths with spaces were processed incorrectly by TElWebDAVServer intergrated into IIS.


^^^^^^^^^^^^^^^^^^^^
^^^ Version 10.0 ^^^
^^^              ^^^
^^^^^^^^^^^^^^^^^^^^

---
February 28, 2013
Version 10.0.233. Maintenance update

! [Java] FreePascal for JVM compiler upgraded. This resulted in some getter and setter name changes.

+ [All] (Cloud) Added parsing for Dropbox account information.
+ [All] (PDF) Added TElPDFSignature.IsDocumentSigned() method that checks if a signature covers the entire document.
+ [All] (PDF) Added TElPDFDocument.OwnActivatedSecurityHandlers property that controls if a component should free auto activated security handlers.
+ [All] (PDF) Added TElPDFAdvancedPublicKeySecurityHandler.DocumentTimestamp property that gives access to timestamp object of DocumentTimestamp signature.

+ [Java] (DAV) Added possibility to intergrate TElWebDAVServer into servlets (Java EE).

* [All] (Base) Relative paths were not handled (were blocked instead) by TElDiskFileSystemAdapter. The component was improved to allow relative paths usage.
* [All] (PDF) AuthorName signature dictionary key can now be suppressed

* [Java] (Office) TElOfficeDocument improved to work with Java native streams.
* [.NET] (FTPS) Removed occasional one-minute hangup at the end of file transfer in Silverlight

- [All] (MIME) Including of certain header fields into signed/encrypted data of S/MIME messages caused thouse fields to be duplicated by some mail client applications on messages decrypting.
- [All] (MIME) Removed data conversion for text attachments on message parsing.
- [All] (HTTP) Digest and NTLM authentication didn't work for HTTP proxies. Fixed.
- [All] (HTTP) Calling TElHTTPSServer.Send100Continue() didn't work properly and caused AV/Exception. Fixed.
- [All] (HTTP) Fixed a bug when TElHTTPSServer didn't process subsequent requests correctly after a previous one was rejected.

- [All] (FTPS) UseSIZECmd was ignored when GetFileSize method was called explicitly. Fixed.

- [.NET] (FTPS) AdjustPasvAddress property didn't work in Silverlight, Windows Phone and Windows RT. Fixed. 
- [.NET] (Cloud) Parameters encoding in Dropbox component worked incorrectly.

- [VCL] (PDF) Fixed memory leak in TElPDFSignature.
- [VCL] (PKI) TElPKCS11Manager could not be placed to the form. Fixed. 


---
February 5, 2013
Version 10.0.232. Maintenance update


+ [All] (PKI) Added TElPKCS11CertStorage.Sessions and TElPKCS11CertStorage.SessionCount properties. 

* [All] (PDF) Improved encryption of malformed documents with missing objects.

- [All] (Base) If the document with specified charset contained a character not valid for this charset, in some cases loading of such document was stopped. Fixed.
- [All] (MIME) Fixed handling of Subject fields when their values were formatted like headers

- [Java] (Base) Fixed a bug in charsets loading procedure.

- [.NET] (OpenPGP) Improved memory management, making the components consume less memory when protecting and unprotecting documents

---
January 27, 2013
Version 10.0.231. Maintenance update

! [All] (PDF) Replaced TElPDFSignatureWidgetText.FontSize property with FontSizeX and FontSizeY properties.

+ [All] (PKI) Added support for loading/saving multiple PEM-encoded certificates to certificate storages.

* [All] (PKI) TElCAdESSignatureProcessor now supports 'base' CAdES-XL signatures (containing whole sets of validation values but no validation timestamps)
* [All] (PKI) Added pcsoNoImplicitSlotInfoUpdates PKCS#11 storage option to omit refreshing slot details for the sake of increased performance
* [All] (PKI) Added OperationPIN PKCS#11 cryptoprovider option to allow passing per-operation PINs to the HSM for CKA_ALWAYS_AUTHENTICATE keys
* [All] (FTPS) Implemented a workaround for a buggy IBM FTPS server (exact version unknown) that stops responding after a period of inactivity on control channel
* [All] (SSL) Added SessionID property to TElSSLServer
* [All] (PDF) Added TElPDFDocument.SignatureCustomDataName property that specifies a custom dictionary key name for TElPDFSignature.CustomData
* [All] (XML) Added TElXAdESSigner.SigningCertificatesDigestMethod property that specifies the digest algorithm in CertID element.
* [All] (XML) Added TElXAdESProcessor.TimestampCanonicalizationMethod property that specifies canonicalization method for newly created timestamps.

- [All] (FTPS) Fixed parsing of unix file list entries without the year specified.
- [All] (SSL) Fixed ECDHE-RSA key exchange algorithm

- [Java] (Base) Fixed a bug in charsets loading procedure that caused malfunction of the dependent components.
- [Java] (Office) Fixed a bug that caused invalid signatures generation.

- [VCL] (All) TElSharedResource refactored for Linux target, eliminating occasional deadlocks in client-side SSH components


---
December 16, 2012
Version 10.0.230. Maintenance update

+ [All] (XML) Added support for encryption using SEED algorithm, and for key wrapping using Camellia and SEED algorithms.

+ [.NET, VCL, ActiveX, Library] (SSH) Added Pageant and ssh-agent authentication mechanism.

* [All] (PDF) Optimized processing of pdf documents that consist from many small objects.
* [All] (PKI) Minor compatibility improvements in PKCS#11 cryptoprovider (optional alignment of encrypted value to match the key length; primarily addresses SafeNet LunaSA HSM decryption specifics)

* [.NET] (Base) Fixed a bug when security exception appered when NTLM authentication was used in .NET 4.0.
* [.NET] (Base) Win32 cryptoprovider can now be created with specific set of options

- [All] (PDF) Fixed memory leak for MDP signature. Fixed sign and encrypt issue with MDP signature. 
- [VCL] (SFTP) Fixed memory leak in TElSimpleSFTPClient.DownloadFiles method.
- [.NET] (Base) Static methods of TElWinCertStorage class (GetSystemStores() in particular) incorrectly threw SecurityException on .NET 4 and above. Fixed.
- [ActiveX] (All) A lot of fixes for compiler change originating memory management issues that might have resulted in unstable work of the components


---
December 2, 2012
Version 10.0.229. Maintenance update

! [.NET] Separate assembly set is now available for use in Windows Store applications. Such applications are not allowed to use external DLLs so this assembly set doesn't include Windows Certificate Storage, PKCS#11, NTLM and SSPI/GSS-API functionality.

+ [All] (Cloud) Dropbox components added.
+ [All] (WebDAV) TElWebDAVClient.ReadProperty method added that allows to read a single object property easily.

+ [.NET] Classes in Windows RT assemblies have got Async variants for most methods. 

* [.NET] Built-in sockets didn't work in Windows RT assemblies due to compiler glitches. Now the compiler has been fixed, so sockets work. 
* [All] (HTTP) TElHTTPTSPClient improved to be compatible with servers that send standard incompatible responses.

- [All] (FTPS) RestartFrom parameter in methods, which upload data (Send() and Upload*()), was in fact 32-bit. Now it's 64-bit. 

- [Java] (SSL) Fixed a bug when SSL connection to our server component failed when SSL2 was enabled on client side.
- [Java] (SSL) Fixed a bug when TLS1 connections failed with some ciphersuites.
- [Library] (VC++) Fixed AV in debug mode for properties that returns pointer to a class instance.


---
November 15, 2012
Version 10.0.228. Maintenance update

* [All] (PDF) Improved signature blob size estimation for huge timestamp cases
* [.NET] (All) Added automatic switch off of Win32 cryptoprovider in non-elevated Silverlight environments

* [.NET] (All) Added automatic switch off of Win32 cryptoprovider in non-elevated Silverlight environments
* [.NET] (Charsets) InitCharsets method made thread safe.

- [All] (PAdES) Fixed signature size estimation in async mode for TElPDFAdvancedPublicKeySecurityHandler.
- [All] (HTTP) One of the previous changes to TElHTTPSClient caused its slowdown in some conditions. Fixed.
- [All] (HTTP) Fixed upload issue on 2Gb+ files. The issue affected HTTPBlackbox and CloudBlackbox components.


---
October 29, 2012
Version 10.0.227. Maintenance update

* [All] (DC) Java applet is compiled with JDK 1.5 and can be used with Java 1.5 and later (previously it required Java 1.7)
* [ActiveX] (SSH) Added support for encrypted SSH keys

- [All] (PKI) 'Shortened' TElX509CertificateValidator.Validate() method was defaulting to local times when checking certificate validities instead of UTC. Fixed.
- [All] (PKI) TElCAdESProcessor's UpgradeToC() methods ocassionally corrupted existing signature timestamps. Fixed.
- [All] (HTTPS) "Accept" parameter in TElHTTPSServer.OnRequestHeadersReceived event didn't work properly. Fixed.
- [All] (MIME) TElMultipartList.AddPart method didn't make a copy of the part despite the value of Copy parameter set to true. Fixed.

- [ActiveX] (Base) Fixed error with PEM encryption/decryption
- [VCL/MacOS] (Base) Fixed error with @rpath/c import in Delphi XE2/XE3 for MacOS X
- [VCL] (SSH) Fixed rare error with SSH.COM private keys loading 
- [.NET] Fixed a bug where web tunneling didn't work in Silverlight environment
- [.NET] Fixed a ZIP issue which led to 'verification exceptions' in different components on Windows Phone platforms
- [All] (XML) Fixed saving a text with a special characters created by CreateTextNode method.

---
October 10, 2012
Version 10.0.226. Official release

+ [All] (HTTPS) HTTPS client now supports non-HTTP URLs when HTTP Proxy is enabled (UseHTTPProxy = true). 
  This allows to use TElHTTPSClient to retrieve FTP URLs via HTTP proxies.  

* [All] (Base) TElX509Certificate.View method improved to show certificates that are not stored in Windows stores.
* [Library] Added "SB_" prefix to all constant defines.

- [All] (Base) TElWinCertStorage fixed to work with memory stores properly.
- [All] (XML) Fixed XPath transform processing when the transform chain has several XPath transforms and/or signature enveloped transforms.

- [Java] (Base) Fixed a bug when some TElX509Certificate extensions were not processed properly.

---
September-October, 2012
Versions 10.0.223-225. Internal builds

---
September 27, 2012
Version 10.0.222. Release Candidate 3

+ [VCL] Added Delphi XE3 and C++Builder XE3 packages. 

+ [All] (PKI) Added support for Certificate Management over CMS (CMC) protocol (RFC 5272)
+ [All] (XML) Added SOAP signing components. SOAP Security Extension and Web Service Security (WSS) are supported.
+ [All] (PDF) Added TElPDFSignature.DisableDocMDPTransformDigestValue and DisableFieldMDPTransformDigestValue properties

* [All] (PDF) Speed of PDF document loading significantly increased (doubled for managed components and increased by 20 per cent for native code components)
* [All] (PDF) Added workaround for correct processing of signatures not referenced from AcroForm

- [All] (HTTPS) Fixed a bug introduced in build 9.1.215 where TElHTTPSClient generated malformed POST requests when posting both a web form and file(s) (trailing multipart boundary was inserted before the end of data)
- [All] (LDAP) Fixed a bug that caused infinite loop during SASL authentication 
- [AX] (PGP) Fixed AV occurring in ElPGPReaderX if OnTemporaryStream/OnTemporaryFile event handlers are not assigned
- [Java] (ZIP) Fixed a bug causing java.lang.VerifyError to be thrown in the internals of TElZipProcessor
- [.NET] (PKI) Fixed a bug in PKCS11 driver that resulted in 'PKCS#11 error CKR_ARGUMENTS_BAD in function C_GetSlotList' error when loading PKCS#11 storage
- [.NET] Added a fix for intermittent VerificationException in assemblies targeting WinRT framework

---
September 3, 2012
Version 10.0.221. Release Candidate 2

! [.NET] Dropped .NET 1.1, .NET CF 1.0, Silverlight 3.0, Windows Phone 7.0, Mono 1.0 support. Users who need to target these platforms can use SecureBlackbox 9.1 which will remain available for download. 

! [VCL] Dropped Delphi 4 support.

+ [.NET] Added assemblies for .NET 4.5/WinRT.

+ [All] (FTPS) Added DataPortRangeFrom/To properties to SimpleFTPSSever, to limit port range for incoming data connections.
+ [All] (PGP) Added ElPGPReader.ProcessedLength property, so user can know how much data was processed in multi-message PGP file.

- [Java] Pascal-to-Java compiler fixed to generate byte-code that is compatible with Eclipse's built-in Java compiler. 
  This change fixes the problem when "Illegal class modifiers in class Main: 0x209" exception occured with our samples.
- [Java] Fixed a bug when license keys with lifetime upgrade option were reported as incorrect.

---
August 3, 2012
Version 10.0.220. Release Candidate 1

+ [All] (Base) Added ShutdownSocket method to TElSocket and also improved socket closing procedure. ShutdownSocket method is optional (it's called internally by Close if it has not been called before).
+ [All] (Base) Added TElSASLDigestMD5Client to SBSASL unit/namespace.
+ [All] (Base) Added BCrypt password hashing algorithm

+ [All] (ZIP) Added ability to process somehow corrupted zip files
+ [All] (ZIP) Added option to restore file attributes on unpack/save attributes on packing
+ [All] (ZIP) Added support for Unix file attributes
+ [All] (PGP) Added support for Elliptic Curve algorithms (ECDSA/ECDH)
+ [All] (SSH) Added support for HMAC-SHA2 schemes (RFC 6668) for better security of SSH communications.
+ [All] (SSL) Added support for Heartbeat extension (RFC 6520). SendKeepAlive method and OnKeepAliveResponse event added to both TElSSLClient/TElSimpleSSLClient and TElSSLServer.
+ [All] (Office) Added XAdES support for binary and OOXML documents (XAdESProcessor property and GenerateXAdES method in TElOfficeBinaryXMLSignatureHandler and TElOfficeOpenXMLBaseSignatureHandler classes).

+ [.NET, VCL, Java] (Base) TElWinCertStorage.Select/ImportWizard and TElX509Certificate.View methods added to simplify CryptUI usage.
+ [.NET, VCL, Java] (Base) TElHashFunction.Hash() methods added for quick hashing of data.
+ [.NET, VCL, Java] (Base) TElSymmetricCrypto.Encrypt() and TElSymmetricCrypto.Decrypt() methods added for quick encryption and decryption of data.
+ [.NET, VCL, Java] (PDF) TElPDFSignature.CustomData property added that allows to attach custom data to a signature.
+ [.NET, VCL, Java] (PDF) TElPDFSignatureInfo enhanced with the next properties: Height, Width, OffsetX, OffsetY, Page, Invisible that allow to get width, height and location of an empty signature area.
+ [.NET, VCL, Java] (HTTPS) TElHTTPSServer enhanced with ParseMultipartFormData methods that allow to parse multipart/form-data contents.

* [.NET, VCL, Java] (Base) TElSocket.Bind now accepts optional second parameter named ReuseAddress which tells the socket to set SO_REUSEADDR option on the socket. 

- [All] (LDAP) Fixed a bug when TElLDAPSClient failed to connect to Active Directory servers and assembled wrong search requests.
- [All] (ZIP) Fixed hang with corrupted zip file

- [Java] (Base) Fixed a bug when some charsets didn't work properly.
- [.Net] (Office) Fixed bug in TElOfficeBinaryXMLSignatureHandler class for specific binary documents.


---
June 24, 2012
Version 10.0.219a. Beta version

+ Library edition Preview added.

---
June 18, 2012
Version 10.0.219. Beta version

! [.NET, VCL, Java] Refactoring of SBUtils unit / namespace has been conducted. Constants have been moved to SBConstants unit/namespace, and basic type declarations have been moved to SBTypes. 
  Most string-related functions have been moved to SBStrUtils unit / namespace.

! [.NET, VCL, Java] SSL-related constants have been moved from SBConstants unit/namespace to SBSSLConstants. 

+ [All] (Base) Added CertificateRetriever helper classes for Certificate Validator. Those classes download CA certificate if the one can not be found by TElX509CertificateValidator during validation of certificates. 
+ [All] (PDF) Added support for Adober Reader X 'locking' signatures
+ [All] (PDF) Added accurate signature blob size estimation to PAdES signatures
+ [.NET, VCL, Java] (Base) Added TElMessageTimestamper and TElMessageTimestampVerifier classes which let you timestamp the data without signing as defined in RFC 5544. 

+ [Java] (Base, PKI) Added PKCS#11 and Win32 crypto provider support.
+ [Java] (PKI) Authenticode support added.
+ [.NET] (DAV) Added possibility to intergrate TElWebDAVServer with Microsoft IIS. 

* [All] (DAV) TElWebDAVServer improved to work with NetDrive client.
* [All] (SSH) Improved compatibility with mod_sftp/0.9.7 server
* [All] (PKI) Added better control over insertion of certificate references and values to TElCAdESProcessor class

- [.NET] (Base) SecurityCritical attribute was not set for TElX509Certificate.FromX509Certificate2/ToX509Certificate2 methods. Fixed. The attribute is needed in .NET 4.0 to convert the certificate from/to .NET class.

---
May 21, 2012
Version 10.0.218. Beta version

+ [All] (HTTPS) Added OAuth2 authentication
+ [All] (Base) Added support for CNG (Cryptographic API / New Generation) keys on Windows Vista and later
+ [All] (PKI) TElSymmetricKeyMaterial extended with password-to-key conversion methods

* [All] (DAV) Minor improvements made to TElWebDAVClient to process buggy servers responses.
* [All] (PKI) Added an option to perform revocation check for root CA certificates
* [All] (PKI) Validation of certificates of CRL and OCSP services now respects revocation element creation times
* [All] (FTPS) Changed TElSimpleFTPSClient.Login method to a function that returns welcome message as a result

* [.NET] Added Silverlight 5 assembly set that works on non-Windows platforms (previously SL5 assemblies could work only on Windows due to platform-specific functionality used).

- [All] (Base) TElX509CertificateValidator chose inappropriate CRL retriever under some conditions. Fixed.
- [All] (PGP) Changed mistyped property names and a constant from "preffered" to "preferred"
- [All] (DAV) Client digest authentication didn't work properly. Fixed.

- [.NET] (PGP) Fixed a bug with 4Gb+ TAR files.

---
May 9, 2012
Version 10.0.217. Beta version

+ [All] (Base) Added support for JSON format (parser and composer)
+ [All] (SSH) Added support for the "null" host key algorithm for GSS-API key exchange methods (RFC 4462).
+ [All] (PKI) Added support for GOST R34.10-2001 algorithms in CMS (ElMessageSigner/Verifier/Encryptor/Decryptor)
+ [All] (HTTPS) Added OAuth2 authentication in HTTP client

+ [Java] (Base) JCE cryptoprovider added.

* [All] (Base) TElSocket now has Nagle algorithm disabled by default (and it can be re-enabled if needed). This slightly (a little bit) improves speed of command-response protocols such as FTP, SMTP and POP3. 
* [All] (HTTPS) Improved handling of PUT request with IIS 7.5 with keep-alive enabled (IIS didn't send anything in response and kept connection, which prevented PUT from completion).
* [All] (SSH) SSH/SFTP clients improved to work with ZFTP Server.

* [.NET] (Base) Mono assemblies improved to work on Windows.

- [All] (HTTPS) Fixed a bug when TElHTTPSClient failed to receive compressed and chunked server responses properly.
- [All] (MIME) Removed incorrect quotation for encoded international characters for non-addresses fields
- [All] (XML) Fixed how an XML decryptor component behaves when an empty content is encrypted.

- [.NET] (PGP) Fixed a bug when Close method was not called for streams inside TElPGPWriter.*Files methods.
- [.NET] (MIME) Fixed time zone parsing error in messages dates

---
April 1, 2012
Version 10.0.216. Beta version


! [All] (Socket) ListenAddress, ListenPort, ListenPortRangeFrom, ListenPortRangeTo have been deprecated in favor of new ListenBinding property. Deprecated properties will fade away in SecureBlackbox 11.

! [.NET] SecureBlackbox.SSLSocket.dll has been deprecated and moved to extra Classes folder. It is now available in complete source code and should be compiled manually. You are recommended to migrate to TElSimpleSSLClient for SSL-enabled client transport.

! [AX] All controls properly handle Unicode now
! [AX] 64-bit versions of controls added

! [All] TElSecureClient and TElSecureServer have been renamed to TElSSLClient and TElSSLServer respectively

+ [All] (Base) Added 29 new charset tables and fixed some bugs in existing tables. 

+ [All] (Base) SymmetricCrypto sample added. It demonstrates how to encrypt/decrypt a string using symmetric cipher.
+ [All] (Base) Added support for parsing data from JSON format and storing data in JSON format with or without indendation
+ [All] (Base) TElMessageProcessor.AlignEncryptedKey property added that allows to align encrypted key object length to a public key length. This option should be turned on to produce an output compatible with buggy ASN.1 processors.

+ [All] (Socket) ListenBinding property has been added. It replaces now deprecated ListenAddress, ListenPort, ListenPortRangeFrom and ListenPortRangeTo properties.

+ [All] (Mail) Added TElPOP3Client.OnProgress event with ability to interrupt message downloading process

+ [All] (MIME) Armor headers were hardcoded in PGP/MIME. Changed to allow armor headers modification.
+ [All] (MIME) Added ability to change default content type for message parts with no content type field specified

+ [AX] (Base) Added support for IDN (Unicode domain names).
+ [AX] (PKI) Added loCompareRDNAsStrings certificate lookup option.
  
+ [AX] (FTPS) Added UploadStream and DownloadStream methods
+ [AX] (FTPS) Added UploadFile and DownloadFile metods
+ [AX] (FTPS) Added UploadFiles and DownloadFiles methods
+ [AX] (FTPS) Added ListDirectory method
+ [AX] (FTPS) Added FileExists, DirectoryExists and CreateCompletePath methods
+ [AX] (FTPS) Added RemoteCharset property for better charset conversion control
+ [AX] (FTPS) Added regular expressions (regex) and multiple wildcards support to group operations (UploadFiles, DownloadFiles and ListDirectory methods) in ElSimpleFTPSClientX class.

+ [AX] (SFTP) Added RemoteCharset property for better charset conversion control
+ [AX] (SFTP) Added regular expressions (regex) and multiple wildcards support to group operations (UploadFiles, DownloadFiles, RemoveFiles and ListDirectory methods) in ElSimpleSFTPClientX class.
+ [AX] (SFTP) TElSimpleSFTPClient is now capable of talking SFTP via a command SSH channel if no SFTP subsystem is available

+ [AX] (HTTPS) Added an option to suppress contents of transitional redirection pages (30X responses) in the general output

* [All] (XML) Speed of XML loading dramatically (10x and more) improved.

* [All] (SFTP) UploadStream() method now can upload streams with undefined length (pipe streams etc)

* [All] (FTPS) UploadStream() method now can upload streams with undefined length (pipe streams etc)
* [All] (FTPS) UploadFiles() method will do much less directory traversal operations during recursive upload

* [AX] (FTPS) Extended GetFileSize to retrieve the size using MLST or even LIST command
* [AX] (FTPS) Extended GetFileTime to retrieve the time using MLST or even LIST command

- [All] (Base) Fixed a bug when HTTP digest authentication didn't work on some systems.

- [All] (ZIP) Fixed problem with empty FilenamesCharset value

- [.NET] Some string comparison were case-sensitive where they would be case-insensitive. Consequently, some functionality could work incorrectly in case when the case was unexpected in the source data. Fixed.
- [.NET] FileNameMatchesMask function didn't match filenames without extentions to "*.*" Mask. Fixed.     
- [.NET] (PKI) OCSP Server wrote NextUpdate value incorrectly if NextUpdate was not initialized explicitly to some value later than 1st January 1000. Fixed.
- [.NET] (PKI) TElWinCertStorage in some cases didn't read certificates from Windows in Silverlight 5.0. Fixed. 
- [.NET] (HTTPS) Fixed a bug that caused verification exception on WP7.


^^^^^^^^^^^^^^^^^^^
^^^ Version 9.1 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
February 20, 2012
Version 9.1.215. Maintenance update

+ [All] (Base) Added handling of protocol-relative URLs (the ones that start with double-slash, // )
+ [All] (HTTPS) TElHTTPSServer sample enhanced to demonstrate custom responses compression.
+ [.NET, VCL] (XML) Added xml advanced signer sample.
+ [All] (Cloud) Added GetFolder() method to Google Data storage component

* [All] (DC) Added 64-bit version of ActiveX control
* [All] (HTTPS) Compression improved to work with pipelined TElHTTPSServer responses.
* [.NET, VCL] (HTTPS) Changed the order of fields in Post method to make a stream the last field
* [.NET, VCL] Updated the code to follow RFC 6265 in regards to cookie handling

- [.NET] (All) Internal socket-driven components didn't handle Silverlight client access policy correctly, leading to permissions issues. Fixed.
- [All] (FTPS) Active mode had been broken in the previous build. Fixed.

---
January 30, 2012
Version 9.1.214. Maintenance update

* [All] (PKI) Made handling of PKCS#11 session-level notifications optional 
* [All] (PKI) Made PKCS#11 components tolerant to HSMs supporting single sign-on mode (one login per multiple apps)
* [All] (SFTP) Added /usr/libexec/sftp-server to the list of known sftp server executable locations (SFTP-over-command-channel mode)

- [All] (FTPS, SFTP) UploadFiles didn't ignore subfolders and attempted to upload them as files, which attempt produced an error code in the end of method. Fixed. 
- [All] (HTTPS) HEAD and OPTIONS requests, if connection was set to keep-alive, didn't return until disconnection. Fixed. 
- [All] (Cloud) Updated TElAWSS3DataStorage.ObjectExists() method to report presense of zero-size files correctly

- [.NET, Java] (PKI) If both loMatchAll and loExactMatch were set in options of certificate lookup, RDN comparison was performed in less strict manner (tag types were ignored). Fixed. 
  Note that this fix can have an effect on various certificate validation procedures which will begin to fail due to "non-working" certificate lookups. 
  However, this behaviour is standard-compliant and failures can happen only with malformed responses and CA certificates, which were reissued with different Subject RDN.
  If you need to return old behaviour, the easiest way is to set SBRDN.__Global.IgnoreTagsWhenComparingRDNs = true; (in .NET) or SBRDN.IgnoreTagsWhenComparingRDNs = true; (Java)
- [.NET] (All) (Silverlight and WP7 only) Fixed a socket issue causing various connectivity problems in higher level components
- [.NET] (FTPS) RemoteCharset property was initialized by IDE's designer to null (instead of empty string), which caused an error in runtime. Workaround added.


---
January 15, 2012
Version 9.1.213. Maintenance update

+ [All] (WebDAV) TElWebDAVClient enhanced with UploadStream/UploadFile and DownloadStream/DownloadFile methods
+ [All] (PKI) PKCS#11 components now support DSA and ECDSA algorithms
+ [All] (XML) Added TElXMLSigner.EnvelopingObjectID property to specify an Id for enveloping object when xstEnveloping signature type is used.

+ [.NET] Added assemblies for Mono 4 Android (currently in preview mode).

* [All] (WebDAV) TElWebDAVClient improved to be compatible with DriveHQ.com provider
* [VCL] (HTTPS) A few memory leaks related to responses compression code fixed in TElHTTPSServer
* [All] (PKI) Made components more tolerant to incorrectly formed certificates, CRLs and other PKI elements (trash bytes after the end of an object are now ignored)
* [All] (PKI) A number of compatibility improvements in PKCS#11 components. In particular, some compatibility issues noticed with LunaSA HSM have been eliminated.
* [All] (PKI) Now TElX509CertificateValidator class can retrieve CRLs and send OCSP requests using HTTPS without extra tune-up

- [.NET] (Base) Fixed a bug in TElSocket that caused ArgumentException when wrong web tunnel login credentials were set

---
December 15, 2011
Version 9.1.212. Maintenance update

! [VCL] (Base) Automatic parameter type check in TElHashFunction.Update() method is now disabled by default. 
        Set SBHashFunction.G_CheckPointerIsNotAnObject to true to force the component do the check.

+ [All] (PDF) Added support VRI dictionaries to PAdES components
+ [All] (PDF) Added TElPDFAdvancedSecurityHandler.PAdESOptions property for more flexible tuning of the component
+ [All] (PDF) Added support for Seed Value Dictionaries and Legal Content Attestation attributes

* [.NET] Assemblies rebuilt against Silverlight 5 release assemblies

* [All] (PKI) TElCMSSignature extended with Assign() method, allowing to transfer signatures between CMS messages

- [All] (SSH) Remote port forwarding didn't work in dynamic (server chooses the port) mode in client-side components. Fixed.
- [All] (SSH) Fixed a server-side problem with incorrect hash algorithm selection in certain configurations
- [All] (PDF) Fixed a duplicate /Type entry issue in PAdES document timestamps generation procedure
- [All] (MIME) Fixed several bugs in parsing e-mail addresses
- [All] (XML) Fixed a bug in XAdES archive timestamp for signatures that contains more than one object
- [.Net] (Office) Fixed entry not found issue for a binary signature handler with URIs that contains special characters


---
November 28, 2011
Version 9.1.211. Maintenance update

+ [All] (Base) TElSocket.WebTunnelResponseHeaders and TElSocket.WebTunnelResponseBody properties added providing access to the details of proxy response
+ [All] (Cloud) Added OnBeforeRequestSigning event allowing user to provide custom HTTP request headers or amend values assigned by the component (e.g. the value assigned by default to the Date header) before the request is signed

* [All] (HTTPS) Improved setup of "default" host value when connecting to port 443 -- some servers got confused by port number and processed the request in a wrong way. Now port number is not included if it's 443 and we are connecting via HTTPS. 
* [All] (XML) Changed type of TElXMLKeyInfoPGPData.PublicKey/SecretKey properties to TElPGPCustomPublicKey/TElPGPCustomSecretKey that allows using pgp subkey as a key.
* [All] (ZIP) Improved compatibility with DynaZip engine with Strong Encryption setting

- [All] (Base) Fixed a bug in TElX509CertificateValidator that sometimes caused invalid (false negative) validation results
- [All] (Base) Fixed a bug when TElSocket.ProxyResult was not set properly.
- [All] (PKI) KeyID and KeySubject properties were not returned correctly for keys originating from PKCS#11 hardware. Fixed.


---
November 8, 2011
Version 9.1.210. Maintenance update

! [All] (Base) IDEA algorithm has been included into main code. No more need to install IDEA additionally. Extended (IDEA-capable) cryptographic provider is now used by default.
! [All] (PDF) MDP signatures are now checked in 'liberal' mode by default. Use the overloaded Validate() method to perform validation in normal mode.

+ [All] (DC) Java applet extended with PKCS#11 support
+ [All] (Cloud) Added support for iterative bucket/container contents listings
+ [All] (Cloud) S3 buckets with upper-case characters in their names are now supported
+ [All] (XML) Added GOST R 34.10-94/2001 signatures support

* [All] (Base) Type of exception that is thrown in case of license related errors changed from ESecureBlackboxError to EElLicenseError.
* [All] (PDF) Brought the timestamp information reported by advanced handler's Timestamps[] property to accordance with the information reported by standard handler's Timestamps[] property
* [All] (PDF) A number of interoperability improvements have been introduced (the components become even more liberal to badly formatted documents)

- [All] (FTPS) Parser for MLSD command didn't handle filenames with semocolons correctly. Fixed.

---
October 20, 2011
Version 9.1.209. Maintenance update

- [All] (ZIP) Fixed corruption of file names on compression, introduced in build 208
- [All] (MIME) XMailer header field didn't survive replacing of main part with MultipartList. Fixed. 

---
October 16, 2011
Version 9.1.208. Maintenance update

+ [VCL, .NET] (Base) TElX509Certificate.IgnoreVersion property added. It allows to read malformed v1 certificates that include extensions.

- [All] (DC) Added missing UserData mirroring on DC server
- [VCL] (Base) Several Delphi x64-specific issues caused by the differences in behavior of WinAPI functions on x64 platform have been fixed
- [.NET] (Base) In Silverlight and Windows Phone assemblies charset resource was not loaded properly due to misnaming. Fixed.

---
September 30, 2011
Version 9.1.207. Official Release

+ [All] (Misc) Inner TElSocket objects used by various "simple" components is now accessible for component user to allow access to low-level connection parameters
+ [All] (Cloud) Support for requests on behalf of federated users (via additional security token) is now available
+ [All] (SFTP) TElSimpleSFTPClient is now capable of talking SFTP via a command SSH channel if no SFTP subsystem is available

+ [VCL, .NET] (PDF) Added JPEG format and custom bitmap (RGB, CMYK or Gray streams) support for a signature widget background image.
+ [VCL, .NET] (PDF) Added explicit masking (stencil masking) and colour masking support for a signature widget background image.
+ [VCL, .NET] (PDF) Added ElPDFSignatureWidgetProps.CustomText and HideDefaultText properties, which allows to specify position and font size for a custom text and hide default automatically generated text for a signature widget.
+ [VCL, .NET] (PDF) Added ElPDFSignatureWidgetProps.CompressWidgetData property which enables compression of a signature widget data.

+ [VCL] Added Delphi XE2 (Win32 and Win64 platforms) and C++Builder XE2 (Win32 platform) support

* [.NET / WP 7.5] Changed the type of by-reference boolean method parameters with built-in TSBBoolean type throughout the library to work around a bug in Windows Mobile version of the framework
* [All] (SSH) Key renegotiation is now performed in more friendly way by TElSSHServer (older implementation confused certain SSH clients, making them close the connection)
* [All] (SFTP) Added a workaround to accept wrong SFTP version numbers sent by SFTP server

- [.NET, VCL] (Base) TElFileOCSPClient didn't work. Fixed. 
- [All] (HTTPS) Decompression of compressed response didn't work for large compressed resources. Fixed.

---
August 29, 2011
Version 9.1.206. Release Candidate 2

+ [.NET] Added Silverlight 5.0 and Windows Phone 7.1/7.5 (Mango) assembly sets

* [All] (OpenPGP) Significantly improved speed of *File() methods (e.g. EncryptAndSignFile()) by introducing caching to underlying file stream processing
* [All] (SSH, SFTP) Improved work with charsets in all components

- [.NET ,VCL] (Cloud) Fixed a bug in shared access signature generation function (Azure component only)
- [.NET] (Cloud) Fixed a bug in object padding generation function that resulted in corruption of uploaded data (Azure component only)

---
August 14, 2011
Version 9.1.205. Release Candidate

+ [.NET, VCL] (HTTPS) Added an option to suppress the contents of transitional redirection pages (30X responses) in the general output
+ [.NET, VCL] (FTPS) Added RemoteCharset and LocalCharset properties for better charset conversion control
+ [.NET, VCL] (Cloud) Added support for Content-MD5 property
+ [.NET, VCL] (XML) Added DOCTYPE support. Added ElXMLDOMDocument.DocumentType property and ElXMLDOMDocumentType.ResolveExternalDTD method that maybe needed for canonicalization of attributes with a default value defined in DTD.

! [All] Changed default settings of ElSSHCustomForwarding class. Only common key exchange algorithms are enabled now (like in ElSSHClient class)
* [.NET, VCL] (MIME) Headers parser improved to support e-mail addresses enclosed in '"' instead of '<' with '>'.
* [.NET, VCL] (XML) Extended XML parser to preserve whitespace characters outside a document element.

- [.NET, VCL] (PKI) Certificate validator used to freeze when validating certificates of OCSP servers that provide revocation information for themselves. Fixed.

---
July 19, 2011
Version 9.1.204. Beta version

! [All] (HTTPS) Handling of redirection in the client has been changed. When the client receives response code 301 or 302, it fires OnRedirection event with AllowRedirection parameter. 
  Previously this parameter was always set to true before the event was fired. Now it's set to true for GET and HEAD requests and to false for all other requests. 
  This change was made to comply to RFC 2616 which required that no automatic redirection of POST and PUT requests is performed without user confirmation. 
! [.NET] (HTTPS) HTTP client assembly (SecureBlackbox.HTTP.dll) now references XML assembly (SecureBlackbox.XML.dll). 

+ [.NET, VCL] (Base) Extended TElX509Certificate with methods that allow to read raw PKCS8 keys

+ [.NET, VCL] (HTTPS) Added TElCookieManager for automatic management of cookies in HTTP client
+ [.NET, VCL] (WebDAV) TElWebDAVClient.EncodeURL property added. The property provides means for enabling / disabling URL encoding.
+ [.NET, VCL] (WebDAV) LoadFromStream/SaveToStream methods added to TElWebDAVMemoryLockList class
+ [.NET, VCL] (Cloud) Added support for policies to Windows Azure data storage component
+ [.NET, VCL] (Cloud) Added support for shared access signatures to Windows Azure data storage component
+ [.NET, VCL] (Cloud) Added support for ACLs and policies to AWS S3 data storage component
+ [.NET, VCL] (Cloud) Added support for optional URLEncoding of object names to AWS S3 data storage component
+ [.NET, VCL] (Base) Added OnHTTPError event to TElHTTPTSPClient component.
+ [.NET, VCL] (SSH) Added GSS-API support to forwading components (ElSSHCustomForwarding class)

* [All] (Base) TElUserNotice improved to read values in ASN.1 BMPString format correctly.
* [All] (HTTPS) Added handling of 303 (redirection followed by GET request) and 307 (redirection followed by original request) response codes to the client component. 
* [All] (SFTP) Added a workaround for malformed ACL processing
* [All] (SSH) Dynamic port forwarding mode: made address resolution optional and switched it off by default (suitable for more sceneries of network environments now)
* [.NET, VCL] (Base) Extended PKCS11 cryptographic provider with OnAttributesPrepared event, allowing to intercept and adjust attribute sets passed to the driver
* [.NET, VCL] (Cloud) Added a workaround for proper support of "wise" service that is sometimes used by Google instead of the "writely" one
* [.NET, VCL] (WebDAV) TElWebDAVServer compatibility with third-party clients improved.
* [.NET, VCL] (WebDAV) Improved compatibility of TElWebDAVServer with third-party clients 

- [All] (Base) TElSocket digest authentication issue fixed
- [All] (SSH) TElSSHServer.SSH2SendChannelOpenFailure issue fixed
- [All] (SSL) TElSimpleSSLClient.ReceiveData issue with external socket has been fixed
- [.NET, VCL] (Base) TElCustomFileSystemAdapter: a bug resulting in incorrect processing of paths containing '..' has been fixed
- [.NET, VCL] (FTPS) A bug in RETR command processing is fixed in TElSimpleFTPSServer
- [.NET] (SSH) Fixed a bug in saving SSH private keys in Putty format
- [.NET, VCL] (PDF) Fixed minor compliance issue with signing PDF/A document and issue with verifying a document with non-standard signature (custom data at the end of signature)


^^^^^^^^^^^^^^^^^^^
^^^ Version 9.0 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
June 10, 2011
Version 9.0.203. Maintenance update

+ [All] (Base) TElSocket class is enhanced with a WebTunnelRequestHeaders property that allows to customize WebTunnel HTTP request headers. All classes that have WebTunnel* properties are also updated.

* [All] TElSocketTSPClient moved from SBTSPClient to SBSocketTSPClient namespace/unit. 
* [All] (Base) TElHashFunction now supports CRC32 algorithm
* [.NET, VCL] (WebDAV) TElWebDAVServer compatibility with native WebDAV client in Windows Vista/2008 Server/7/2008R2 Server improved.

- [.NET, VCL] (Office) An issue with removing signature for OOXML and XPS documents has been fixed
- [.NET] (PKI) A distributed signing issue in TElCMSSignature class has been fixed

---
May 31, 2011
Version 9.0.202. Official Release

+ [.NET, VCL] (XML) Added XAdES version 1.4.1 support.
+ [.NET, VCL] (XML) Extended XAdES processor interface: added a bunch of methods/properties/events for manipulating of XAdES-C and XAdES-X-L forms, XAdES validation, adding timestamp validation data and support of AllDataObjects timestamps, Archive timestamps v1.4.1.
+ [.NET, VCL] (XML) Added canonicalization version 1.1 support.
+ [.NET, VCL] (PKI) Added loCompareRDNAsStrings certificate lookup option.

* [All] (HTTPS) Put() and Post() methods now default to chunked encoding if indefinite length stream is passed
* [All] (Cloud) Implemented correct understanding of GDocs' 302 responses

- [.NET, VCL] (Office) Fixed creating a second signature for OpenDocument document that was previously signed with "old" OpenOffice version.
- [.NET, VCL] (Cloud) Fixed an on-the-fly compression bug in AWS and Azure components
- [.NET, VCL] (XML) Fixed processing numeric character entities in the getter of ElXMLDOMAttr.NodeValue/Value property.


---
May 23, 2011
Version 9.0.201. Release Candidate 2
 
! [All] (Socket) Default value for SocketTimeout property in all socket-based components (TElHTTPSClient, TElSimpleSSLClient, TElSimpleSSHClient, TElSimpleSFTPClient) has been changed from 0 (system-default timeout, usually 2 hrs) to 60000 (60 seconds)
  This can affect your code if it works via pigeon mail or similar slow transports. 
! [.NET] (Experimental) Added Windows Phone assembly set

+ [All] (PKI) Added TElCAdESProcessor class, a high-level CAdES signature creation and processing component

* [All] (SSH) Added support for custom shell invocation to server-side shell SSH subsystem handler
* [All] (SFTP) Improved compatibility with Cerberus SFTP server
* [.NET, VCL] (Base) TElCustomFileSystemAdapter methods names changes because of incompatability with C++Builder.
* [.NET, VCL] (PDF) Added a workaround that allows object loading without endobj keyword.
* [.NET, VCL] (Cloud) Significantly improved progress reporting

- [All] (Base) TElMessageDecryptor.Decrypt fixed. Not it does not fail if TElMessageDecryptor.CertStorage contains
  recipient certificate without private key before recipient certificate with private key.

- [.NET] (FTPS) TElSimpleFTPSServer samples fixed for both C# and VB.NET. 
- [VCL] (XML) Fixed several memory leaks when XPath expression is processed


---
May 14, 2011
Version 9.0.200. Release Candidate

! [.NET, VCL] (SFTP) TSBSFTPCaseConversion type has been changed to be an alias of SBUtils.TSBCaseConversion
! [.NET, VCL] (SFTP) TSBSFTPFileTransferMode type has been changed to be an alias of SBUtils.TSBFileTransferMode
! [.NET, VCL] (SFTP) TSBOperationErrorHandling moved from SBSftpCommon to SBUtils
! [.NET, VCL] (FTPS) TSBFTPProxySettings class has been renamed to TElFTPProxySettings

+ [.NET, VCL] (HTTP) Added possibility to PUT/POST data with undefined length using chunk encoding. 
  This allows the application to stream the data as it becomes available, instead of providing the complete stream right on call to POST or PUT method. 

+ [.NET, VCL] (FTPS) Added UploadStream and DownloadStream methods
+ [.NET, VCL] (FTPS) Added UploadFile and DownloadFile metods
+ [.NET, VCL] (FTPS) Added UploadFiles and DownloadFiles methods
+ [.NET, VCL] (FTPS) Added TElFTPFileInfo class (similar to TSBFTPFileInfo record). TSBFTPFileInfo record is obsolete in favor of TElFTPFileInfo class.
+ [.NET, VCL] (FTPS) Added overloads for GetFileList to grab all results to TElStringList or to array of FTPFileInfo
+ [.NET, VCL] (FTPS) Added overloads for MLSD to grab all results to TElStringList or to arra of FTPFileInfo
+ [.NET, VCL] (FTPS) Added support for virtual file system adapters to TElSimpleFTPSClient class (DownloadFile, DownloadFiles, UploadFile, UploadFiles methods).
+ [.NET, VCL] (FTPS) Added ListDirectory method
+ [.NET, VCL] (FTPS) Added FileExists, DirectoryExists and CreateCompletePath methods
+ [.NET, VCL150+] (FTPS) Added regular expressions (regex) and multiple wildcards support to group operations (UploadFiles, DownloadFiles and ListDirectory methods) in TElSimpleFTPSClient class.
* [.NET, VCL] (FTPS) Extended GetFileSize to retrieve the size using MLST or even LIST command
* [.NET, VCL] (FTPS) Extended GetFileTime to retrieve the time using MLST or even LIST command
                  

---
April 30, 2011
Version 9.0.199. Beta version 2

+ [.NET, VCL] (Office) Added support for distributed client-server signing of Binary, OOXML, XPS and OpenDocument documents
+ [.NET, VCL] (SSH) TElShellSSHSubsystemHandler.CurrentDirectory property added. Can be used to specify shell working directory.
+ [.NET, VCL] (ZIP) Added FIPS mode support
+ [.NET] (PKI) Added Authenticode to PKIBlackbox
+ [.NET] Added three samples illustrating the use of SBB components (PDF, OpenPGP, DC) with Windows Azure platform. More samples are expected soon.

- [All] (SSH) TElSSHKey.Generate method fixed. Now TElSSHKey.KeyMaterial is initialized correctly.
- [.NET, VCL] (Office) Fixed reading specially formatted encryption info for OOXML documents
- [.NET, VCL] (Office) Fixed compatibility issue with signing and setting signature time of OpenDocument documents


---
April 6, 2011
Version 9.0.198. Beta version

! [.NET, VCL] (XML) TElXMLSigner.Sign() method is deprecated. Use GenerateSignature() or GenerateSignatureAsync() method.

! [.NET, VCL] (SSL, Mail) SMTP client has been excluded from SSLBlackbox client package and moved to a separate Mail package.

! [.NET, VCL] (HTTP) ParseURL method has been moved from TElHTTPSClient to SBUtils namespace
! [.NET, VCL] (HTTP) Declarations of HTTP error codes were moved from SBHTTPSClient to SBHTTPCommon namespace/unit.
! [.NET] (HTTP) SecureBlackbox.HTTPCommon.dll assembly has been added. SBHTTPCommon namespace has been moved there.

+ [All] (Base) Added support for IDN (Unicode domain names).
+ [All] (Base) TElSocket now supports Digest and NTLM authentication in WebTunneling (HTTPS proxy, HTTP CONNECT proxy).

+ [All] (PKI) TElMessageSigner.IncludeChain property added. Now you can add one certificate to the list and set IncludeChain option. If added certificate has a Chain property set, then certificates will be taken from there.

+ [.NET, VCL] (XML) Added TElXMLUnsupportedTransform class that prevents exceptions on signature parsing.
+ [.NET, VCL] (XML) Added TElXMLReference.URINodes property.
+ [.NET, VCL] (XML) Added TElXMLVerifier.SignerCertificate and SignerKeyData properties. They set on ValidateSignature call and specify a certificate/key that was tested.

+ [.NET, VCL] (Cloud) Added support for on-the-fly object compression and decompression
+ [.NET, VCL] (Cloud) Object encryption capabilities extended with identity (no encryption) and stream-adjusted ("drop mode") RC4 algorithms
+ [.NET, VCL] (Cloud) Protected and unprotected custom user data elements can now be stored along with the object
+ [.NET, VCL] (Cloud) Added support for ContentEncoding attribute to AWS data storage component 

+ [.NET, VCL] (Mail) Added SASL support to TElSMTPClient.
+ [.NET, VCL] (PKI, PDF, XML) Added support for distributed client-server signing of data + separate client modules for in-browser execution 

+ [.NET, VCL] (WebDAV) Added WebDAV client and server components.
+ [.NET, VCL] (LDAP) Added LDAP client. It can be used to manage OpenPGP keys on keyservers (TElLDAPSKeyserverClient), retrieving CRLs from CRL distribution points (TElLDAPCRLRetriever) and retrieving user certificates from LDAP storages (TElLDAPCertStorage).
+ [.NET, VCL] (Mail) Added POP3 client. 
+ [.NET, VCL] (Mail) Added SASL authentication engine.
+ [.NET, VCL] Virtual file system adapters have been added. They provide an abstract layer for generic file system access. Adapters for disk file systems and for SolFS as well as the sample adapter are available out of the box. 
+ [.NET, VCL] (SFTP) Added support for virtual file system adapters to TElSimpleSFTPClient class (DownloadFile, DownloadFiles, UploadFile, UploadFiles methods).
+ [.NET, VCL] (PGP) Added support for virtual file system adapters to TElPGPWriter class (EncryptFile, SignFile, EnrcryptAndSignFile, ClearTextSignFile methods) and TElPGPReader class (VerifyFile and VerifyDetachedFile methods) 
+ [.NET, VCL] (ZIP) Added support for virtual file system adapters to TElZIPReader and TElZIPWriter classes

+ [.NET, VCL] (HTTP) Added HTTP/HTTPS server
+ [.NET, VCL] (FTPS) Simple FTP Server component got support for virtual file system adapters
+ [.NET, VCL] (SFTP) TElSftpStream added to both TElSftpClient and TElSimpleSFTPClient. You can open remote file with OpenStream function and work with it like it were a local file opened with TFileStream/FileStream.

+ [.NET, VCL150+] (SFTP) Added regular expressions (regex) and multiple wildcards support to group operations (UploadFiles, DownloadFiles, RemoveFiles and ListDirectory methods) in TElSimpleSFTPClient class.

* [.NET] Unused references are nulled to speed up garbage collection.

- [.NET, VCL] (PDF) Minor fixes in object streams processing and attachments extraction.
- [All] (SSH) Fixed a bug when SSH key comment and subject were not saved correctly.

- [VCL/FreePascal] (PKI) Fixed issues with opening windows certificate storages. Fixed issue with signing on 64-bit systems.
- [VCL/FreePascal] (XML) Fixed issue with loading xml documents.

- [VCL] (Base) Fixed a bug in TElRDNConverter.SaveToDNString(). Now it saves non-ansi characters correctly.


^^^^^^^^^^^^^^^^^^^
^^^ Version 8.2 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
March 17, 2011
Version 8.2.197. Maintenance update

- [All] (HTTP) It appeared, that following the standard doesn't pay. The fix for tar.gz files handling appeared to be conflicting with some HTTP servers, which erroneously report compression via content-encoding header instead of transfer-encoding as required by the standard. Fixed.
- [All] (SFTP) In some cases upload could be blocked if SocketTimeout was 0 (issue appeared in build 196). Fixed.
- [.NET] (FTPS) Fixed bug in TElSimpleFTPSClient.ParseFileListEntry for some variants of DOS listing format.


---
March 13, 2011
Version 8.2.196. Maintenance update

* [All] (PDF) Basic PAdES signatures can be upgraded now
* [All] (SSH) Improved compatibility with Password Manager Pro server

- [All] (PDF) Fixed reading compressed DSS certificates, CRLs, OCSPs for PAdES signature handler.
- [All] (PDF) Minor fixes in PDF parser: fixed reading of attachments (specially structured) and improved document processing with bad cross-reference table.

- [All] (HTTP) If the URL for GET operation denoted  a .tar.gz file and the server reported "conent-encoding: gzip" for the file being downloaded, the client ungzipped the data during downloading. Fixed.
- [All] (HTTP) Fixed HTTP 1.0 downloads, which threw an exception with error code 10058 if the server didn't provide data length in response headers and instead just closed connection to signal document end.


---
February 16, 2011
Version 8.2.195. Official release

+ [All] (XML) Added ElXMLDOMElement.TextContent property (DOM 3) and InnerText method

* [All] (PDF) Improved compatibility with PDF writers that incorrectly identify hash algorithm with signature algorithm identifiers

- [All] (PKI) Minor bug in TElX509Certificate.DetectKeyFileFormat() routine fixed
- [.NET] (PKI) Fixed minor security transparency issue in FIPS compliant mode on .NET 4.0
- [Silverlight] (EDI, MIME, Office, XML) Fixed charsets loading from resources

---
February 5, 2011
Version 8.2.194. Release Candidate

+ [.NET, VCL] (PKI) Added OnError event for GSS-API mechanisms and added TElGSSAPIMechanism.KRB5CredentialCacheName property
+ [All] (HTTP) Added handling of relative "Location" response header values starting with '.' (relative paths are not valid according to the standard, but still some servers produce them).
+ [All] (PDF) Added ElPDFDocument.Adobe8Compatibility property. For documents with MDP signature and second visible signature you may need to adjust it.

* [All] (Base) TElHashFunction.Update(TStream/System.IO.Stream) renamed to UpdateStream(TStream/System.IO.Stream)
* [All] (EDI)  Adding ContentType authenticated attribute in S/MIME signatures by default
* [All] (PDF) Improved parsing of signature widget size and dimensions for documents created by Adobe 9.4
* [All] (SSH, SFTP) Improved textual data encoding handling

- [All] (MIME) Removed Content-Transfer-Encoding header field for multipart message parts
- [All] (MIME) Duplication of MIME-Version header field

---
January 8, 2011
Version 8.2.193. Beta version

! [All] (PKI) Major changes to CAdES implementation. See release notes for details.

+ [.NET, VCL] (Base) Added TElStringTokenizer class
+ [.NET, VCL] (FTPS) Added FTP/FTPS server components

+ [VCL] Added experimental support for MacOS X FreePascal compiler. This includes source code compilable with the mentioned compiler, superficially tested with automated QA test tool. Please use Linux package files (*.pp) along with SB_MAC conditional define to build the packages. The mentioned conditional define should also be used with any MacOS X FreePascal project that uses SecureBlackbox code.

+ [All] (PDF) Added an option for duplicating PAdES revocation information in legacy PDF 1.X RevocationInfoArchival attribute
+ [All] (SFTP) Added OnBlockTransferPrepared event to allow catching/modifying transfer parameters (pipeline length, block sizes) on the fly
+ [.NET, VCL] (PKI) Added an overload for TElCustomCertStorage.BuildChain method which accepts an instance of TElX509Certificate as a parameter.

* [All] (SSL) Improved protocol version negotiation algorithm on server side, making version fallback impossible
* [.NET] (SSL) Socket classes got PSK support (which was exposed from internal SSL classes)
* [.NET, VCL] (HTTP) URLEncode method made a public class method

- [All] (HTTP) Content-Range header was not formed right with partial POST requests ("bytes=" was sent instead of "bytes " and total number of bytes was not sent). Fixed.
- [All] (PDF) Fixed an issue with generation of deprecated X509RSASHA1 signatures, introduced a few builds ago
- [All] (XML) Fixed a bug with assignment of one-character value to TElXMLDOMElement.InnerXML property
- [NET] (EDI) Fixed bugs in parsing receipts content fields


^^^^^^^^^^^^^^^^^^^
^^^ Version 8.1 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
December 10, 2010
Version 8.1.192. Maintenance update

+ (PKI) Added support for PKCS7 files that contain header and footer

* [All] (HTTP) Improved keep-alive support. Now the component attempts to detect the situation when the server has closed supposedly kept-alive connection and reconnect properly.

* [VCL] (ZIP) ElZipWriter can now compress files that are opened with another process

- [All] (PDF) Minor issues with PAdES signature handler and minor issue with PDF document decryption fixed
- [All] (XML) Minor issue with XAdES interface in XMLTimestamp (non-common timestamp) fixed

- [VCL] (Cloud) Fixed authorization issue on Unicode Delphi


---
November 8, 2010
Version 8.1.191. Maintenance update

+ [All] (Base) Added transparent support for reading PEM files encrypted using DES-EDE3-CFB scheme

+ [.NET, VCL] (PDF) Added TinySignerPKCS11 demo
+ [.NET] (SSH) Added VB.NET SSHServer demo

* [.NET, VCL] (Cloud) Added a "fast list" option to TElAWSS3DataStorage component
* [.NET, VCL] (ZIP) Improved performance for large amount of files (10000+)
* [.NET, VCL] (ZIP) Added methods to build archive dynamically
* [.NET, VCL] (PKI) Added possibility to add duplicate certificates to system store using ElSBWinCertStorage

- [.NET, VCL] (Office) Minor issues with binary signature handler for Office documents have been fixed
- [.NET] (SSH) Public-key authentification for DSA keys (broken in build 8.1.189 due to compiler change) has been fixed
- [.NET] (HTTP) The bug with NTLM proxy authentication has been fixed

---
October 4, 2010
Version 8.1.190. Maintenance update

+ [All] (PKI) Added TElSocketTSPClient component which provides support for TCP-based timestamping protocol

* [All] (SSH) Improved compatibility with Mocana SSH server
* [All] (SSL) Improved compatibility with IIS 6 and 7 servers that require client key exchange message to be aligned on RSA modulus length
* [.NET] (SSL) Added possibility to attach SSLSocket components to existing TCP connection
* [.NET] (SSL) Reworked certain parts of SSLSocket code to increase sockets' efficiency
* [AX] (SSL) Added Socks and WebTunnel proxies configuration properties to ElSimpleFTPSClientX component

- [.NET] (HTTP) Fixed broken parsing of URLs that contained parameters (question mark) and no anchor

---
September 6, 2010
Version 8.1.189. Official Release

+ [All] (PKI) SigningCertificateV2 type is now supported by TElCMSSignature

* [All] (Base) Long (>2Gb) ASN.1 records are now supported
* [All] (PKI) Added support for PEM-enveloped SPC certificates
* [All] (PKI) Added support for buggy TSP servers that provide responses under "application/timestamp-query" content type
* [All] (PDF) Compatibility issue with Adobe Reader when adding more than one attachments to a pdf document

- [All] (Office) Fixed memory leak in OpenDocument component
- [All] (MIME) Fixed mail address parsing bug that sometimes resulted in index out of bounds exception when preparing the mail message
- [.NET] Fixed Silverlight-specific bug - absense of charset object caused NullReferenceException
- [.NET] Fixed the bug in Features parsing (GetFeatures method) which caused the function to throw an exception if CCC was reported in one of the lines.


!!! Build numbers 179-188 skipped due to numbering mistake.  

---
July 24, 2010
Version 8.1.178. Release Candidate 2

+ [All] (PKI) Added possibility to set friendly names for system certificates
+ [All] (PKI) Customized setup of complete validation data in CMS is now supported

- [VCL] (ZIP) Fixed broken string encoding conversion on Unicode-capable Delphi
- [AX] (SSL) Fixed intermittent AV in client-side SSL components


---
July 17, 2010
Version 8.1.177. Release Candidate 1

+ [All] (PKI) Added support for system-driven ("safe") keypair generation 
+ [All] (PDF) Added support for PAdES-compliant signatures
+ [All] (PDF) Added TElPDFSignatureWidgetProps.DateCaptionFormat property to control datetime formatting
+ [All] (Cloud) Added Google Docs data storage component
+ [All] (Cloud) Added enhanced listing capabilities
+ [All] (ZIP) Improved ElZipWriter performance and memory usage for a large number of files
+ [All] (ZIP) Added ElZipWriter.MakeDir & ElZipWriter.AddDirContents methods
+ [All] (EDI) Added support for data compression in AS2 and AS3 protocols

* [All] (Base) Certificate validator opens Windows certificate storages in read-only mode now. This lets validator work correctly under certain limited accounts
* [All] (Base) Proxy errors are now reported in more detail
* [All] (PKI) Improved work with CRLs and OCSP responses in CMS messages
* [All] (SSH) Improved compatibility with 'Internet Server SSHD' and '3.2.0 SSH OpenVMS V5.5 VMS_sftp_version 3' legacy servers
* [All] (PDF) Workaround for non well-formed entries in the cross-reference section (may affect a signed PDF document)
* [All] (MIME) E-mail addresses parsing rewritten

- [All] (PKI) Fixed processing of custom CRL extensions
- [VCL] (SSL) Fixed broken support for some ciphersuites in Delphi 2009 and later


^^^^^^^^^^^^^^^^^^^
^^^ Version 8.0 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^
---
May 22, 2010
Version 8.0.176. Maintenance update

+ [All] (Cloud) Added Windows Azure storage samples

* [All] (SSH) Added special automatic setup for mod_sftp/0.9 server
* [AX] (PGP) Added support for long (2Gb+) files
* [All] (ZIP) Support for non-ASCII characters in filenames, support for utf8 filenames
* [All] (PDF) Automatically fix documents with truncated document trailer

- [All] (XML) Fixed canonicalization of simple inheritable attributes (like xml:space)
- [All] (XML) Fixed processing of XPath expression with attribute comparing in some cases
- [All] (XML) Fixed canonicalization of processing instructions after XPath transform 
- [All] (XML) Fixed RDN parsing of a quoted attribute value with a comma
- [All] (Office) Fixed signing of document properties for OOXML document
- [VCL] (XML) Fixed minor memory leaks when XPath expression is processed
- [VCL] (ZIP) Fixed some memory leaks
- [AX] (SSH) Memory corruption occured using ElGSSAPIMechanism class for GSS-API/Kerberos V5 authentication


---
May 8, 2010
Version 8.0.175. Maintenance update

- [.NET] Charsets loading has been broken. Due to this, MIME, Office, XML and EDI components could have problems with functioning properly. Fixed. 


---
May 4, 2010
Version 8.0.174. Official release

! [All] The samples are now installed to the All Users\Documents\EldoS directory

+ [.NET] Added Silverlight samples for OpenPGP, PDF, ZIP

- [.NET] Fixed ArrayList sorting issues in Silverlight
- [.NET] Fixed issues with security restrictions that prevented p/invoke in .NET 4.0


---
April 28, 2010
Version 8.0.173. Pre-release version

+ [All] Added DNSSEC support to all socket and socket-based components
+ [All] (ZIP) Added support for addition/removal of files from the existing archive

+ [.NET] Added Silverlight 4.0 assemblies.
+ [.NET] Added .NET Framework 4.0 assemblies
+ [.NET] Added .NET Framework 4.0 project files to sample projects.

* [All] (PDF) Added a workaround for processing documents created by OKI Hotkey software

- [All] (Base) Fixed an intermittent issue with purging of expired cached CRL responses in TElX509CertificateValidator. The problem could cause an Access Violation in VCL and ActiveX edition and deadlock in .NET edition. 


---
April 14, 2010
Version 8.0.172. Beta version

! [.NET] (XML) SBXMLAdES, SBXMLAdESIntf, SBXMLEnc, SBXMLSec, SBXMLSig and SBXMLTransform namespaces have been moved to SecureBlackbox.XMLSecurity assembly
! [.NET, VCL] (XML) Common functions have been moved from SBXMLSec to SBXMLUtils

+ [.NET] Added Silverlight 3.0 assemblies. Silverlight 4.0 support to come later
+ [.NET, VCL] Added CloudBlackbox package (Amazon S3 and simple file storages are initially supported)
+ [.NET, VCL] Added OfficeBlackbox package (Office Binary, Office Open XML, OpenXPS document support)

+ [All] (PKI) Added support for NSS (Mozilla) certificate store access via PKCS#11 interface
+ [All] (PKI) Extended TElMessageEncryptor and TElMessageDecryptor with support for OriginatorInfos and UnprotectedAttributes fields
+ [All] (SSH) Added support for dynamic forwarding to simple forwarding components
+ [All] (SSH) Promoted GlobalKeepAlivePeriod property in simple forwarding components
+ [All] (SSH) TElSimpleSSHClient now supports connecting to a subsystem (besides running a shell and executing a command)
+ [.NET] (PKI) TElX509Certificate now supports casting to and from .NET X509Certificate2 type

* [All] (PKI) Extended TElX509Certificate class with file-based serialization/deserialization capabilities
* [All] (SSH) Improved compatibility with WinSSHD and Tru64 SSH servers
* [All] (XML) Changed a default parameter normalize newline characters on load to true for ElXMLDOMDocument.LoadFromStream method


^^^^^^^^^^^^^^^^^^^
^^^ Version 7.2 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
March 2, 2010
Version 7.2.171 Maintenance update

- [.NET] Certificate-based encryption of PDF documents got broken in build 169. Fixed.



---
February 23, 2010
Version 7.2.170. Maintenance update

- [.NET] (Base) WebTunneling (HTTPS Proxy) support got broken in build 169. Fixed.


---
February 1, 2010
Version 7.2.169. Maintenance update

+ [All] (Base) Added workaround for buggy HTTP proxies, which sends LFLF instead of CRLFCRLF after reply string
+ [All] (Base) TElRelativeDistinguishedName.SaveToDNString() method has been added
+ [All] (FTPS) Code 230 is accepted now for CWD and PWD commands. 
+ [All] (FTPS) Added Windows style file list parser (tested with ftp.microsoft.com)
+ [All] (EDI) Added HTTP-authorization related properties to AS2 client component
+ [All] (EDI) Added ability to setup verification options before loading a message/receipt
+ [All] (EDI) Added Received-Content-MIC receipt field generation
+ [All] (XML) Added URIStream, URIStreamOffset, URIStreamCount properties for ElXMLReference class
+ [.NET, VCL] (PKI) Added TElX509CertificateEx.AltKeyID property that allows to specify custom key identifier values for PKCS#11-based certificates

* [All] (SSH) Optimized compression subsystem (decreased the amount of used memory, increased decompression speed)
* [.NET, VCL] Improved PKCS#11 on-board keypair/certificate generation routine

- [All] (Base) Fixed minor client-side TSP issue causing intermittent WRONG NONCE errors 
- [All] (EDI) Setting AS2Message.FileModified property did not work
- [All] (SSH) Exit code was not returned correctly in some cases by TElSimpleSSHClient. Fixed.
- [.NET] (EDI) Receipt request options parsing errors
- [.NET] (HTTP) Bug in URL splitting method
- [.NET] (PGP) Fixed MONO JIT specific issue with loading pgp keys
- [VCL] (HTTP) Access violation on component destroy if an error occured while establishing a connection

---
December 26, 2009
Version 7.2.168. Maintenance update

+ [All] (Base) Added global IgnoreTagsWhenComparingRDNs flag
+ [All] (SFTP) Added TreatZeroSizeAsUndefined property
+ [All] (PKI) Added tsoIgnoreNonce to TSPClient options (can be useful when working with some buggy servers)

* [All] (Base) SecureBlackbox now understands incorrectly inserted timestamps (TimeStampResp instead of TimeStampToken)
* [All] (Base) Improved JKS format handling
* [All] (EDI) Miscellaneous AS2 components fixes

* [All] (HTTP) TElHTTPSClient now encodes the path part of the URL if the URL contains spaces in it
* [All] (HTTP) TElHTTPSClient now includes authentication header when no username is specified and the password is set. Such authentication scheme (password without username) is used by some popular hardware.

---
December 1, 2009
Version 7.2.167. Maintenance update

* [All] (Base) Improved handling of negative X.509 serial numbers
* [All] (SSH) Improved work of X11 forwarding (increased compatibility with several third-party server implementations)
* [All] (SFTP) Added a possibility to omit sending Truncate flag to server when uploading files 

- [All] (SMTP) Error during SSL negotiation sometimes caused TElSMTPClient to hang
- [All] (HTTP) Memory leaks in Digest authentication
- [All] (SSH, SFTP, PDF) ZLib compression didn't work in some cases

---
November 20, 2009
Version 7.2.166. Official Release

! [All] (SSL) Added TLS renegotiation attack prevention mechanisms

+ [All] (ZIP) Added support for wilcard symbols (*, ?) to .Add, .Extract methods;

* [All] (PDF) Improved compatibility with Adobe Reader 9.2 (in a case like adding a second or more signature for hybrid-reference file, or signing an AES-encrypted document)
* [All] (SSH) Increased X11 channels creation compatibility
* [All] (SSL) Improved TLS1.2 compatibility with IIS server
* [VCL] (Base) Improved socket connection errors reporting
* [.NET] (PKI) Improved speed of TElASN1*Tag.SaveToBuffer methods

- [All] (SFTP) Fixed DownloadFiles and UploadFiles methods on Linux: the methods used hardcoded backslash (\) symbol as a path separator. Now platform-specific separator is used.
- [All] (PKI) Fixed SHA2 signing issue with system certificates
- [.NET] (SSH) Fixed DES encryption on SSHv1

---
October 26, 2009
Version 7.2.165. Preview

+ [.NET, VCL] (XML) Added SignatureCompliance property to TElXMLSigner/TElXMLVerifier/TElXMLSignature classes, that enables support of EBICS signature.
+ [All] (ZIP) Added support for BZip2 compression method
+ [All] Added ValidateForTimestamping method to TElX509CertificateValidator class 

* [All] (PKI) Added limitation of ASN.1 tree depth. The maximal depth is now set to 256 by default, but can be changed if needed.
* [All] (PGP) Optimized memory management in TElPGPReader class; added MemoryConsumptionStrategy property
* [All] (SSH) Improved work with certain SSH implementations (reporting themselves as "mod_sftp" and WinFIOL)
* [All] (HTTP) If a connection goes over HTTPS and a proxy server is used but web tunnel is not configured, the component now automatically sets and uses web tunnel properties copied from http proxy properties.
* [.NET, VCL] (XML) Added StrictMode property to TElXMLEnvelopedSignatureTransform class.
* [.NET, VCL] (MIME) Added double quotes to the boundary line for better compatibility with web-mail services. 

- [VCL, .NET] (HTTP) Fixed Basic authentication string formatting which included extra #0 at the end of the text
- [VCL] (PKI) Minor memory leak removed from TElMessageDecryptor class
- [.NET] (ZIP) Fixed some problems with ZIP encryption and archives handling

---
September 16, 2009
Version 7.2.164. Beta version

+ [All] (PKI) Added TElX509CertificateValidator class for automatic complex validation of certificates
+ [.NET, VCL] (ZIP) Added components for ZIP compression and decompression
+ [VCL] Added support for CodeGear RAD Studio 2010

+ [.NET CF] (HTTP) Added NTLM and Digest authentication support
+ [.NET, VCL] (HTTP) Added ForceNTLMAuth property to TElHTTPSClient class
+ [.NET, VCL] (PKI) Added TElX509Certificate.Equals method to compare certificates

! [All] (SSL) Elliptic curve ciphersuites support is now off by default

* [All] (PDF) Improved liberal PDF validation mode
* [All] (PKI) Improved work with Aladdin eTokens and Gemplus cards
* [All] (SSH) Server-side connection handlers have been slightly reworked
* [AX] (PGP) Progress is now reported correctly for large files (>2GB)

- [All] (HTTP) Fixed POST issues when NTLM authentication is used


^^^^^^^^^^^^^^^^^^^
^^^ Version 7.1 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
August 20, 2009
Version 7.1.163. Maintenance update

* [All] (FTPS) Improved compatibility with VShell server
* [VCL] (PKI) Warnings and hints removed

- [All] (HTTP) Fixed timeout exceeded issue under keep-alive connections
- [.NET, VCL] (PKI) Fixed interface of TElHTTPOCSPClient class (HTTPSClient property was read-only), broken in 7.1.162 build
- [AX] (HTTP) Fixed a bug in GetEx method

---
August 18, 2009
Version 7.1.162. Maintenance update

+ [.NET, VCL] (PDF) Empty signature fields can be now added to the document
+ [.NET, VCL] (SSH) Added means for sending channel EOF before closing the channel
+ [.NET, VCL] (SSL) Added UseSSLSessionResumption property to TElSimpleSSLClient class and its descendants
+ [VCL] (MIME) Added hash algorithm selection in DKIM signer demo

* [.NET, VCL] (PDF) Raw signature body is now accessible via SignatureContents property
* [.NET, VCL] (PDF) Added aoAdjustTimesToUTC document assembly option
* [.NET, VCL] (HTTP) Added ForceKeepAliveIfConnectionHeaderIsAbsent property
* [All] (PKI) Added support for badly encoded CMS SignerLocation attribute

- [All] (MIME) Fixed time zone issue in DomainKeys signature creation time
- [All] (MIME) Fixed bug in relaxed canonicalization algorithm in DKIM

---
July 27, 2009
Version 7.1.161. Maintenance update

! [.NET, VCL] (PKI) TSBOCSPValidationNeededEvent parameter list was extended with URL parameter.
+ [.NET, VCL] (PDF) Added DecryptionMode property. That allows to sign an encrypted document or partially decrypt the document.

* [All] (SFTP) Improved compatibility with Titan MFT and WS_FTP servers
* [All] (SSH) Improved cipher renegotiation compatibility with older OpenSSH servers
* [.NET, VCL] (PKI) URL property has been moved from TElHTTPOCSPClient class to TElOCSPClient class.
* [VCL] (PKI) Win32CryptoProvider is updated to use unicode-enabled routines of Crypto API in Delphi 2009

- [All] (SSH) Fixed minor bug in ElSSHKey generation/loading
- [AX] (PGP) EncryptFile produced AV in use-old-packets mode. Fixed.

- [All] (SSH) TElSimpleSSHClient.ExecuteCommand didn't always return all data, sent by the server. Fixed.

July 8, 2009
Version 7.1.160. Official Release

+ [.NET, VCL] (SSH) Added ExecuteCommand method to ElSimpleSSHClient class
+ [.NET, VCL] (PKI) Added support for on-demand token access mode
+ [.NET, VCL] (PKI) Added pcsoUniqueIDs PKCS11 option to prevent objects with same IDs from being created
+ [.NET, VCL] (PKI) Added support for synchronous slot event monitoring mode
+ [.NET, VCL] (SFTP) Added UseUTF8OnV3 property
+ [VCL] (SSL) Added support classes for kbmMW 3.0 and later. 

* [All] (PKI) Implemented optional Win32 cryptographic context caching (results in significant performance increase of recurrent system certificate-based operations)
* [All] (PKI) Improved compatibility with ActivClient token from ActivIdentity 

- [All] (HTTP) When Gzip compression was enabled, redirection to other resource where both old and new resource were provided with GZip compression could cause "Invalid GZip header" exception. Fixed.
- [All] (HTTP) Fixed a bug in Digest authentication ("MD5-sess" algorithm)
- [All] (PDF) Fixed loading of pdf document with a comment object inside a dictionary object
- [All] (PKI) Fixed minor OCSP response processing issue
- [All] (FTPS) Fixed minor ASCII mode download bug
- [.NET] (MIME) Fixed minor date encoding issue

---
June 7, 2009
Version 7.1.159. Release Candidate 1

+ [All] (PDF) Added support for timestamping of existing signatures
+ [All] (FTPS) Added AccountInfo property, which allows to automatically issue the ACCT command on logon
+ [.NET, VCL] (SSH) Added PKCS#11 key storage component

* [All] (PGP) Added special handling for buggy signatures created with PGPDesktop 9
* [All] (PKI) Improved compatibility with OmniKey tokens
* [All] (SFTP) Improved compatibility with WS_FTP 6 and 7 servers
* [All] (FTPS) Added capabilities of establishing data channel in synchronous way

- [All] (PKI) Fixed bug with JKS loading.
- [AX, VCL] Created a workaround for compiler bug that resulted in intermittent (though quite rare) connection errors
- [AX, VCL] (SSH) Fixed an error in UMAC64 calculation
- [VCL] (SFTP, FTPS) Fixed 2Gb file size limitation on Delphi 4 and Delphi 5
- [VCL] (PKI) Fixed PKCS#11 bugs for Delphi 2009


---
May 25, 2009
Version 7.1.158. Internal build


---
May 18, 2009
Version 7.1.157. Beta version

+ [All] (SSH, SFTP) Added GSSAPI user authentication and key exchange support to client-side components
+ [All] (PGP) Added SFX (self-extracting) files support
+ [All] (PDF) Added AutoAdjustEncoding property for the signature widget
+ [.NET, VCL] (EDI) Added support for AS2 protocol
+ [.NET, VCL] (PKI) Added SetKeyMaterial to TElX509Certificate and TElCertificateRequest classes, allowing to provide a predefined key material for certificate/request generation
+ [.NET, VCL] (All) Added TotalBytesSent and TotalBytesReceived properties indicating the amount of network traffic passed through the component
+ [.NET, VCL] (FTPS) ACCT command is now automatically sent to the server if requested

* [All] (PDF) Improved signature insertion time for extra-large signature objects (big CRLs, OCSP responses or other revocation information embedded to the signature)
* [All] (PDF) Added workaround for pdf documents with incorrect size value in the trailer
* [.NET, VCL] (PKI) Improved work with several cryptographic token models
* [.NET, VCL] (SSH) Added support for choosing a particular network interface to listen for incoming connections in simple remote port forwarding component

- [All] (PGP) Improved support for large (>2Gb) files.
- [All] (FTPS) GetFileTime command could produce an exception when parsing the reply from the server with the date. Fixed.
- [All] (FTPS) Fixed Mode Z upload issue (incorrect compression result)
- [All] (SSL) Fixed handling of server certificate chains consisting of 3+ certificates.
- [All] (PKI) Fixed minor bug in TElCustomCertStorage.IsIssuerCertificate() method (the method occasionally returned False even though the real issuer certificate has been passed to it).
- [All] (SSH) Resolved potential endless loop issue in the simple forwarding components
- [.NET] (HTTP) Fixed bug in NTLM Authentication


^^^^^^^^^^^^^^^^^^^
^^^ Version 7.0 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
April 20, 2009
Version 7.0.156. Maintenance update

+ [All] (SSH) Added support for providing command exit status
+ [All] (FTPS) Added support for SOCKS and HTTP proxies

* [All] (HTTP) Added OnSendData event
* [All] (PGP) Improved Get*KeyByEmailAddress() search algorithm
* [All] (SFTP) Improved directory listing compatibility with some SFTP6 client tools
* [All] (FTPS) Improved CCC compatibility with some FTPS servers
* [All] (PDF) Added liberal mode for MDP signature validation

- [AX] Fixed minor certificate storage management-related issue
- [All] (HTTP) Fixed minor POST'ing issue, which prevented some servers from processing multipart form data correctly

---
March 22, 2009
Version 7.0.155. Official Release

+ [All] (PKI) Added support for CRLs in PKCS12 messages

+ [AX] Added IPv6 support
+ [AX] Added manifest for registration-free COM usage
+ [AX] (PKI, SSH, SFTP) Added support for FIPS-compliant mode
+ [AX] (PKI) Added support for file-based operations
+ [AX] (SSH, SFTP) Added experimental GSSAPI support
+ [AX] (SFTP) Extended SFTP file attributes support
+ [AX] (SFTP) Added support for auto-adjustment of file times after transfer operations
+ [AX] (FTPS) Added concurrent download support
+ [AX] (FTPS) Added support for allowed port ranges configuration

* [All] (SSH) Improved work with HP-UX OpenSSH servers
* [All] (SSH) Improved command execution handling by server-side SSH components
* [.NET] (SFTP) UploadFile opened the local file in read/write mode. This could cause Access Denied error for read-only files or files already opened by other applications. Fixed.
* [.NET, VCL] (PKI) Improved support for long-term CAdES signatures

- [.NET, VCL] (PDF) Fixed encoding and decoding of signature field names
                                                                               
---
March 1, 2009
Version 7.0.154. Release Candidate 1

+ [All] (PKI) Added support for GOST R34.10-1994, R34.11-1994, R34.10-2001, 28147-89 algorithms
+ [All] (PKI) Added TElAlgorithmIdentifier properties and parameters to TElX509Certificate and TElX509CertificateEx
+ [All] (XML) Added new properties to ElXAdESVerifier class for AllDataObjectsTimestamps and IndividualDataObjectsTimestamps
+ [All] (PKI, SSH, PDF, XML) Operations can now be performed in FIPS-compliant mode (on Windows only)
+ [All] (PKI) Added support for signed timestamping requests
+ [All] (SSL, SSH, SFTP, FTPS, HTTPS) Added support for IPv6 protocol

* [All] (SSH) Improved compatibility with Mikrotik 2.9 routers
* [All] (SFTP) Improved file transfer compatibility with a server that identifies itself as SSHD

- [All] (XML) Fixed issue with Base64 transform
- [All] (SSH) Fixed two minor issues in simple forwarding components (timeout and proxy handling for tunneled connections)
- [All] (SSL) Fixed client authentication handling on SSL3

---
February 3, 2009
Version 7.0.153. Beta version

+ [All] (PDF) Added AES256 encryption algorithm supported by Acrobat 9.0 and later. 
  This feature gives you additional level of security for your application.
+ [All] (PDF) Added ElPDFPublicKeyRecipientGroup.KeyEncryptionAlgorithm property

+ [All] (PKI) Added support for CMS-enveloped timestamping requests
+ [All] (PKI) Added support for GOST algorithms to low-level cryptography classes
+ [All] (PKI) Win32 cryptographic provider extended with symmetric and hash algorithms support

- [All] (PDF) Fixed encryption of pdf document for multiple Recipient Groups.

---
January 11, 2009
Version 7.0.152. Beta version

* [All] (SFTP) Improved compatibility with GlobalScape FTP server.
* [All] (SSH) Added support for multiline server identification strings

---
January 1, 2009
Version 7.0.151. Beta version

! Certain PKI functions have been moved to a separate PKIBlackbox package

+ [All] (PKI) Added support for PKCS#11 token insertion/removal notifications
+ [All] (PKI) Added extended cryptographic token support (token-based symmetric and hashing operations are now supported)
+ [All] (SSL) Added support for Elliptic Curve algorithms 

* [All] (PDF) Improved empty signature fields compatibility with Adobe Reader 9
* [All] (FTPS) Improved compatibility with servers that do not shut down SSL gracefully after CCC command


^^^^^^^^^^^^^^^^^^^
^^^ Version 6.1 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
December 16, 2008
Version 6.1.150. Maintenance update

+ [All] (FTPS) Added support for multipart downloads
* [All] (PDF) Added support for documents with incorrect xref address

- [All] (SSH) Fixed handling of MaxPacketSize in SSH server, caused 'Packet garbled on decryption' error of PuTTY-based SFTP clients (WinSCP).
- [All] (PKI) Minor ECDSA certificate reading issue fixed

- [VCL] (SSH) Fixed minor hangup issue in simple forwarding components


---
November 25, 2008
Version 6.1.149. Official release

* [All] (FTPS) Improved FTP proxy support
* [VCL] (SSH) Removed high processor load in subsystem handler classes


---
November 3, 2008
Version 6.1.148. Beta version

+ Added support for elliptic curves in Certificate & Certificate request demos (VCL, C#, VB.NET)
+ [.NET, VCL] (PDF) Published TElPDFDocument.PDFFile property that provides access to the underlying PDF document structure

* [VCL] (PKI) Added workaround for BCB compiler bug that caused incorrect use of default cryptographic provider leading to various side effects
* [VCL, .NET] (PDF) Improved signature CMS validation
* [All] (PDF) Added workaround for documents generated by Oracle PDF Driver

- [All] (Socket) Another fix of timeout handling
- [All] (FTPS) Fixed CCC+encrypted data channel cooperation bug
- [All] (XML) Fixed parsing of closing tags with spaces at the end
- [All] (XML) Fixed zero-length data handling by TElXMLReference
- [All] (DomainKeys) Fixed verifying and parsing of multiline DKIM-Signature header field
- [.NET] (SFTP) Returned OnTransferCompleted event to the TElSFTPClient class
- [VCL] Fixed SSH IOHandlers for Indy 10.1.5 

---
September 28, 2008
Version 6.1.147. Beta version

+ [.NET, VCL] (FTPS) Added overloaded CCC method
+ [.NET, VCL] (SSH) Added TElSSHServer.BannerSendStage property

* [All] (MIME) Improved speed for assembling message (especially with big attached files).
* [All] (PDF) Improved MDP compatibility with Adobe Acrobat products
* [All] (SSH) Added support for terminal window dimensions change notifications for SSHv1

- [All] (PKI) (PKCS#11) Fixed decryption of data in case if its length is less than the key size (lead zeroes were removed). This applies to Rainbow iKey 1000 security token.
- [All] (PKI) Fixed signing using DSA certificates from Windows System Storage.
- [All] (PKI) Fixed bug in TElX509Certificate.SaveKeyToBufferPEM method
- [All] (XML) Fixed parsing of DOCTYPE tag.
- [.NET] (Socket) Fixed handling of connection timeout.

---
September 11, 2008
Version 6.1.146. Beta version

+ [All] (SFTP) Added support for automatic file times adjustment after transfer operation
+ [All] (XML) Added GetOrder/SetOrder methods to RDNDescriptorMap to control the order of distinguished names formatting in Issuer and Subject of certificate.
+ [All] (XML) Added CompatibilityMode property to RDNDescriptorMap global list. Set it to cmDotNet to emulate .Net formatting of RDN. 

* [All] (PKI) Added method OpenStream to ElAuthenticodeSigner/Verifier.
* [All] (PDF) Improved extraction of signature information (Offset and Size properties)
* [All] (PDF) Some software incorrectly specifies hashing algorithm in adbe.pkcs7 subfilter. Added a workaround in order to validate the signatures with this incorrect algorithm set.
* [All] (PGP) Improved support for encrypted messages, generated by old PGP software.
* [All] (PGP) Fixed some problems with decryption of messages, encrypted with passphrase.
* [All] (SSH) Added w/a for incorrect window size handling by some OpenSSH server versions that might cause session hangup
* [All] (XML) Implemented TElXMLDOMDocument.GetElementByID method.

- [All} (PGP/MIME) PGP MIME handler incorrectly reported an error for multi part messages.
- [All] (SFTP) Fixed upload error handling (in particular, handling of quota exceeded errors)
- [.NET] (Charsets) Fixed parsing issues with ISO-2022-JP charset.

---
August 3, 2008
Version 6.1.145. Beta version

+ [All] (PKI) Added pre-release EC support for X.509 certificates.
+ [All] (XML) Added RDNDescriptorMap global list to control how Issuer and Subject of certificate is formatted

* [All] (SFTP) Improved ASCII mode emulation for SFTP V3
* [All] (SSH) Improved compatibility with Roumen Petrov's X.509 OpenSSH patch

* [All] (PKI) Improved compatibility with Bit4id tokens
* [All] (PDF) Improved extraction of signature information (Page and Invisible properties)

- [All] (PKI) Fixed bug with CRL signing with system certificates
- (MIME) Fixed MIME mail address encoding bug
- [All] (PDF) Fixed signature removing in case if non-existent object is referenced


^^^^^^^^^^^^^^^^^^^
^^^ Version 6.0 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

July 3, 2008
Version 6.0.144. Maintenance update

* [VCL] Added possibility of disposing of global objects on application termination
* [All] (SSH) Improved compatibility with old versions of Tectia for Windows server
- [All] (PDF) Fixed reading of the Encrypt entry if it is not an indirect reference
- [All] (SFTP) Fixed big files ASCII mode issue 
- [All] (MIME) Fixed non-ASCII file names corruption
- [All] (PKI) Fixed the problem in TElCertificateRequest, caused writing of all RDN fields as printablestring.
- [AX] (PKI) Destroying the PKCS11 storage without closing it removed all certificates from the storage device. Fixed.

June 15, 2008
Version 6.0.143. Maintenance update

* [All] (SSH) Improved AutoAdjustCiphers mode in SSH components in order to ensure flawless connection with any (even badly behaving) SSH servers
* [All] (PKI) Improved generation of certain certificate extensions
* [.NET, VCL] (XML) Changed the order of some elements in XAdES to follow the schema
* [.NET] (SSH) Updated SSHServerDemo
* [VCL] (SSH) Updated SimpleSFTPDemo demo
* [VCL] (SSH) Improved SynchronizeGUI mode in simple forwarding components

- [.NET, VCL] (PDF) Fixed widget appearance when AutoFontSize and AutoSize set to false.
- [.NET, VCL] (PDF) Fixed TPDFDictionary to distinguish name objects with different case sensitivity.
- [VCL] (PDF) Fixed memory leak when document was closed without saving.
- [.NET] (SMTP) Fixed the error with incorrect parsing of EHLO reply.
- [.NET] (SSH) Fixed problems with hanging sessions in C# SSH/SFTP server sample.

---
May 28, 2008
Version 6.0.142. Maintenance update

- (FTPS) MDTM command returned incorrect date/time due to incorrect parsing of the returned date.
- [.NET] (SFTP) The application could not be closed after transfer due to newly added keep-alive functionality that created a thread. This is a .NET Framework issue, for which workaround has been added.

---
May 23, 2008
Version 6.0.141. Maintenance update


- [.NET, VCL] (SFTP) SSH/SFTP server could report the error when trying to send the data after connection is closed. Fixed.
- (PGP) Fixed loading of armored messages with spaces in header-dividing line.

---
April 29, 2008
Version 6.0.140. Private build.

- [All] (SSH) Fixed compatibility of re-keying operation with some SSH/SFTP servers.

---
April 16, 2008
Version 6.0.139. Minor update.

+ [All] (SFTP) ASCII mode is now supported for SFTP versions prior to 4

* [All] (PDF) Improved compatibility with Adobe Reader 7 with document attachments handling
* [All] (PDF) Document version is now auto-adjusted for encrypted documents

- [AX] (HTTPS, FTPS) Fixed serialization problem in VB6
- [AX] (SFTP) Removed minor resource leakage that might lead to component hangup in some cases
- [All] (MIME) Several message assembling issues fixed

---
April 5, 2008
Version 6.0.138. Maintenance update.

+ [All] (SSH) Added UMAC support
+ [All] (PKI) Added support for RSA2 and SHA2 support to OCSP components
+ [All] (PDF) Added CertIDs property to TElPDFPublicKeySecurityHandler class
+ [.NET] Added Tag property to all the components to allow state storing

* [All] (HTTP) Now OnPreparedHeaders and OnReceivedHeaders report *all* headers including the previously omited first line of request or response and request cookies.
* [All] (SFTP) Improved file download from servers that do not report file size
* [All] (SSL) Fixed minor DHE key exchange incompatibility between SBB client and OpenSSL server

- [All] (HTTP) Repaired basic authentication support, broken in build 137.
- [All] (SSL) Fixed minor TLS1.2 version negotiation issue

---
March 15, 2008
Version 6.0.137. Maintenance update.

* [.NET, VCL] (PDF) The documents could not be encrypted and signed using MDP (certification) signature. Now this is possible.
* [.NET, VCL] (MIME) Some software incorrectly specifies hashing algorithm in S/MIME parameters. Added a workaround in order to validate the signatures with this incorrect algorithm set.
- [.NET] PEM decoding was broken. This could lead to impossibility to load SSH keys and PEM-encoded PKI files. Fixed.
- [.NET] In .NET 1.1 Socket class couldn't set KeepAlive option for the socket due to the bug in .NET Framework (the fix was added in .NET 2.0). Workaround for the issue has been added.

---
March 9, 2008
Version 6.0.136. Official release.

+ [All] (SSL) Added StartTLS and StopTLS methods to ElSimpleSSLClient class. These methods let one implement explicit TLS management with ElSimpleSSLClient.

---
March 6, 2008
Version 6.0.135. Internal build.

! Exception classes were renamed to EEl*Error (asterisk denotes the exception own name). 
+ [All] (SFTP) Added simplified ListDirectory method which accepts path as parameter
+ [All] (SFTP) Added an overloaded version of Upload*/Download* methods to support resuming of transfer with possibility to specify restart position

---
February 24, 2008
Version 6.0.134. Release Candidate 2

* [.NET] (SSL) Changes in behaviour of Available property in ElSocket
- [.NET] (FTPS) Active mode was broken by recent change in ElSocket.Bind() method implementation. Fixed. 
- [VCL] (SFTP) Fixed some memory leaks.


---
February 14, 2008
Version 6.0.133. Release Candidate 1


+ [All] (SFTP) Added bandwidth control properties to ElSimpleSFTPClient (AX: properties added only to V6 interfaces)
+ [All] (SSH) Added bandwidth control properties to ElSimpleSSHClient (AX: properties added only to V6 interfaces)
+ [All] (SSL) Added bandwidth control properties to ElSimpleSSLClient, ElSimpleFTPSClient, ElHTTPSClient, ElSMTPClient (AX: properties added only to V6 interfaces)
+ [All] (PDF) Added Rotate property to ElPDFSignatureWidgetProps and ElPDFPageInfo.


---
January 26, 2008
Version 6.0.132. Beta 3

+ [All] (SSH) Added support for OpenPGP authentication in SSH

+ [.NET, VCL] (PGP) Added support for processing multiple files when signing or encrypting the files
+ [.NET, VCL] (PDF) Added possibility to sign attachments to PDF documents
+ [.NET] Added Visual Studio 2008 project files for sample projects

- [.NET] Fixed integration of the components into Visual Studio 2008 IDE
- [AX] Fixed PGPBBox6.dll which could not be properly registered.
- [AX] Included proper .h files in VCWrappers folder.

---
January 19, 2008
Version 6.0.131. Beta 2

+ [All] (HTTP) Added Digest authentication
+ [.NET] (HTTP) Added NTLM authentication

+ [.NET] (FTPS) Added RemoteCodePage property to control charset conversion between local and remote systems
+ [.NET] (FTPS) Added OnTextDataLineAsString, OnControlSendAsString, OnControlReceiveAsString events. These events are similar to OnTextDataLine, OnControlSend, OnControlReceive however they contain strings converted from the byte array using RemoteCodePage property
+ [.NET] (SSL) Added ElSSLSocket.CloseSocket() method to close the blocking connection from the other thread.
+ [All] (PKI) Added ElPublicKeyMaterial.LoadFromXML and SaveToXML methods to load and save the keys from/to XML strings.

* [All] (SSH) Improved compatibility of X.509-based authentication with OpenSSH servers
* [All] (SFTP) Improved work with servers which do not return file sizes
* [All] (FTPS) Added a workaround for WS_FTP server which returns incorrect error code in response to FEAT command

- [All] (PKI) Fixed bug in handling signatures using certificates with negative serial number
- [.NET] (HTTP) Fixed a bug with incorrect request created when request cookies were set

---
December 29, 2007
Version 6.0.130. Beta 1

* [.NET] (SSH) Improved detection of old servers, which don't understand newer encryption algorithms correctly and close connection. 

---
December 3, 2007
Version 6.0.127. Internal build
             
+ [.NET, VCL] (FTPS) Added UseFEATCmd property to ElSimpleFTPSClient. Some servers don't support FEAT command correctly. 

* [.NET, VCL] (PDF) Improved support for non-standard TSP replies

- [All] (HTTP) Improved handling of code 100 (Continue)
- [All] (HTTP) In some rare cases OnDocumentEnd could be fired without previous OnDocumentBegin. Now they always come in pairs. 

---
October 18, 2007
Version 6.0.126. Internal build

+ [.NET, VCL] (MIME) Added ElSimpleMIMEAttachment.AttachFile method to attach the data from the file

---
October 18, 2007
Version 6.0.125. Internal build

+ [.NET, VCL] (SSH) Added support for specifying custom order of SSH authentication types to try
+ [.NET, VCL] (SSH) Added support for password change requests
+ [.NET, VCL] (SSH) Several authentication attempts are now supported
+ [.NET, VCL] (SSH) Added keep-alive support to simple forwarding components

* [All] (SSH) Improved compatibility with some buggy servers

- [All] (SSH) Fixed minor bug in simple forwarding components which could lead to session freezing
- [All] (PKI) It was not possible to create a PSS signature with Win32 system certificate. Fixed.


^^^^^^^^^^^^^^^^^^^
^^^ Version 5.2 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
October 9, 2007
Version 5.2.124. Internal build

+ [.NET, VCL] (MIME) Fixed ElSMTPClient to send EHLO again after SENDTLS as suggested by the RFC

---
October 3, 2007
Version 5.2.123. Maintenance update

+ [.NET, VCL] (FTPS) Added GetNameList method with parameters (to work around the bug of some servers which don't understand NLST command without parameters)
+ [All] (SSH) Added UTF8 support
+ [All] (SSH) Added KbdIntName and KbdIntInstruction properties for accessing corresponding keyboard-interactive authentication parameters
+ [All] (SSH) Added ExitStatus and ExitMessage properties to TElSimpleSSHClient
+ [.NET, VCL] (SSH) Added support for password change requests
+ [All] (SSH) Simple forwarding components: Added support for tunneling of multiple ports through a single SSH connection

* [All] (SSH) Simple forwarding components: Improved speed and CPU usage level
- [All] Fixed a bug in ElSocket.CanSend method which could cause slowdown with some components (including simple SSH port forwarding components)


---
September 25, 2007
Version 5.2.122. Maintenance update

* [All] (SSH, SFTP) Keyboard authentication was not enabled by default in ElSimpleSSHClient and ElSimpleSFTPClient.


---
September 14, 2007
Version 5.2.121. Major update

+ [All] (PKI) Added lcCertificateHash search criteria to TElCertificateLookup

---
September 6, 2007
Version 5.2.120. Release Candidate 3

+ [All] (PGP) Added a constructor TElPGPSignature (Source : ElPGPSignature; CopySigMaterial : boolean), which copies one signature to another for later re-signing
+ [All] (PGP) Added TElPGPSignature.SignatureClass property 
+ [All] (PGP) Added TElPGPSignature.CertificationType property 
+ (SSH) Implemented support for automatic port assignment for simple forwarding components

* [All] (All) Removed several minor memory leaks
* [All] (SSH) Optimized server-side connection handlers
* [VCL] (SFTP) Improved the implementation of TElIdSFTP component

- [All] (PGP) Fixed problems with key and subkey revocation
- [All] (SSL) Implemented correct error handling in cases when the IDEA algorithm support is not available
- [All] (PKI) Fixed key size calculation problem in ElCertificateRequest
- [All] (PKI) Fixed verification of ElCertificateRequest signature for base64-encoded requests. The bug could lead to improper denial of the valid requests.
- [.NET] (FTPS) Fixed socket issue with transferring small files on multi-core CPU.
- [AX] (SFTP) SftpFileAttributesX.UserWrite property could not be set. This could lead to inability to properly adjust file or directory permissions. Fixed.

---
August 28, 2007
Version 5.2.119. Internal build


---
August 16, 2007
Version 5.2.118. Release Candidate 2

+ (PKI) Implemented complete CMS (cryptographic message syntax) support (RFCs 2630, 3126)
+ (PKI) Introduced TElMemoryCRLStorage class
+ (SSH) Added support for keep-alive messages 
+ (XML) Added timestamp methods (till XAdES-A) to XAdES interface classes
* (PGP) Improved ASCII mode support for encrypted messages
* (FTPS) Improved compatibility with some specific servers
* (SFTP) Improved compatibility with some specific servers
* (SSL) Improved compatibility with some specific clients
* (PDF) Improved compatibility with Acrobat-generated certificates
- (PKI) Several minor OCSP bugs fixed


---
July 25, 2007
Version 5.2.117. Release Candidate 1

! [.NET, VCL] DomainKeys changed to DKIM release implementation
+ [VCL] Added C++Bulder 2007 support
* ElGamal algorithm implementation has been significantly improved
* Improved speed of asymmetric cryptography functions
* (PGP) Improved speed of cleartext operations
- (PGP) Fixed cleartext signing issues



---
June 19, 2007
Version 5.2.116. Beta version

+ [.NET, VCL] (SSH) Added support for SSH rekeying initiation
+ [.NET, VCL] (PKI) Added support for PKCS#7 signature timestamping [without performing signing operation]

* [.NET, VCL] (PDF) Improved processing of hybrid-reference PDF documents
* [All] (PKI) Improved compatibility with XEnroll-generated CSRs

- [.NET, VCL] (PDF) Fixed minor PDF decryption issue (several kinds of objects were not decrypted properly)
- [All] (PKI) Fixed minor CSR generation issue (incorrect hash algorithm prefix was used for MD5 and SHA2 requests)


---
June 10, 2007
Version 5.2.115. Beta version

* (All) (FTPS) Improved compatibility with some FTP servers (namely WS_FTP)
- [.NET] (MIME) DayOfWeek was not written properly to a MIME message. FIxed.
- [VCL] (SSH) Server-side components had certain memory leaks. Fixed.

---
June 6, 2007
Version 5.2.114. Beta version

- [All] ElSocket sometimes didn't receive all the data from WebTunneling proxy.
- [.NET, VCL] (PKI) Fixed work with Java Key Store
- [.NET, VCL] (MIME) MessagePart.SetData didn't properly copy the data, if MakeCopy parameter was set to true. Fixed.


---
May 28, 2007
Version 5.2.113. Beta version

+ [All] (SSH) Added notifications about server-side remote port forwarding restrictions
+ [.NET, VCL] (SSL) Added support for OpenPGP authentication in TLS
+ [.NET, VCL] (SSL) Added support for stateless TLS (RFC 4507)
+ [.NET, VCL] (SSL) Added ClientCertStorage property to client-side SSL classes for easier client-side authentication
+ [.NET, VCL] (SSH) Added TElSSHForwardingIntercept class
+ [.NET, VCL] (SFTP) Implemented advanced file removal features (recursive directory deletion and mask-based file removal)

* [All] (SSH) Improved compatibility with some buggy servers
* [All] (SSH) Improved SSH forwarding speed
* [.NET, VCL] (SSH) Added flush-before-close feature to TElSimpleSSHClient
* [All] ElFileCertStorage and ElWinCertStorage attempted to check the license key when the property values were changed in design-time. 

- [All] Fixed ElSocket which could not connect to SOCKS4 server due to a recently made typo mistake


^^^^^^^^^^^^^^^^^^^
^^^ Version 5.1 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^

---
May 12, 2007
Version 5.1.112. Minor update

!!! Removed IDEA algorithm from standard distribution. IDEA is available as a separate download now.

+ [.NET, VCL] (PDF) Added SignAndEncrypt operation to PDF
+ [.NET, VCL] (PKI) Added ErrorInfo property to TElMessage* classes

* [All] (FTPS) Added compatibility with some servers, which send reply for data channel open command after establishing SSL / TLS on the channel
* [All] (FTPS) MODE Z is now switched when needed and not just during Login
* [All] (SFTP) Improved compatibility with F-Secure SSH server
- [All] (FTPS) Fixed a possible decompression problem if the compressed file had compression ratio of over 32:1

- [.NET, VCL] (XML) Encoding could be omited when writing the XML document. Fixed.
- [.NET, VCL] (XML) Fixed a bug when reading some XML documents, formatted with extra spaces. 

---
May 4, 2007
Version 5.1.111. Minor update

+ [.NET, VCL] (SFTP) Added ExtensionCmd method to ElSimpleSFTPClient
+ [.NET, VCL] (PDF) Added 'adbe.pkcs7.sha1' subfilter to PDF signatures
- [.NET, VCL] (PKI) Fixed reporting of OnProgress event in TElMessageSigner.Countersign method
- [.NET] Now the assemblies can be loaded to MS SQL Server 2005
- [All] (PGP) Revoked property of the key was not always loaded from the key data

---
April 26, 2007
Version 5.1.110. Major update

* [.NET, VCL] (PKI) Implement TElMessageSigner.Countersign(Stream, Stream) method correctly 
* [.NET, VCL] (PKI) Implement support for 64 bit streams for TElSymmetricCrypto
- [AX] (SFTP) Fix miscellaneous errors in SimpleSftpDemo (ActiveX/VC++) 
- [.NET, VCL] (XML) Problems decrypting 3DES-encrypted document on Windows 2000

---
April 11, 2007
Version 5.1.109. Release Candidate 1

+ [All] (SSL) Added SRP (Secure Remote Password) cipher suites

+ [All] (FTPS) Added support for MLSD (machine-parseable list directory) command

+ [.NET, VCL] (SSL) Added Datagram TLS client and server

+ [.NET, VCL] Added License Manager component to store the license key in it

+ [AX] (SSL) Added FTPS and HTTP clients

- [.NET, VCL] (PKI) Fixed design-time editing of Certificate Storages
- [.NET, VCL] (MIME) Fixed attachment processing in ElSimpleMIME class

- [.NET] (MIME) Fixed various .NET-specific issues caused by change of the compiler in SecureBlackbox 5

---
March 22, 2007
Version 5.1.108. Beta version

! [.NET] (SSL) El*SSLSocket classes now support on-the fly changing of SSL mode with automatic handshake carried when SSLEnabled is set to true.

+ [.NET, VCL] (XML) Added support for XAdES-T for digital timestamping of the XML signatures

* [.NET, VCL] (XML) Improved behavior of ElXMLVerifier.RemoveSignature method. Now it can remove both enveloping and enveloped signatures.

* [VCL] (PKI) Improved Authenticode components to work with 64-bit PE files.

- [.NET] (PKI) Fixed cryptoprovider classes to provide correct garbage collection of keys and hash contexts
- [.NET, VCL] (XML) Fixed the issue with incorrect quote (") character conversion during canonicalization



^^^^^^^^^^^^^^^^^^^
^^^ Version 5.0 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^


---
February 25, 2007
Version 5.0.107. Minor update

! [All] (SSH) Changed the way ElSimpleSSHClient.ReceiveData method works. Now the method returns as soon as any data are read.

+ [All] (SSH) added support for HMAC-SHA2/RIPEMD
+ [All] (PKI) added support for HMAC-SHA2 to SBMessages and S/MIME
+ [All] (PGP) added support for SHA2/RIPEMD hash algorithms for cleartext signing/verifying

+ [AX] (SSH) Added Commands property to ElSimpleSSHClientX
+ [AX] (SSH) Added an overload for ReceiveText method to ElSimpleSSHClientX
+ [AX] (SSH) Added CanReceive method to ElSimpleSSHClientX
+ [AX] (SSH) Added VBScript sample for ElSimpleSSHClientX

---
February 11, 2007
Version 5.0.106. Minor update

+ [All] (PGP) Added some properties to PGPReader to get information about the encrypted or signed data.
+ [All] (SFTP) Added FileExists method to check file presense. 

+ [AX] (PGP) Added recent properties of ElPGPCustomSecretKey and ElPGPCustomPublicKey to ActiveX controls
+ [AX] (SFTP) Added ReadDirectoryAsString and ReadDirectoryAsStringList to ElSimpleSftpClientX class for use in FoxPro and scripting environments.

+ [.NET, VCL] (SSH) Added OnSendCommandRequest event to track, what command of the Commands property is being executed next.

- [All] (PGP) Fixed clear-text signing of the text, which doesn't contain end-of-line characters (i.e. consists of just one line of text). 
- [All] (SSH) Multiple commands in Commands property didn't work. Fixed.
- [All] (HTTP) Fixed the incorrect formatting of Cookie header.

- [.NET] (HTTP) Fixed the issues with wrong command being called under .NET CF 1.0.
- [.NET] (MIME) Date/time timezone offset was not written properly. Fixed.
- [.NET] (MIME) Content charset parameter was not set due to compiler bug. Fixed (using a workaround).
- [.NET] (Base) Fixed Socks and WebTunneling connections via ElSocket, broken due to change of compiler.

---
January 27, 2007
Version 5.0.105. Minor update

+ [AX] (SFTP) ASCIIMode added to ElSimpleSFTPClient using IElSimpleSFTPClientX4 interface.
+ [All] (SSH) Added the possibility of executing remote commands without requesting a terminal

* [All] (SSH) Improved compatibility with SSH Extreme Router

- [All] (PGP) Enabled property of the key was not copied when the key was duplicated.  Fixed.
- [All] (PGP) If the file has more than one armored block, only the first block was loaded. Fixed.
- [All] (HTTP) If the server reported a relative path in Location: field of 302 (Object Moved) response, the new path was not correctly re-created as an absolute path. Fixed.

- [.NET] (SSH, SFTP) The prompt dialog for keyboard authentication didn't work in most of the samples due to non-functioning OK button. Fixed.
- [.NET] (SFTP) UploadFiles could insert a backslash to the beginning of the file name. The bug appeared in SBB 5 due to change of compiler. Fixed.
- [.NET, VCL] (XML) Fixed processing of ampersand when saving the file

- [VCL, AX] (PKI) Memory corruption occured when trying to load the CER (certificate) file over 4KB large, or use ElX509Certificate.DetectCertFileFormat() method on such file. Fixed.

---
December 25, 2006
Version 5.0.104. Official Release

+ [All] (OpenPGP) Added DSA2 support
+ [All] (PKI) Added HMAC-SHA2 support

* [.NET, VCL] (FTPS) Improved error handling during data transfer
* [.NET, VCL] (XML) Changed some TElXMLDOMDocument methods for easier use of DelayLoadModes.

- [.NET, VCL] (FTPS) Fixed the problem with upload speed (broken in one of previous builds)

---
December 16, 2006
Version 5.0.103. Release Candidate 2

---
December 9, 2006
Version 5.0.102. Release Candidate 1

* (PDF) PDF classes now process the data without loading them completely to memory

* [.NET] SecureBlackbox can now be used from partially trusted assemblies
* [All] (SSH) Keyboard-interactive authentication is now handled automatically, if nothing was handled by the application. This is done by passing a password.

- [All] (PDF) several miscellaneous minor errors fixed
- [All] (SSH) fixed remote port forwarding functionality (broken in the previous build)
- [All] (SSH) fixed thread-safety problem in simple forwarding components

---
November 10, 2006
Version 5.0.101. Beta version

* [.NET] (FTPS) Fixed the issue with parsing FEAT reply from the server


---
November 6, 2006
Version 5.0.100. Beta version

+ [All] (PKI) Added stMemory storage type in ElWinCertStorage class. 

* [VCL] Improved nag screen display behaviour to not show the nag screen in design-time

* [.NET, VCL] (FTPS) Improved MODE Z request sending

- [All] Fixed socket class, which could not be reused if previous connect attempt failed under certain circumstances.
- [All] (PKI) Fixed ElWinCertStorage.Add method when it was used to add the certificate to registry or LDAP stores.

- [VCL] Fixed various C++Builder-specific issues which happened due to compiler bugs
- [.NET] (SFTP) SimpleSFTPClient.MessageLoop event was not working correctly. Fixed. 
- [.NET] (SSL) Updated RemObjects InternetPack classes and samples
- [.NET, VCL] (FTPS) Fixed the data transfer abort procedure


---
October 19, 2006
Version 5.0.99. Beta version

+ [All] (PKI) Added support for unencrypted private keys in PFX files
+ [All] (PKI) Added support for DSA2 algorithm
+ [All] (PKI) Added support for id-ea-rsa algorithm in certificates
+ [.NET, VCL] (OpenPGP) Added algorithm properties to PGP/MIME classes. 
+ [.NET, VCL] (PDF) Added support for the documents with encrypted object streams
+ [.NET, VCL] (PKI) Added improved support for countersignatures
+ [.NET, VCL] (PKI) Added ElPKCS11Manager class
+ [.NET, VCL] (PKI) Added support for Java KeyStore format in certificate storages

+ [All] (SSH) Added support for keep-alive signals
* [.NET, VCL] (HTTP) Username and password can now be specified in the URL
* [.NET, VCL] (PKI) Added compatibility with several types of PKCS#11 tokens
* [All] (SSH) Added workaround for compatibility with Tectia clients
* [.NET, VCL] (PDF) Added workaround for greater signature compatibility with Adobe Acrobat software

- [All] (Base) Fixed minor bug in Elgamal implementation
- [.NET, VCL] (PDF) Fixed minor bug in PDF certificate encryption
- [.NET, VCL] (HTTP) Multiple cookies, set using RequestCookies, were sent to the server incorrectly. Fixed. 
- [.NET, VCL] (PDF) Fixed minor bug in PDF certificate encryption
- [.NET] (Base) Fixed minor bug in Serpent implementation
- [All] (SFTP) Fixed minor bug in ElSimpleSFTPClient.DownloadFile method
- [AX] (SFTP) Fixed minor bug in ElSftpClientX.RemoveFile method
- [AX] (PKI) Fixed minor bug in certificate request processing

---
September 19, 2006
Version 5.0.98. Beta version

+ [.NET, VCL] (PDF) Added read-only support for the documents, which are both signed and encrypted.
+ [AX] Added ElSocketX class
+ [.NET, VCL] (FTPS) Added passive mode IP address adjustment for NATted servers

* [All] (PKI) Improved work with huge (over 2Gb) documents in PKCS#7 (SBMessages)
* [All] (OpenPGP) optimized decryption code

- [All] (OpenPGP) fixed several memory leaks in key management routines
- [.NET, VCL] (MIME) fixed several MIME parsing problems
- [.NET, VCL] (HTTP) fixed minor hangup issue
- [All] (PKI) fixed minor CRLDistributionPoints writing error
- [All] (FTPS) Fixed the issue with passive mode and some servers, which erroneously send 226 during Receive procedure before the actual transfer takes place. 
- [All] (SSL) ElSimpleSSLClient (and also ElSMTPClient and ElHTTPSClient) could go into an infinite loop in certain conditions, if SSL handshake could not be completed. Fixed.

---
September 2, 2006
Version 5.0.97. Beta version

! [.NET, VCL] FTPS and HTTPS are now part of SSLBlackbox Client-Only package.

+ [.NET, VCL] (FTPS) Added MODE Z (compression) support
+ [All] (OpenPGP) Added TElPGPPublicKey.PrefferedSymAlgs/TElPGPPublicKey.PrefferedSymAlgCount, TElPGPPublicKey.PrefferedHashAlgs/TElPGPPublicKey.PrefferedHashAlgCount, TElPGPPublicKey.PrefferedComprAlgs/TElPGPPublicKey.PrefferedComprAlgCount properties
+ [AX] (SSL) Added IElSimpleSSLClient interface with ReceiveDataEx method

- [.NET] (SFTP) DownloadFiles and UploadFiles didn't work due to the error in file name handling code. Fixed.
- [.NET] (OpenPGP) Fixed error in SBPGPMD, which caused SHA2/RIPEMD hashes to work incorrectly.
- [VCL] (SSH) Fixed critical error in TElSSHServer, which caused incorrect DSA signature generation.

---
August 13, 2006
Version 5.0.96. Beta version

+ [.NET] (PKI) PKCS#11 support added

- [AX] (SSH, SFTP) Some components could not be created in ASP environment. Fixed.
- [.NET] (SFTP) File Attribtes were not always obtained correctly. Fixed.

August 6, 2006
Version 5.0.95. Beta version

! TSBCertificateValidity and TSBCertificateValidityReason types have been moved from SBCustomCertStorage to SBX509.

+ [.NET, VCL] (MIME) Added TElSimpleMIMEMessage class for easy creation of mail messages. Also added TElSimpleSMIMEMessage and TElSimplePGPMIMEMessage message for S/MIME and PGP/MIME accordingly.
+ [.NET, VCL] (MIME) Added TElSMTPClient component for mail delivery. Requires SSLBlackbox Client-Only or other licenses (which include SSLBlackbox Client-only) for use.
+ [.NET, VCL] (FTPS) Added support for SIZE command to obtain the size of the file being downloaded (in order to report correct OnProgress values).
+ [.NET, VCL] (PKI) Added TElX509CertificateChain class which represents a certificate chain. End-entity certificate has the index of 0, it's CA has index 1 and so on.
+ [.NET, VCL] (PKI) Added TElCRLDistributionPointExtension.Included property, which controls which of object's properties should be written to the certificate.
+ [.NET, VCL] (PKI) Added support for Authenticode timestamping to TElTSPServer classes
+ [VCL] (PKI) Added support for Authenticode timestamping to TElAuthenticode* classes

* [All] (SSL) Improved the process of OnCertificateValidate and OnCertificateNeededEx event invokation
* [All] (OpenPGP) Improved PGP operation speed.
* [All] (OpenPGP) Changed TElPGPSecretKey.EndGenerated method - added  UseOldFormat parameter.
* [All] (OpenPGP) Added TElPGPPublicKey.Version and TElPGPSecretKey.Version properties.
* [.NET, VCL] (SSH) Added EOLMarker parameter to TElSSHKey.SavePublicKey. The parameter allows to specify the type of EOL marker (CRLF, CR, LF)
* [.NET, VCL] (HTTP) Added RequestCookies and ResponseCookies properties to TElHTTPSClient

- [All] (PKI) Signing, decryption and some key exchange operations with a certificate, located in LocalMachine Windows certificate storage with non-exportable private key didn't work. Fixed.
- [All] (OpenPGP) Fixed compatibility with non-standard PGP 8.1 photo packet.
- [AX]  (OpenPGP) TElPGPReader.OutputStream property didn't work. Fixed.
- [.NET, VCL] (PKI) Fixed various minor standard-compliancy bugs in TSP components
- [.NET, VCL] (PKI) Fixed various minor standard-compliancy bugs in OCSP components



^^^^^^^^^^^^^^^^^^^
^^^ Version 4.4 ^^^
^^^             ^^^
^^^^^^^^^^^^^^^^^^^


---
July 20, 2006
Version 4.4.0.94. Minor update.
- [All] (OpenPGP) Fixed the hanging in DecryptAndVerify() method.
- [All] (OpenPGP) Fixed the problem with TElPGPSecretKey.Passphrase property being reset unexpectedly

---
July 16, 2006
Version 4.4.0.93. Minor update.

+ [All] (SSH) FSecure private key format is supported.
* [All] (SSH) Connecting to Tectia 5 servers didn't work due to the bug in the server. Workaround added.
- [.NET] (PKI) OCSP client request didn't include a signature and responder name. Fixed.

---
July 12, 2006
Version 4.4.0.92. Minor update.

* [All] (PKI) Now TElX509Certificate.LoadFrom*SPC and TElX509Certificate.LoadFrom*PFX attempt to load the end-entity certificate, if more than one certificate is present in the input data.
* [All] (PKI) Now base64-encoded certificate, certificate request and CRL files are detected and loaded.
* [All] (SSH) SSH.com private keys, converted by F-Secure (from their private format) could not be loaded. Fixed.

- [All] (SFTP) Downloading and uploading of 0-byte-long files in synchronous mode or using TElSimpleSFTPClient was fixed (didn't work since build 90)
- [.NET] (SFTP) File renaming didn't work with SFTP versions 5 and 6. Fixed.

---
July 9, 2006
Version 4.4.0.91. Minor update.

! [.NET, VCL] (OpenPGP) Parameters of OnProgress event have been changed to support 64-bit files. Current code will be broken, unfortunately.

+ [VCL] (SSL) Added RealThinClient helper classes for SSL support
+ [AX] (SFTP) Added IElSimpleSFTPClientX3 interface (ElSimpleSFTPClientX class now implements this interface),
  which provides access to recently added properties andd methods of ElSimpleSFTPClientX
+ [All] (SFTP) Added DownloadFiles/UploadFiles and DownloadStream/UploadStream methods to TElSimpleSFTPClient

* [All] (PKI) Added ReplyCertificates to OCSP client
* [.NET, VCL] (OpenPGP) Improved work with huge (over 2Gb) files

- [All] (PKI) Fixed two minor bugs in OCSP client reply parser
- [.NET] (OpenPGP) Fixed a bug with validating detached and clear-signed signatures
- [All] (PDF) Fixed a bug with signing a document with timestamping, when timestamp server returned large timestamp.
- [All] (PDF) Fixed a bug with signing a document with timestamping, when timestamp client returned an error.

---
June 25, 2006
Version 4.4.0.90. Minor update.

+ [.NET, VCL] (FTPS) Added CCC (Clear Command Channel) command.
+ [.NET, VCL] (PKI/HTTP) Added HTTP OCSP client to HTTPSBlackbox

* [.NET, VCL] (SFTP) improved SFTP download speed again
* [.NET, VCL] (SFTP) improved compatibility with various SFTP servers

* [All] (PKI) Now TElX509Certificate.LoadFrom*() detects and handles Base64-encoded certificates (not PEM-formatted!)

* [All] (PKI) Re-implemented OCSP client and server in order to achieve better standard conformance.

- [.NET, VCL] (SFTP) fixed attribute-handling bugs in SFTP server
- [.NET, VCL] (FTPS) Active mode got broken in build 86. Fixed.
- [.NET] (PKI) problem with opening System Certificate Storages on .NET CF were fixed.
- [.NET, VCL] (OpenPGP) Fixed writing of armoured keyrings.

---
May 31, 2006
Version 4.4.0.89. Minor update.

+ [.NET, VCL] (PKI) Added DefaultPolicy property to TSP server.

- [.NET, VCL] (PKI) Fixed reading of PEM files with CRLF and LF mixed in a single data block.
- [.NET, VCL] (PKI) Fixed certain Nonce- and Accuracy-related problems with TSP server.
- [.NET] Fixed the problem with table-based charsets in SecureBlackbox.Charsets assembly.
- [VCL] (SFTP) Fixed the memory leak, introduced in build 88 when uploading or downloading the files.

---
May 24, 2006
Version 4.4.0.88. Minor update.

! [All] (SFTP) Dramatically improved speed of file upload/download

+ [.NET, VCL] (SFTP) Added certain properties (UploadBlockSize, DownloadBlockSize, PipelineLength) for better control of upload/download operation speed

* [.NET, VCL] (PKI) Added a workaround for handling reformatted MessageImprint, returned by some TSP servers.

* [AX] (SSH) ElSSHKeyX.Headers now returns IUnknown (which you need to cast to IElStringListX)

- [All] (SFTP) Fixed possible error, which could happen when the network connection is closed in SimpleSftpClient
- [All] (OpenPGP) Read-only secret key could not be loaded from keyring correctly due to a problem with setting Expires field.
- [AX] (SSH) ElSimpleSSHClientX.MessageLoop event was not correctly fired if no handler was attached. Fixed.
- [AX] (SSH) ElSSHKeyX could not be viewed in Watch window of Visual Basic. Fixed.

---
May 18, 2006
Version 4.4.0.87. Internal update

---
May 16, 2006
Version 4.4.0.86. Major update.

+ [.NET, VCL] (SSL) Added ElSimpleSSLClient.CanReceive() method.

* [All] (PKI) Now no exception is raised if the loaded certificate contains unknown algorithms
* [.NET, VCL] (PDF) Added an exception which is raised during attempt to apply MDP signature to the document with templates. Previously incorrect signature was applied.
* [.NET, VCL] (PDF) Improved signing of certain documents.
* [.NET] (SSH) Fixed saving of SSH public key in OpenSSH format. Previously the prefix ended with 0x0 character, and this confused users.
* [AX] (PKI) Now text-form OIDs can be passed to IElRelativeDistinguishedNameX.SetOID

- [AX] (PKI) Fixed ElRelativeDistinguishedName class to write text data as PrintableString (otherwise the text is not displayed by Windows Certificate Manager)
- [All] (PKI) Fixed TElRSAKeyMaterial which incorrectly saved PEM-encoded private key
- [All] (PKI) Fixed ASN.1 writer which saved large integer values with leading zero (thus confusing some inflexible software like the one from RSA Security)
- [All] Fixed the bug in ElSocket, which prevented connection of the socket, if LocalAddress was set for outgoing socket.

---
May 7, 2006
Version 4.4.0.85. Major update for ActiveX.

- (PKI) Fixed TElRSAKeyMaterial which incorrectly saved PEM-encoded private key
- (PKI) Fixed ASN.1 writer which saved large integer values with leading zero (thus confusing some inflexible software like the one from RSA Security)

---
April 30, 2006
Version 4.4.0.84. Release candidate.

+ [AX] (OpenPGP) Added PGPBlackbox to ActiveX edition. PGPBlackbox/AX is now in beta since ActiveX/VB6 declarations are not present in documentation.

* [.NET, VCL] (PDF) Added possibility to Base16-encode the textual data in PDF signatures to avoid certain compatibility and charset management problems.
* [.NET, VCL] (PDF) Added possibility to change appearance of existing signature fields.
* [.NET, VCL] (SSH, SFTP) Now keyboard-interactive authentication can optionally be tried as the last authentication attempt (instead of the first, as before).
- [VCL] (SSH, SFTP) minor fixes in SSH Indy IOHandlers.

---
April 19, 2006
Version 4.4.0.83. Beta version.

! [.NET] Changed installation procedures and deployment instructions

! [.NET, VCL] Introduced new supplementary Charsets package (SecureBlackbox.Charsets assembly in .NET and ChsBBox in VCL).

+ [.NET, VCL] Added XMLBlackbox package to SecureBlackbox Professional
+ [.NET, VCL] Added BZip2 support (currently used in PGP)

- [AX] (SSH, SFTP) Fixed a problem with accessing certain objects (SftpFileInfoX, SSHKeyX) from scripting environments or when using Variants (i.e. via IDispatch).

---
April 13, 2006
Version 4.4.*.82. Beta version.

! Speed optimization in most symmetric encryption algorithms

+ [.NET, VCL] (SSH) Added SimpleSSHPortForwarding components
+ [.NET, VCL] (PKI) Added asynchronous operations in ElX509Certificate (generation)
+ [.NET, VCL] (OpenPGP) Added asynchronous operations in PGP (key generation and signing / encryption)

- [.NET, VCL] (HTTP) Fixed certain authentication issues (including NTLM POST/PUT problems).
- [VCL] (SSH, SFTP) Fixed IndySSH and IndySFTP classes which wwere not properly created in Indy 10 in design-time

---
March 31, 2006
Version 4.3.0.81. Minor update for ActiveX.
- [.AX] (SSH, SFTP) Fixed keyboard authentication in SSH client

---
March 29, 2006
Version 4.3.*.81. Release for .NET CF and Mono.

- [.NET] Fixed some resource leaks.

---
March 24, 2006
Version 4.3.1.80. Release Candidate for .NET CF and Mono.

---
March 11, 2006
Version 4.3.80. Minor update.

+ [VCL, .NET] (PKI)  Added high-level classes for symmetric encryption
+ [.NET] (PKI)  Fixed certain ASN.1 issues, that caused some certificates to be written incorrectly
+ [AX] (SFTP) Added C++ and VB samples for SimpleSFTP component

- [AX] (SFTP) Fixed the access violation error which happened upon reconnection
- [VCL, .NET] (FTPS) Fixed some bugs in FTPS handling of the Passive mode
- [VCL, .NET] (HTTP) Fixed a bug for 100-Continue response code handling
- [VCL, .NET] (OpenPGP) Fixed minor bug in PGP keys (Expires property was not initialized).


---
February 20, 2006
Version 4.3.79. Major update.

!!! [.NET]
!!!
!!! Due to possible assembly conflicts in .NET 2.0, additional assemblies have been introduced.
!!!
!!! SecureBlackbox.SSLCommon is now required by SecureBlackbox.SSLClient, SecureBlackbox.SSLServer, SecureBlackbox.SSLSocket
!!! SecureBlackbox.SSHCommon is now required by SecureBlackbox.SSHClient, SecureBlackbox.SSHServer, SecureBlackbox.Sftp, SecureBlackbox.SFTPServer
!!! SecureBlackbox.SFTPCommon is now required by SecureBlackbox.Sftp, SecureBlackbox.SFTPServer
!!!

+ [VCL, .NET] Now it's possible to globally disable patented IDEA algorithm

+ [VCL, .NET] (PDF) Now PKCS#1 signing is supported by PDF signer
+ [VCL, .NET] (PDF) Added timestamping capabilities to PDF signer
+ [VCL, .NET] (PKI) Added timestamping capabilities to ElMessageSigner
+ [VCL, .NET] (PKI/HTTPS) Added HTTP Timestamping Protocol Client component
+ [VCL, .NET] (SSL) Added TLS extensions

- [.NET] Fixed PEM.Decode function which in certain cases incorrectly handled encrypted PEM data.
- [All] (PKI) Fixed ElX509Certificate which didn't handle some EFS certificates correctly.

---
January 28, 2006
Version 4.3.78. Beta version.

+ [VCL, .NET] (HTTP) Added HTTP / HTTPS client component
+ [VCL, .NET] (PKI) Added Timestamping Protocol components
+ [VCL, .NET] (PKI) Added higher-level classes for RSA encryption and signing and for DSA signing
+ [VCL, .NET] (SSL) Added pre-shared key cipher suites

* [All] (PKI) Now when the data is signed with TElMessageSigner, and AuthenticatedAtributes are added, hash is written according to CMS specification. Previously the application had to write the hash itself (as defined in PKCS#7).

- [VCL, .NET] (OpenPGP) AES 256 was disabled. Fixed.

---
January 18, 2006
Version 4.2.77. Minor update.

+ [VCL, .NET] (PKI) Added SBPEMProcessor class for PEM encoding/decoding operations.

- [All] (SSL) Fixed SetLicenseKey method which prevented server-side TLS 1.x from working properly.
- [VCL, .NET] (PDF) Fixed an issue with PDF document signatures when multiple certificates were passed to the signing handler.

---
January 13, 2006
Version 4.2.76. Minor update.

+ [All] (SSH) Added new key exchange algorithm: SSH_KEX_DH_GROUP_14
+ [VCL, .NET] (PKI) Added methods for loading/saving many certificates to/from PKCS#7 format to ElCustomCertStorage class. Note, that only binary PKCS#7 files are handled (i.e. not base64-encoded).

- [All] Fixed MD2 support
- [All] Fixed ElSharedResource implementation which could lead to problems with high multithreaded load on certificate storages, key storages and some other thread-safe classes.
- [VCL, .NET] (FTPS) Fixed passive mode operations.
- [VCL] (SSH) Fixed LocalPortForwarding demos
- [.NET] Fixed installer which failed on the systems, which didn't have .NET Framework SDK 1.1 installed

---
December 24, 2005
Version 4.2.75. Minor update.

!!! [VCL, .NET]
        (SSL) Certain event type declarations have been moved from SBClient and SBServer to SBSSLCommon.
        SBClient.TSBValidateCertificateEvent has been renamed to SBSSLCommon.TSBCertificateValidateEvent.
        Please see sample applications for details about the changes made.

! [VCL] (SSL) SSLBBoxCli*.dpk packages have been added. Client-side SSL components have been moved from SSLBBoxSrv*.dpk to these new packages.
  You need to install SSLBBoxCli*.dpk as well as SSLBBoxSrv*.dpk.
+ [VCL, .NET] (SSL) Added compression to SSL client and server

---
December 18, 2005
Version 4.2.74. Minor update.

* [VCL, .NET] (PDF) Added support for signing and decryption with non-exportable private keys, contained in Windows Certificate storage or in PKCS#11 storages.
* [AX] (SSH) Fixed key validation routine
* [.NET] (SSH) Added SSH Server sample for C#

---
December 08, 2005
Version 4.2.73. Major update.

+ [VCL, .NET] (FTPS) Added FTP / FTPS Client component.
+ [VCL, .NET] (SFTP) Added SFTP 5 and SFTP 6 support.
+ [VCL, .NET] (SFTP) Added OnProgressEvent to ElSimpleSFTPSClient.
* [All] (SSH) Fixed key re-exchange problems.
- [VCL, .NET] (PDF) Fixed various bugs (mainly compatibility problems).

---
November 14, 2005
Version 4.1.72. Minor update (.NET edition only)

+ Added .NET 2.0 and Mono support. Note, that support is provided in a separate, "experimental" installation. .NET CF support is to come later.

+ (PDF) Fixed some signing issues with large files.
* (PKI) Generated certificates were not loaded by Java 1.4.x due to Java bug. Workaround added.

---
October 22, 2005
Version 4.1.71. Major update

+ [VCL, .NET] (PDF) PDFBlackbox released
+ [All] (OpenPGP) Added support for V3 secret keys encrypted with CAST5, Blowfish and AES128
+ [All] (SSL) Added support for Camellia ciphersuites
* [VCL, .NET] (SFTP) Added TElSftpClient.UseUTF8 and TElSimpleSftpClient.UseUTF8 properties.
* [All] (OpenPGP) Added TElPGPReader.Passphrase and OutputStream properties
- [All] (OpenPGP) ElPGPKeyring raised an exception on empty keyrings. Fixed.

---
October 6, 2005
Version 4.1.70. Beta version

+ [VCL, .NET] (PDF) PDFBlackbox BETA released
+ [VCL] (SSL) Added ElSecureServerSocket demo application
- [VCL] (SSL) Fixed a problem with ElSecureServerSocket.OnClientDisconnect event (the event did not fire)
- [VCL] (SSL) Fixed minor memory leak in ElSessionPool class
- [VCL] (PKI) Fixed minor error in ElPKCS11CertStorage component (illegal token removal case)
- [All] (SSL) Fixed minor error in server-side SSL classes (bad handshake with some Java clients)

---
October 1, 2005
Version 4.0.69. Minor update

- (Help) MS Help 2.0 documentation didn't show keyword index correctly. Fixed.
- [.NET] (SSL) Fixed an error that prevented SSLSocket from working correctly in asynchronous mode.
- [VCL] (PKI) Fixed memory leak in ElX509Certificate.LoadFrom* methods.
- [AX] (SSL) Fixed certificate processing error in ElSecureServerX.
+ [All] (PKI) Added support for RSASSA-PSS and RSA-OAEP algorithms

---
September 17, 2005
Version 4.0.68. Minor update

- [.NET, VCL] (OpenPGP) Fixed a problem with decrypting a file which was both encrypted and signed
- [All] (SSH) Fixed a couple of minor bugs

---
August 26, 2005
Version 4.0.67. Minor update

- [VCL] Fixed a problem with setting the license key in evaluation version
- [.NET] Fixed minor S/MIME problem with EncryptAndSign operation

---
August 15, 2005
Version 4.0.66. Internal build

- [VCL] (SSH) Fixed compatibility with Mocana server

---
August 15, 2005
Version 4.0.65. Official release

! MegaBlackbox has been renamed to SecureBlackbox Standard
! License keys have been changed (.NET and ActiveX editions)

+ [.NET, VCL] (PKI) Added OCSP components

---
July 20, 2005
Version 4.0.64. Beta version

+ [All] (SSL) TLS 1.1 support added
+ [All] (SSL) SimpleSSLClient component added
+ [.NET] (SSH) Added SSH server components
+ [.NET] (SSH) Added SFTP server components
+ [.NET] (MIME) Added DomainKeys for .NET

+ [.NET, VCL] (SSL) Added support for cipher renegotiation
+ [.NET, VCL] (SSL) Added OnError event
+ [.NET, VCL] (OpenPGP) Added RIPEMD and SHA 256/384/512 algorithms support
+ [.NET, VCL] (PKI) Added PKCS#5 and PKCS#8 support
+ [.NET, VCL] (PKI) TElGeneralName class got PermanentIdentifier member (RFC 4043)

- [.NET, VCL] (OpenPGP) fixed a memory leak in decompression
- [VCL] (PKI) ElAuthenticodeVerifier.RemoveAuthenticode() method didn't work. Fixed.
- [VCL] (MIME) Fixed DomainKeys canonicalization and signing.

---
June 4, 2005
Version 3.3.63. Internal release.

---
May 9, 2005
Version 3.3.62. Minor update
+ [.NET] (OpenPGP) RSA keys didn't work. Fixed.

---
May 8, 2005
Version 3.3.61. Minor update
+ [AX] (PKI) Added SystemStores and PhysicalStores to ElWinCertStorage' DLL interface
+ [.NET, VCL] (MIME) Added SecureMail sample that shows how to use PGP/MIME and S/MIME
* [All] (SSH) Added a workaround for an RSA public key authentication bug in F-Secure SSH server
* [.NET, VCL] (MIME) Added support for non-S/MIME-compliant messages and messages with broken signature (before they were not unsigned, now they are unsigned with the warning about broken signature)

---
April 29, 2005
Version 3.3.60. Minor update
- [.NET] (MIME) Fixed a bug (introduced in build 59) which caused MIME parser to go to infinite loop
- [.NET] (SSH) Fixed a bug (introduced in build 59) when SimpleSSHClient didn't work correctly
- [.NET] (PKI) Fixed a very specific problem with certain Windows Certificate Storage operations failing on storages, other than CurrentUser

---
April 25, 2005
Version 3.3.59. Minor update

+ [All]  (PKI) Added support for HMAC and AuthenticatedData subtype to PKCS#7 messages
+ [All]  (PKI) Added support for SHA 256/384/512 as a hashing algorithm for ElMessageSigner
+ [.NET, VCL] (SSH) Added CommandList property to CommandSSHTunnel in SSH client
* [.NET, VCL] (MIME) Parsing speed significantly improved
* [VCL] (SSH, SFTP) SSH server now supports authentication using several authentication methods at once (using OnFurtherAuthNeeded event)
* [VCL] (SSH, SFTP) Improved worker loop (in SSH server handlers), which could cause 100% CPU load in certain cases
* [.NET, VCL] (OpenPGP) Implemented support for old PGP comment packet
* [.NET, VCL] (OpenPGP) Implemented support for PGP private/experimental packets
* [.NET, VCL] (OpenPGP) ElPGPKeyring class made thread-safe
- [All]  (PKI) The library didn't work correctly with keys with integer length, which had a number of bytes, not divisible by 4.
- [.NET, VCL] (MIME) Fixed an issue with duplicate charset writing of the message part.
- [.NET, VCL] (MIME) Charset was added/changed also when assemling from source. Fixed.
- [.NET, VCL] (MIME) SMIME handler didn't handle encrypted multi-part messages. Fixed.
- [All] (SSH, SFTP) SSH key class was improved to strip leading zeros from key's long integer values
- [VCL] (SSH, SFTP) SSH server incorrectly reported public-key algorithms, for which it didn't have keys. Fixed.
- [VCL] (SSH, SFTP) Fixed a problem in SFTP client (which could set) and SFTP server (which didn't understand) file type value of 0. Now FileType of ftFile is always set for default attributes on the client and now 0 is treated as ftFile on the server.
- [VCL] (SFTP) SFTP server incorrectly handled invalid directory names. Fixed.
- [VCL] (SFTP) TElSFTPSSHSubsystemHandler.Execute caused 100% CPU load. Fixed.
- [VCL] (SSH) TElCustomSocketForwardingSSHSubsystemHandler.Execute caused 100% CPU load. Fixed.


---
April 10, 2005
Version 3.3.58. Minor update
- [.NET] (All) AES encryption fixed (AES192 and AES256 didn't work due to specifics of .NET assembly linker).

---
April 5, 2005
Version 3.3.57. Minor update
+ [All]  (SSH, SFTP) ElSimple*Client components got SOCKS and WebTunneling support
+ [All]  (SSH, SFTP) ElSimple*Client components support socket timeouts now
+ [All]  (SFTP) DownloadFile and UploadFile methods were added to ElSimple*Client component
+ [AX]   (All) Helper classes for array transformations and binary file read/write operations were added
+ [AX]   (SSH) Added support for dynamic tunnels (SSH 2 only)
+ [.NET, VCL] (MIME) EncoderSignTime and DecoderSignTime properties were added to TElMessageHandlerSMIME class
* [VCL]  (SSL) ICS HTTPS Client has been fixed to work around recent ICS addition, which was made to prevent use of external (to ICS) SSL solutions like SecureBlackbox.
* [VCL]  (SFTP) Improved compatibility of SFTP server code (and sample) with third-party clients (PuTTY and OpenSSH)
- [.NET] (PKI) Fixed GetIssuerCertificate method which could produce OutOfRangeException
- [.NET] (PKI) Fixed X509Certificate.DecryptWin32 metod (the bug which made it impossible to decrypt the data with Windows-contained certificate with non-exportable private key)
- [.NET] (MIME) Fixed verification of S/MIME signed messages
- [AX]   (PKI) Wrapper folder (necessary for DLL usage) was missing from PKIBlackbox installation.


---
Version 3.3.56. Major update
+ [All]  (PKI) Added CRL property to ElCustomCertStorage for easier validation of the certificates
+ [VCL]  (MIME) DomainKeys support added
+ [.NET] (OpenPGP) VB.NET samples for PGP.NET were added.
+ [.NET] (SSL) RemObjects.InternetPack classes and samples added.
+ [.NET] (SSL) RemObjects SDK.NET samples added.
+ [VCL]  (SSL) NexusDB 2 SSL transport and demo added.
* [AX]         Controls have been split into new libraries.
- [.NET] (SSH, SFTP) Use of built-in socket sometimes caused 100% load and dramatic slowdown of operations. Fixed.
- [.NET] (PKI) Large (over 65K) ASN.1 sequences could not be parsed. This bug mainly affected Certificate Revokation Lists. Fixed.
- [.NET] (MIME) Parsing of some multipart messages was done wrong. Fixed.
- [All]  (SSL) Fixed a problem with client-side certificates in SSL3 (when both SSL3 and TLS1 were enabled with SSL3 being active).
- [All]  (PKI) TElX509Certificate didn't correctly handle certain PEM files. Fixed.
- [All]  (PKI) TElMessageDecryptor couldn't decrypt the data with certificate stored in WinCertStorage, if the private key couldn't be exported. Fixed.
- [VCL]  (SFTP) Various fixes in SFTP server

---
Version 3.2.55. Minor update
+ [.NET] (OpenPGP) Various PGP.NET bugs fixed.
+ [VCL] (SSH) SSH Server improved.
+ [VCL] (SFTP) SFTP Server added.
+ [All] (PKI) Added PEM format to CRL
+ [All] (PKI) Added a sample for Certificate Request generation
* [VCL] (SSL) RemObjects demo was updated for RemObjects 3 for VCL
* [VCL] (SSL) Indy demos (client and server) were updated for Indy 10
- [.NET, VCL] (MIME) XMailer header was not set in certain cases. Fixed.
- [All] (SSH, SFTP) if Simple*Client component failed to connect, next connection attempt would fail. Fixed.

---
Version 3.2.54. Minor update

+ [ALL] (SFTP) Added internal socket support to SimpleSSHClient and SimpleSFTPClient components. Now one must not necessarily provide own socket object (although this is possible).
+ [.NET] (OpenPGP) PGP.NET beta is avaialble. Compression doesn't work in this beta.
+ [VCL] (SSH) SSH Server beta is available. Documentation is missing from this beta.
- [ALL] (PKI) Fixed a memory leak in CRL class.
